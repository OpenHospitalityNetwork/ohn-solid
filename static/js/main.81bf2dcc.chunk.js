(this["webpackJsonpohn-solid-client"]=this["webpackJsonpohn-solid-client"]||[]).push([[0],{147:function(e,t,n){},202:function(e,t){},278:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n.n(r),a=n(52),o=n.n(a),i=(n(147),n(54)),s=function(){return Object(i.c)()},u=i.d,l=n(5),d=n(0),b=n.n(d),f=n(3),p=n(11),j=n(79),m=n(4),h=n(14),x=n(16),O=n(118),g=O.VocabTerm,v=O.getLocalStore,y=n(53),w=y.namedNode;function I(e){return w("http://w3id.org/hospex/ns#".concat(e))}var N={PREFIX:"hospex",NAMESPACE:"http://w3id.org/hospex/ns#",PREFIX_AND_NAMESPACE:{hospex:"http://w3id.org/hospex/ns#"},NS:I,PersonalHospexDocument:new g(I("PersonalHospexDocument"),y,v(),!1).addLabel("Personal Hospex Document","en").addComment("A document containing hospitality exchange data of a person","en"),Accommodation:new g(I("Accommodation"),y,v(),!1).addLabel("Accommodation","en").addComment("Accommodation that is offered to travellers","en"),Community:new g(I("Community"),y,v(),!1).addLabel("Hospitality Exchange Community","en").addComment("A hospitality exchange community","en"),memberOf:new g(I("memberOf"),y,v(),!1).addLabel("member of","en").addComment("\n    Membership of a person in a hospitality exchange community.\n    Hospitality exchange community has user group which has members. This property loosely expresses the inverse of that relationship between community and a member of its usergroup.\n    ","en"),offers:new g(I("offers"),y,v(),!1).addLabel("offers","en").addComment("Person offers accommodation","en"),offeredBy:new g(I("offeredBy"),y,v(),!1).addLabel("offers","en").addComment("Accommodation is offered by a person","en")},k=n(118),C=k.VocabTerm,S=k.getLocalStore,L=n(53),E=L.namedNode;function A(e){return E("http://www.w3.org/2003/01/geo/wgs84_pos#".concat(e))}var P={PREFIX:"geo",NAMESPACE:"http://www.w3.org/2003/01/geo/wgs84_pos#",PREFIX_AND_NAMESPACE:{geo:"http://www.w3.org/2003/01/geo/wgs84_pos#"},NS:A,SpatialThing:new C(A("SpatialThing"),L,S(),!1).addLabelNoLanguage("SpatialThing").addCommentNoLanguage("Anything with spatial extent, i.e. size, shape, or position.\n e.g. people, places, bowling balls, as well as abstract areas like cubes.\n"),Point:new C(A("Point"),L,S(),!1).addLabelNoLanguage("point").addCommentNoLanguage("A point, typically described using a coordinate system relative to Earth, such as WGS84.\n  "),lat:new C(A("lat"),L,S(),!1).addLabelNoLanguage("latitude").addCommentNoLanguage("The WGS84 latitude of a SpatialThing (decimal degrees)."),location:new C(A("location"),L,S(),!1).addLabelNoLanguage("location").addCommentNoLanguage("The relation between something and the point, \n or other geometrical thing in space, where it is.  For example, the realtionship between\n a radio tower and a Point with a given lat and long.\n Or a relationship between a park and its outline as a closed arc of points, or a road and\n its location as a arc (a sequence of points).\n Clearly in practice there will be limit to the accuracy of any such statement, but one would expect\n an accuracy appropriate for the size of the object and uses such as mapping .\n "),long:new C(A("long"),L,S(),!1).addLabelNoLanguage("longitude").addCommentNoLanguage("The WGS84 longitude of a SpatialThing (decimal degrees)."),alt:new C(A("alt"),L,S(),!1).addLabelNoLanguage("altitude").addCommentNoLanguage("The WGS84 altitude of a SpatialThing (decimal meters \nabove the local reference ellipsoid)."),lat_long:new C(A("lat_long"),L,S(),!1).addLabelNoLanguage("lat/long").addCommentNoLanguage("A comma-separated representation of a latitude, longitude coordinate.")},D=function(e){var t,n=null===(t=/^(https?:\/\/.*)\/profile\/card#me$/g.exec(e))||void 0===t?void 0:t[1];if(!n)throw new Error("unable to generate hospex uri from webId");return n+"/public/hospex.ttl"},T=function(){var e=Object(f.a)(b.a.mark((function e(t){var n,r,c,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=D(t),e.next=3,Object(m.f)(n,{fetch:h.fetch});case 3:return r=e.sent,c=Object(m.k)(r),a=c.map((function(e){return{thing:e,url:Object(m.l)(e,x.b.type)}})).filter((function(e){var t=e.thing,n=e.url;return t&&(n===N.Accommodation.value||"https://hospex.example.com/terms/0.1#Accommodation"===n)})).map((function(e){return e.thing})).map((function(e){var n,c=Object(m.a)(e),a=Object(m.l)(e,P.location.value);if(!a)return null;var o=Object(m.j)(r,a),i=o&&Object(m.e)(o,P.lat.value),s=o&&Object(m.e)(o,P.long.value);if(null===i||null===s)return null;var u=null!==(n=Object(m.g)(e,x.c.comment))&&void 0!==n?n:"";return{id:c,userId:t,position:[i,s],about:{en:u}}})).filter((function(e){return null!==e})),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(f.a)(b.a.mark((function e(t,n){var r,c,a,o,i,s,u,l,d,f;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.f)(n,{fetch:h.fetch});case 2:return c=e.sent,a="".concat(n,"#location").concat(Date.now()),o=Object(m.b)({url:a}).setUrl(x.b.type,P.Point.value).setDecimal(P.lat.value,t.position[0]).setDecimal(P.long.value,t.position[1]),i=Object(m.b)({url:t.id}).setUrl(x.b.type,N.Accommodation.value).setUrl(N.offeredBy.value,t.userId).setUrl(P.location.value,a).setStringWithLocale(x.c.comment,t.about.en,"en"),s=null!==(r=Object(m.j)(c,t.userId))&&void 0!==r?r:Object(m.d)({url:t.userId}),u=Object(m.b)(s).addUrl(N.offers.value,t.id).build(),l=i.build(),d=o.build(),f=Object(m.p)(c,l),f=Object(m.p)(f,d),f=Object(m.p)(f,u),e.next=15,Object(m.o)(n,f,{fetch:h.fetch});case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),M=function(){var e=Object(f.a)(b.a.mark((function e(t,n){var r,c,a,o,i,s,u,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.f)(n,{fetch:h.fetch});case 2:if(r=e.sent,!(c=Object(m.j)(r,t.id))){e.next=16;break}if(o=null!==(a=Object(m.l)(c,P.location.value))&&void 0!==a?a:"",!(i=Object(m.j)(r,o))){e.next=15;break}return s=Object(m.b)(c).setStringEnglish(x.c.comment,t.about.en),u=Object(m.b)(i).setDecimal(P.lat.value,t.position[0]).setDecimal(P.long.value,t.position[1]),l=Object(m.p)(r,s.build()),l=Object(m.p)(l,u.build()),e.next=14,Object(m.o)(n,l,{fetch:h.fetch});case 14:return e.abrupt("return",t);case 15:throw new Error("location to update not found");case 16:throw new Error("offer to update not found");case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),U=function(){var e=Object(f.a)(b.a.mark((function e(t){var n,r,c,a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.f)(t.id,{fetch:h.fetch});case 2:if(n=e.sent,!(r=Object(m.j)(n,t.id))){e.next=11;break}return a=null!==(c=Object(m.l)(r,P.location.value))&&void 0!==c?c:"",o=Object(m.n)(n,a),o=Object(m.n)(o,t.id),e.next=10,Object(m.o)(t.id,o,{fetch:h.fetch});case 10:return e.abrupt("return",t);case 11:throw new Error("offer to remove not found");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=Object(p.b)("offer/getOffersOfUser",function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),H=Object(p.b)("offer/create",function(){var e=Object(f.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.offer,r=t.document,e.next=3,R(n,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),F=Object(p.b)("offer/update",function(){var e=Object(f.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.offer,r=t.document,e.next=3,M(n,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),W=Object(p.b)("offer/remove",function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_=Object(p.c)({name:"offer",initialState:{byId:{},allIds:[]},reducers:{},extraReducers:function(e){e.addCase(z.fulfilled,(function(e,t){t.payload.forEach((function(t){e.byId[t.id]=t,e.allIds.includes(t.id)||e.allIds.push(t.id)}))})).addCase(H.fulfilled,(function(e,t){var n=t.payload;e.byId[n.id]=n,e.allIds.push(n.id)})).addCase(F.fulfilled,(function(e,t){var n=t.payload;e.byId[n.id]=n})).addCase(W.fulfilled,(function(e,t){var n=t.payload;delete e.byId[n.id],e.allIds=e.allIds.filter((function(e){return e!==n.id}))}))}}),B=Object(j.a)((function(e){return e.offer}),(function(e){var t=e.byId;return e.allIds.map((function(e){return t[e]}))})),J=_.reducer,Z=n(12),G=n(17),V=n(58),X=n(23),q=n(24),$=n(55),K=n(62),Q=n.n(K),Y=function(){var e=Object(f.a)(b.a.mark((function e(t){var n,r,c,a,o,i,s,u,l,d,f,p,j;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={id:t,name:"",avatar:"",about:{en:""},communityIds:[],hospexDocuments:[],offerIds:[]},e.next=3,Object(m.f)(t,{fetch:h.fetch});case 3:if(o=e.sent,i=Object(m.j)(o,t)){e.next=7;break}return e.abrupt("return",null);case 7:if(a.name=null!==(n=Object(m.h)(i,x.e.fn)||Object(m.h)(i,x.a.name))&&void 0!==n?n:"",!(s=null!==(r=Object(m.l)(i,x.e.hasPhoto))&&void 0!==r?r:"")){e.next=15;break}return e.next=12,ee(s);case 12:e.t0=e.sent,e.next=16;break;case 15:e.t0="";case 16:return a.avatar=e.t0,a.about.en=null!==(c=Object(m.h)(i,x.e.note)||Object(m.i)(i,x.e.note,"en"))&&void 0!==c?c:"",e.prev=18,u=D(t),e.next=22,Object(m.f)(u,{fetch:h.fetch});case 22:l=e.sent,a.hospexDocuments.push(u),(d=Object(m.j)(l,t))&&(a.communityIds=Q()([].concat(Object(Z.a)(Object(m.m)(d,N.memberOf.value)),Object(Z.a)(Object(m.m)(d,"https://hospex.example.com/terms/0.1#memberOf")))),f=Q()([].concat(Object(Z.a)(Object(m.m)(d,N.offers.value)),Object(Z.a)(Object(m.m)(d,"https://hospex.example.com/terms/0.1#offers")))),p=Object(m.k)(l),j=p.map((function(e){var t;return{thing:e,url:null!==(t=Object(m.l)(e,N.offeredBy.value))&&void 0!==t?t:Object(m.l)(e,"https://hospex.example.com/terms/0.1#offeredBy")}})).filter((function(e){return e.url===t})).map((function(e){return e.thing.url})),a.offerIds=Q()([].concat(Object(Z.a)(f),Object(Z.a)(j)))),e.next=31;break;case 28:e.prev=28,e.t1=e.catch(18),e.t1;case 31:return e.abrupt("return",a);case 32:case"end":return e.stop()}}),e,null,[[18,28]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(f.a)(b.a.mark((function e(t){var n,r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.fetch)(t);case 2:return n=e.sent,e.next=5,n.blob();case 5:return r=e.sent,c=URL.createObjectURL(r),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(m.f)(t,{fetch:h.fetch});case 3:e.next=10;break;case 5:return e.prev=5,e.t0=e.catch(0),e.next=9,Object(m.o)(t,Object(m.c)(),{fetch:h.fetch});case 9:return e.abrupt("return",e.sent);case 10:throw new Error("document already exists");case 11:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(e){Object(X.a)(n,e);var t=Object(q.a)(n);function n(e,r){var c;Object(G.a)(this,n);var a="[".concat(e.status," ").concat(e.statusText,"]\n").concat(r);return(c=t.call(this,a)).name="HttpErrorResponse",Object.setPrototypeOf(Object(V.a)(c),n.prototype),c}return n}(Object($.a)(Error)),re=function(){var e=Object(f.a)(b.a.mark((function e(t,n){var r,c,a,o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.fetch)(t.groupId,{method:"PATCH",headers:{"Content-Type":"application/sparql-update"},body:"\n        INSERT DATA {\n            <".concat(t.groupId,"> <").concat(x.e.hasMember,"> <").concat(n,"> .\n        }\n    ")});case 2:if((r=e.sent).ok){e.next=10;break}return e.t0=ne,e.t1=r,e.next=8,r.text();case 8:throw e.t2=e.sent,new e.t0(e.t1,e.t2);case 10:return c=D(n),e.next=13,Object(m.f)(c,{fetch:h.fetch});case 13:return a=e.sent,o=Object(m.j)(a,n),i=Object(m.b)(null!==o&&void 0!==o?o:Object(m.d)({url:n})).addUrl(N.memberOf.value,t.id).build(),e.next=18,Object(m.o)(c,Object(m.p)(a,i),{fetch:h.fetch});case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ce=function(){var e=Object(f.a)(b.a.mark((function e(t){var n,r,c,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=D(t),e.next=3,Object(m.f)(n,{fetch:h.fetch});case 3:if(r=e.sent,c=Object(m.j)(r,t)){e.next=7;break}return e.abrupt("return",[]);case 7:return a=Q()([].concat(Object(Z.a)(Object(m.m)(c,N.memberOf.value)),Object(Z.a)(Object(m.m)(c,"https://hospex.example.com/terms/0.1#memberOf")))),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(f.a)(b.a.mark((function e(t){var n,r,c,a,o,i,s,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1={},e.t2={},e.next=5,ee("https://picsum.photos/400");case 5:return e.t3=e.sent,e.t4=[],a={id:e.t0,name:e.t1,about:e.t2,groupId:"",image:e.t3,memberIds:e.t4},e.next=10,Object(m.f)(t,{fetch:h.fetch});case 10:if(o=e.sent,i=Object(m.j)(o,t)){e.next=14;break}throw new Error("Community couldn't be fetched");case 14:return a.name.en=null!==(n=Object(m.g)(i,x.d.name))&&void 0!==n?n:"Unknown Name",a.groupId=null!==(r=Object(m.l)(i,x.d.has_usergroup))&&void 0!==r?r:"",a.about.en=null!==(c=Object(m.g)(i,x.d.about))&&void 0!==c?c:"",e.prev=17,e.next=20,Object(m.f)(a.groupId,{fetch:h.fetch});case 20:s=e.sent,(u=Object(m.j)(s,a.groupId))&&(a.memberIds=Object(m.m)(u,x.e.hasMember)),e.next=28;break;case 25:e.prev=25,e.t5=e.catch(17),console.log(e.t5);case 28:return e.abrupt("return",a);case 29:case"end":return e.stop()}}),e,null,[[17,25]])})));return function(t){return e.apply(this,arguments)}}(),oe=Object(p.b)("community/join",function(){var e=Object(f.a)(b.a.mark((function e(t,n){var r,c,a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,c=n.dispatch,a=r(),o=a.login.webId,e.next=5,re(t,o);case 5:return c(ie(t.id)),e.abrupt("return",{userId:o,communityId:t.id});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ie=Object(p.b)("community/getCommunity",function(){var e=Object(f.a)(b.a.mark((function e(t,n){var r,c,a,o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,c=n.dispatch,e.next=3,ae(t);case 3:return a=e.sent,o=r(),i=o.user.allIds,a&&a.memberIds.forEach((function(e){i.includes(e)||c(je(e))})),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),se=Object(p.b)("community/getCommunitiesOfUser",function(){var e=Object(f.a)(b.a.mark((function e(t,n){var r,c,a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,c=n.dispatch,e.next=3,ce(t);case 3:return a=e.sent,o=r(),a.forEach((function(e){o.community.allIds.includes(e)||c(ie(e))})),e.abrupt("return",{userId:t,communities:a});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ue=Object(p.c)({name:"community",initialState:{byId:{},allIds:[]},reducers:{},extraReducers:function(e){e.addCase(ie.fulfilled,(function(e,t){var n=t.payload;n&&(e.byId[n.id]=n,e.allIds.includes(n.id)||e.allIds.push(n.id))}))}}),le=function(e){return e.community.byId},de=Object(j.a)((function(e){return e.community.allIds}),le,(function(e,t){return e.map((function(e){return t[e]})).filter((function(e){return!!e}))})),be=Object(j.a)((function(e){return e.login.webId}),(function(e){return e.user.byId}),(function(e,t){return t[e]})),fe=Object(j.a)(be,le,(function(e,t){var n;return null!==(n=null===e||void 0===e?void 0:e.communityIds.map((function(e){return t[e]})).filter((function(e){return!!e})))&&void 0!==n?n:[]})),pe=ue.reducer,je=Object(p.b)("user/fetchUser",function(){var e=Object(f.a)(b.a.mark((function e(t,n){var r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,e.next=3,Y(t);case 3:return(c=e.sent)&&c.hospexDocuments.length>0&&(r(z(t)),r(se(t))),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),me=Object(p.b)("user/createHospexDocument",function(){var e=Object(f.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userId,r=t.documentId,e.next=3,te(r);case 3:return e.abrupt("return",{userId:n,documentId:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),he=Object(p.c)({name:"user",initialState:{byId:{},allIds:[]},reducers:{},extraReducers:function(e){e.addCase(je.fulfilled,(function(e,t){var n=t.payload;n&&(e.byId[n.id]=n,e.allIds.includes(n.id)||e.allIds.push(n.id))})).addCase(se.fulfilled,(function(e,t){var n=t.payload,r=n.userId,c=n.communities;e.byId[r].communityIds=c})).addCase(oe.fulfilled,(function(e,t){var n=t.payload,r=n.userId,c=n.communityId;e.byId[r].communityIds.includes(c)||e.byId[r].communityIds.push(c)})).addCase(me.fulfilled,(function(e,t){var n=t.payload,r=n.userId,c=n.documentId;e.byId[r].hospexDocuments.push(c)}))}}).reducer,xe=function(e,t){return t},Oe=Object(j.a)(xe,(function(e){return e.user.byId}),(function(e,t){var n;return null!==(n=t[e])&&void 0!==n?n:{id:e,name:"",avatar:"",about:"",communityIds:[]}})),ge=Object(j.a)(xe,(function(e){return e.offer.byId}),(function(e,t){return Object.values(t).filter((function(t){return t.userId===e}))})),ve=Object(j.a)(Oe,(function(e){return e.community.byId}),(function(e,t){return Object.values(t).filter((function(t){var n;return(null===e||void 0===e||null===(n=e.communityIds)||void 0===n?void 0:n.includes(t.id))&&t.memberIds.includes(e.id)}))})),ye=function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.login)({oidcIssuer:t,redirectUrl:globalThis.location.href,clientName:"Open Hospitality Network"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.handleIncomingRedirect)({url:globalThis.location.href,restorePreviousSession:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.logout)();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne={webId:"",isLoggedIn:!1,status:"pending",joinStatus:"pending"},ke=Object(p.b)("login/login",ye),Ce=Object(p.b)("login/init",function(){var e=Object(f.a)(b.a.mark((function e(t,n){var r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,e.next=3,we();case 3:return(null===(c=e.sent)||void 0===c?void 0:c.isLoggedIn)&&(null===c||void 0===c?void 0:c.webId)&&r(je(c.webId)),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Se=Object(p.b)("login/logout",Ie),Le=Object(p.c)({name:"login",initialState:Ne,reducers:{},extraReducers:function(e){e.addCase(ke.pending,(function(e){e.status="pending"})).addCase(ke.fulfilled,(function(e){e.status="success"})).addCase(Ce.fulfilled,(function(e,t){var n,r,c,a;e.status="success",e.webId=null!==(n=null===(r=t.payload)||void 0===r?void 0:r.webId)&&void 0!==n?n:"",e.isLoggedIn=null!==(c=null===(a=t.payload)||void 0===a?void 0:a.isLoggedIn)&&void 0!==c&&c})).addCase(Se.fulfilled,(function(e){e.isLoggedIn=Ne.isLoggedIn,e.status="success",e.webId=Ne.webId})).addCase(z.rejected,(function(e){e.joinStatus="new"})).addCase(z.fulfilled,(function(e){e.joinStatus="old"}))}}),Ee=function(e){return e.login},Ae=Le.reducer,Pe=n(1),De=function(){var e=Object(r.useState)("https://solidcommunity.net"),t=Object(l.a)(e,2),n=t[0],c=t[1],a=s();return Object(Pe.jsx)("div",{className:"flex flex-col items-center justify-evenly min-h-screen m-5",children:Object(Pe.jsxs)("div",{className:"space-y-10",children:[Object(Pe.jsxs)("section",{className:"flex flex-col items-center space-y-2",children:[Object(Pe.jsxs)("header",{children:[Object(Pe.jsx)("h1",{children:"Open Hospitality"}),Object(Pe.jsx)("p",{className:"italic",children:"hospitality, decentralized"})]}),Object(Pe.jsxs)("div",{className:"w-80 flex items-center justify-evenly",children:[Object(Pe.jsx)("a",{href:"https://openhospitality.network",children:Object(Pe.jsx)("img",{src:"https://openhospitality.network/assets/img/logo.png",title:"Open Hospitality Network",alt:"Open Hospitality Network logo",className:"h-32"})}),Object(Pe.jsx)("span",{className:"text-3xl",children:"+"}),Object(Pe.jsx)("a",{href:"https://solidproject.org",children:Object(Pe.jsx)("img",{src:"https://avatars3.githubusercontent.com/u/14262490?v=3&s=200",title:"Solid Project",alt:"Solid Project logo",className:"h-32 p-5"})})]})]}),Object(Pe.jsxs)("form",{className:"w-96 flex flex-col items-center gap-2",onSubmit:function(e){e.preventDefault(),a(ke(n))},children:[Object(Pe.jsx)("header",{className:"text-xl font-bold",children:"Sign in with your Solid Identity"}),Object(Pe.jsx)("label",{htmlFor:"provider",children:"Select your Solid Pod Provider"}),Object(Pe.jsx)("input",{className:"rounded border px-2 py-1 w-full",id:"provider",type:"text",value:n,onChange:function(e){return c(e.target.value)}}),Object(Pe.jsx)("button",{className:"bg-pink-300 hover:bg-pink-400 focus:bg-pink-400 text-blue-50 w-full text-lg",type:"submit",children:"Sign In"})]})]})})},Te=(n(265),n(266),n(280)),Re=n(281),Me=n(282),Ue=n(283),ze=n(139),He=n.n(ze),Fe=n(47),We=n(21),_e=function(e){var t=e.offer,n=u((function(e){return Oe(e,t.userId)}));return Object(Pe.jsxs)("div",{children:[Object(Pe.jsxs)(Fe.b,{to:"/users/".concat(encodeURIComponent(n.id)),className:"flex gap-2 items-center",children:[n.avatar?Object(Pe.jsx)("img",{src:n.avatar,className:"h-8 rounded"}):Object(Pe.jsx)(We.h,{className:"h-8"}),n.name]}),Object(Pe.jsx)("p",{className:"whitespace-pre-line text-justify w-56",children:t.about.en})]})},Be=function(e){var t=e.offers;return Object(Pe.jsxs)(Te.a,{center:[30,0],zoom:2,className:"w-screen h-screen",children:[Object(Pe.jsx)(Re.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png"}),Object(Pe.jsx)(He.a,{children:t.map((function(e){return Object(Pe.jsx)(Me.a,{position:e.position,children:Object(Pe.jsx)(Ue.a,{children:Object(Pe.jsx)(_e,{offer:e})})},e.id)}))})]})},Je=function(){var e=u(B);return Object(Pe.jsx)(Be,{offers:e})},Ze=function(){var e=u(Ee),t=s(),n=[{type:"link",to:"/",title:"map",icon:We.d},{type:"link",to:"/users/".concat(encodeURIComponent(e.webId)),title:"my profile",icon:We.h},{type:"link",to:"/offers",title:"my offers",icon:We.c},{type:"link",to:"/communities",title:"communities",icon:We.i},{type:"link",to:"/bug",title:"report a bug",icon:We.a},{type:"button",onClick:function(){return t(Se())},title:"sign out",icon:We.f}];return Object(Pe.jsx)("nav",{className:"fixed top-4 right-4 z-500 flex items-center gap-0 bg-opacity-50 bg-white text-gray-400 rounded",children:n.map((function(e){var t=Object(Pe.jsx)(e.icon,{title:e.title,className:"text-4xl p-2"}),n="p-0 hover:text-white hover:bg-opacity-100 hover:bg-black rounded";return"link"===e.type?Object(Pe.jsx)(Fe.b,{className:n,to:e.to,children:t},e.title):Object(Pe.jsx)("button",{className:n,onClick:e.onClick,children:t},e.title)}))})},Ge=n(13),Ve=[{hoverbg100:"hover:bg-red-100",bg200:"bg-red-200",bg300:"bg-red-300",text900:"text-red-900"},{hoverbg100:"hover:bg-yellow-100",bg200:"bg-yellow-200",bg300:"bg-yellow-300",text900:"text-yellow-900"},{hoverbg100:"hover:bg-green-100",bg200:"bg-green-200",bg300:"bg-green-300",text900:"text-green-900"},{hoverbg100:"hover:bg-blue-100",bg200:"bg-blue-200",bg300:"bg-blue-300",text900:"text-blue-900"},{hoverbg100:"hover:bg-indigo-100",bg200:"bg-indigo-200",bg300:"bg-indigo-300",text900:"text-indigo-900"},{hoverbg100:"hover:bg-purple-100",bg200:"bg-purple-200",bg300:"bg-purple-300",text900:"text-purple-900"},{hoverbg100:"hover:bg-pink-100",bg200:"bg-pink-200",bg300:"bg-pink-300",text900:"text-pink-900"}],Xe=function(e){var t=e.community,n=e.isMember,c=e.onJoin,a=Object(r.useState)(Ve[Math.floor(Math.random()*Ve.length)]),o=Object(l.a)(a,1)[0];return Object(Pe.jsxs)("div",{className:"w-64 p-4 ".concat(o.bg300," rounded flex flex-col gap-4"),children:[Object(Pe.jsx)("header",{style:{backgroundImage:'url("'.concat(t.image,'")'),textShadow:"0 0 5px white"},className:"py-16 text-center -m-4 rounded-t bg-cover bg-center text-xl font-bold",children:t.name.en}),Object(Pe.jsx)("section",{className:"mt-2 whitespace-pre-line text-justify",children:t.about.en}),n?Object(Pe.jsx)("div",{className:"text-center",children:"Member"}):Object(Pe.jsx)("button",{className:"".concat(o.bg200," ").concat(o.hoverbg100," ").concat(o.text900),onClick:c,children:"Join"})]})},qe=n(48),$e=n(284),Ke=n(81),Qe=n.n(Ke),Ye=function(e){var t=e.confirmString,n=e.onConfirm,c=e.onCancel,a=Object(r.useState)(!0),o=Object(l.a)(a,2),i=o[0],s=o[1],u=Object(r.useState)(""),d=Object(l.a)(u,2),b=d[0],f=d[1];return Object(Pe.jsxs)(Qe.a,{isOpen:i,onRequestClose:function(){return s(!1)},onAfterClose:c,contentLabel:"Are you sure?",closeTimeoutMS:150,overlayClassName:{base:"bg-opacity-90 bg-gray-900 fixed top-0 left-0 bottom-0 right-0 z-5000",afterOpen:"",beforeClose:""},children:[Object(Pe.jsx)("h1",{children:"Are you sure you want to remove offer?"}),Object(Pe.jsxs)("form",{onSubmit:function(e){e.preventDefault(),b===t&&n()},className:"flex flex-col gap-2",children:[Object(Pe.jsxs)("label",{children:["Please enter"," ",Object(Pe.jsx)("samp",{children:Object(Pe.jsx)("kbd",{children:t})})," ","below"]}),Object(Pe.jsx)("input",{className:"border rounded",type:"text",value:b,onChange:function(e){return f(e.target.value)},autoFocus:!0}),Object(Pe.jsx)("button",{type:"submit",disabled:t!==b,className:"disabled:opacity-50 bg-red-400 disabled:cursor-not-allowed cursor-pointer",children:"Confirm"}),Object(Pe.jsx)("button",{className:"border",onClick:c,children:"Cancel"})]})]})},et=["offer","editable"],tt=function(e){var t=e.offer,n=e.editable,c=void 0!==n&&n,a=Object(qe.a)(e,et),o=s(),i=Object(r.useState)(!1),u=Object(l.a)(i,2),d=u[0],b=u[1];return Object(Pe.jsxs)("div",{className:"w-64 p-4 bg-blue-50 rounded flex flex-col gap-4",children:[Object(Pe.jsx)(rt,{location:t.position,className:"w-56 h-56"}),Object(Pe.jsx)("section",{className:"whitespace-pre-line text-justify",children:t.about.en}),c&&"onClickEdit"in a&&Object(Pe.jsxs)(Pe.Fragment,{children:[Object(Pe.jsx)("button",{className:"bg-white",onClick:a.onClickEdit,children:"edit"}),Object(Pe.jsx)("button",{className:"bg-red-400",onClick:function(){return b(!0)},children:"remove"}),d&&Object(Pe.jsx)(Ye,{confirmString:new globalThis.URL(t.id).hash,onConfirm:function(){o(W(t)),b(!1)},onCancel:function(){return b(!1)}})]})]})},nt=function(e){var t=e.location,n=Object($e.a)();return Object(r.useEffect)((function(){n.setView(t,12)}),[t,n]),null},rt=function(e){var t=e.location,n=e.className,r=void 0===n?"":n;return Object(Pe.jsxs)(Te.a,{attributionControl:!1,center:t,zoom:12,scrollWheelZoom:"center",doubleClickZoom:"center",touchZoom:"center",className:r,children:[Object(Pe.jsx)(nt,{location:t}),Object(Pe.jsx)(Re.a,{url:"https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png"}),Object(Pe.jsx)(Me.a,{position:t})]})},ct=function(){var e=Object(Ge.g)(),t=decodeURIComponent(e.webId),n=u((function(e){return Oe(e,t)})),r=u((function(e){return ge(e,t)})),c=u(be),a=u((function(e){return ve(e,t)})),o=s();return Object(Pe.jsxs)("div",{className:"flex flex-col items-center gap-4 my-8",children:[Object(Pe.jsxs)("header",{className:"flex items-center gap-2",children:[Object(Pe.jsxs)("h1",{className:"italic",children:["Profile of ",Object(Pe.jsx)("span",{className:"not-italic",children:n.name})]})," ",Object(Pe.jsx)("a",{href:n.id,children:Object(Pe.jsx)(We.b,{className:"text-xs text-gray-400 hover:text-gray-800"})})]}),n.avatar&&Object(Pe.jsx)("img",{className:"w-56 max-h-56",src:n.avatar,alt:"image of ".concat(n.name)}),Object(Pe.jsx)("p",{className:"w-56 whitespace-pre-line text-justify",children:n.about.en||Object(Pe.jsx)("span",{className:"text-gray-500 italic",children:"This user has no description"})}),Object(Pe.jsxs)("h2",{children:["Offers (",r.length,")"]}),Object(Pe.jsx)("section",{children:Object(Pe.jsx)("ul",{className:"flex flex-wrap gap-6 justify-center",children:r.map((function(e){return Object(Pe.jsx)("li",{children:Object(Pe.jsx)(tt,{offer:e})},e.id)}))})}),Object(Pe.jsxs)("h2",{children:["Communities (",a.length,")"]}),Object(Pe.jsx)("section",{children:Object(Pe.jsx)("ul",{className:"flex flex-wrap gap-6 justify-center",children:a.map((function(e){return Object(Pe.jsx)("li",{children:Object(Pe.jsx)(Xe,{community:e,isMember:c.communityIds.includes(e.id)&&e.memberIds.includes(c.id),onJoin:function(){return o(oe(e))}})},e.id)}))})})]})},at=n(22),ot=function(e){var t,n=e.offer,c=e.onSubmit,a=e.onCancel,o=e.submit,i=Object(r.useState)(n),s=Object(l.a)(i,2),u=s[0],d=s[1];Object(r.useEffect)((function(){d(n)}),[n]);return Object(Pe.jsxs)("form",{className:"w-64 p-4 bg-blue-200 rounded flex flex-col gap-4",onSubmit:function(e){e.preventDefault(),c(u)},children:[Object(Pe.jsx)(lt,{location:u.position,onChange:function(e){d((function(t){return Object(at.a)(Object(at.a)({},t),{},{position:e})}))},className:"w-56 h-56"}),Object(Pe.jsx)("textarea",{className:"h-40 p-1",value:null!==(t=u.about.en)&&void 0!==t?t:"",onChange:function(e){d((function(t){return Object(at.a)(Object(at.a)({},t),{},{about:{en:e.target.value}})}))},placeholder:"What can you and your place offer to guests?"}),Object(Pe.jsx)("button",{className:"bg-green-300 hover:bg-green-400",type:"submit",children:o}),Object(Pe.jsx)("button",{className:"hover:bg-gray-100",type:"button",onClick:a,children:"Cancel"})]})},it=function(e){return(e%360-540)%360+180},st=function(e){var t=e.onDrag,n=Object($e.b)("drag",(function(){var e=n.getCenter(),r=e.lat,c=e.lng;t([r,it(c)]),n.setView([r,it(c)])}));return null},ut=function(e){var t=e.onLocationFound,n=Object($e.b)("locationfound",(function(e){var r=e.latlng,c=r.lat,a=r.lng;t([c,a]),n.flyTo([c,it(a)])}));return null},lt=function(e){var t=e.location,n=e.className,c=void 0===n?"":n,a=e.onChange,o=Object(r.useState)(),i=Object(l.a)(o,2),s=i[0],u=i[1];return Object(Pe.jsxs)("div",{children:[Object(Pe.jsxs)("section",{className:"bg-yellow-200 p-2 text-sm italic",children:["drag map to a new location or"," ",Object(Pe.jsx)("button",{className:"bg-yellow-50",type:"button",onClick:function(){return null===s||void 0===s?void 0:s.locate()},children:"find your location"})]}),Object(Pe.jsxs)(Te.a,{attributionControl:!1,center:t,zoom:12,scrollWheelZoom:"center",doubleClickZoom:"center",touchZoom:"center",className:c,whenCreated:u,children:[Object(Pe.jsx)(ut,{onLocationFound:a}),Object(Pe.jsx)(st,{onDrag:a}),Object(Pe.jsx)(Re.a,{url:"https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png"}),Object(Pe.jsx)(Me.a,{position:t})]})]})},dt=function(){var e,t=u(be),n=u(Ee).webId,c=u((function(e){return ge(e,n)})),a=s(),o=D(n),i=Object(r.useState)(!1),d=Object(l.a)(i,2),b=d[0],f=d[1],p=Object(r.useState)(""),j=Object(l.a)(p,2),m=j[0],h=j[1],x=c.find((function(e){return e.id===m})),O=function(e){a(F({offer:e,document:o})),h("")},g=function(){f(!1),h("")};return Object(Pe.jsxs)("div",{className:"flex flex-col items-center justify-evenly my-8",children:[Object(Pe.jsx)("header",{children:Object(Pe.jsxs)("h1",{children:["Offers of"," ",Object(Pe.jsx)(Fe.b,{to:"/users/".concat(encodeURIComponent(n)),children:null!==(e=null===t||void 0===t?void 0:t.name)&&void 0!==e?e:"user"})]})}),Object(Pe.jsxs)("ul",{className:"flex flex-wrap gap-6 justify-center",children:[c.map((function(e){return Object(Pe.jsx)("li",{children:e===x?Object(Pe.jsx)(ot,{offer:x,onSubmit:O,onCancel:g,submit:"Update"}):Object(Pe.jsx)(tt,{offer:e,editable:!0,onClickEdit:function(){return t=e.id,h(""),f(!1),void h(t);var t}})},e.id)})),Object(Pe.jsx)("li",{children:b?Object(Pe.jsx)(ot,{offer:{id:"".concat(o,"#offer").concat(Date.now()),userId:n,position:[51.477,0],about:{en:""}},onSubmit:function(e){a(H({offer:e,document:o})),f(!1)},onCancel:g,submit:"Create"}):m?null:Object(Pe.jsx)("button",{className:"w-64 h-64 p-4 bg-blue-400 rounded flex items-center justify-center text-5xl font-bold text-indigo-50",onClick:function(){f(!0),h("")},children:"+ Add"})})]})]})},bt=function(){var e=u(de),t=u(fe),n=u(be),r=s();return Object(Pe.jsxs)("div",{className:"flex flex-col items-center justify-evenly my-8",children:[Object(Pe.jsx)("header",{children:Object(Pe.jsx)("h1",{children:"Communities"})}),Object(Pe.jsx)("ul",{className:"flex flex-wrap gap-6 justify-center",children:e.map((function(e){return Object(Pe.jsx)("li",{children:Object(Pe.jsx)(Xe,{community:e,isMember:t.includes(e)&&e.memberIds.includes(n.id),onJoin:function(){return r(oe(e))}},e.id)},e.id)}))})]})},ft=function(e){var t=e.message,n=void 0===t?"Loading":t;return Object(Pe.jsx)("div",{className:"flex items-center justify-center h-screen w-screen",children:n})},pt=Object(p.c)({name:"onboarding",initialState:{onboarding:!1,step:0},reducers:{setOnboarding:function(e,t){e.onboarding=t.payload},incrementStep:function(e){e.step++},decrementStep:function(e){e.step--},setStep:function(e,t){e.step=t.payload}}}),jt=pt.actions,mt=jt.setOnboarding,ht=jt.incrementStep,xt=jt.decrementStep,Ot=(jt.setStep,function(e){return e.onboarding}),gt=pt.reducer,vt=function(){var e=s(),t=u(Ee),n=D(t.webId);return Object(Pe.jsxs)("div",{className:"h-screen flex flex-col items-center justify-center gap-4",children:[Object(Pe.jsx)("h1",{children:"It's your first time..."}),Object(Pe.jsx)("button",{className:"bg-yellow-500",onClick:function(){e(mt(!0)),e(me({documentId:n,userId:t.webId}))},children:"Let's get started!"})]})},yt=function(){var e=u(Ot),t=s(),n=u(Ee),c=Object(Ge.f)(),a=Object(r.useMemo)((function(){return[{url:"/communities",text:"Join some communities so you can meet people"},{url:"/users/".concat(encodeURIComponent(n.webId)),text:"Edit your profile"},{url:"/offers",text:"If you can, offer hosting to others"},{url:"/",text:"Map is where you can find Hosts"}]}),[n.webId]);return Object(r.useEffect)((function(){c.replace(a[e.step].url)}),[c,e.step,a]),e.onboarding?Object(Pe.jsxs)(Pe.Fragment,{children:[Object(Pe.jsxs)("div",{className:"h-32 w-screen z-2000 fixed flex flex-col items-center justify-evenly bg-purple-400",children:[Object(Pe.jsx)("div",{className:"flex gap-1",children:[0,1,2,3].map((function(t){return Object(Pe.jsx)("div",{className:"".concat(t<=e.step?"bg-purple-300":"bg-purple-50"," h-2 w-2 rounded-full")},t)}))}),Object(Pe.jsx)("div",{children:a[e.step].text}),Object(Pe.jsxs)("div",{className:"flex justify-evenly w-full",children:[e.step>0&&Object(Pe.jsx)("button",{className:"bg-purple-300 hover:bg-purple-50",onClick:function(){return t(xt())},children:"Back"}),e.step<a.length-1&&Object(Pe.jsx)("button",{className:"bg-purple-300 hover:bg-purple-50",onClick:function(){return t(ht())},children:"Next"}),e.step===a.length-1&&Object(Pe.jsx)("button",{className:"bg-purple-300 hover:bg-purple-50",onClick:function(){return t(mt(!1))},children:"Finish"})]})]}),Object(Pe.jsx)("div",{className:"h-32"})]}):null};var wt=function(){var e=u(Ee),t=s(),n=u(be);return Object(r.useEffect)((function(){t(Ce())}),[t]),Object(r.useEffect)((function(){e.isLoggedIn&&["https://mrkvon.inrupt.net/hospex/sleepy-bike/community#us"].forEach((function(e){t(ie(e))}))}),[e.isLoggedIn,t]),"pending"===e.status?Object(Pe.jsx)(ft,{message:"Initializing..."}):e.isLoggedIn?n?0===n.hospexDocuments.length?Object(Pe.jsx)(vt,{}):Object(Pe.jsx)("div",{className:"App",children:Object(Pe.jsxs)(Fe.a,{children:[Object(Pe.jsx)(yt,{}),Object(Pe.jsx)(Ze,{}),Object(Pe.jsxs)(Ge.c,{children:[Object(Pe.jsx)(Ge.a,{path:"/users/:webId",children:Object(Pe.jsx)(ct,{})}),Object(Pe.jsx)(Ge.a,{path:"/offers",children:Object(Pe.jsx)(dt,{})}),Object(Pe.jsx)(Ge.a,{path:"/communities",children:Object(Pe.jsx)(bt,{})}),Object(Pe.jsx)(Ge.a,{path:"/bug",component:function(){return window.location.href="https://github.com/OpenHospitalityNetwork/sleepy.bike/issues/new",null}}),Object(Pe.jsx)(Ge.a,{path:"/",children:Object(Pe.jsx)(Je,{})})]})]})}):Object(Pe.jsx)(ft,{message:"Fetching your profile..."}):Object(Pe.jsx)(De,{})},It={type:"",title:"",detail:""},Nt=Object(p.c)({name:"notification",initialState:It,reducers:{setNotification:function(e,t){return t.payload},clearNotification:function(){return It}},extraReducers:function(e){return e.addMatcher(p.d,(function(e,t){var n,r,c;return{type:"error",title:(null!==(n=null!==(r=t.error.code)&&void 0!==r?r:" "+t.error.name)&&void 0!==n?n:"").trim(),detail:null!==(c=t.error.message)&&void 0!==c?c:""}}))}}),kt=Nt.actions,Ct=kt.setNotification,St=kt.clearNotification,Lt=function(e){return e.notification},Et=Nt.reducer,At=Object(p.a)({reducer:{offer:J,community:pe,user:he,login:Ae,onboarding:gt,notification:Et}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Pt=function(){var e=u(Lt);return""===e.type?null:Object(Pe.jsx)(Dt,{notification:e})},Dt=function(e){var t=e.notification,n=s(),c=Object(r.useMemo)((function(){return function(e){"Escape"===e.key&&(console.log(e.key),e.stopPropagation(),n(St()))}}),[n]);Object(r.useEffect)((function(){return document.addEventListener("keydown",c,!1),function(){document.removeEventListener("keydown",c,!1)}}),[c]);var a="error"===t.type?"bg-red-500":"success"===t.type?"bg-green-500":"bg-yellow-500";return Object(Pe.jsxs)("div",{tabIndex:0,title:"click to close",className:"".concat(a," p-4 fixed z-5000 bottom-0 bg-opacity-80 hover:bg-opacity-90 rounded-none max-h-screen w-full overflow-auto"),children:[Object(Pe.jsx)("button",{className:"absolute top-3 right-3 p-1 rounded-full ".concat(a),onClick:function(){return n(St())},children:Object(Pe.jsx)(We.g,{})}),Object(Pe.jsx)("header",{children:t.title}),Object(Pe.jsx)("section",{children:Object(Pe.jsx)("pre",{children:t.detail})})]})},Tt=n(35),Rt=function(e){Object(X.a)(n,e);var t=Object(q.a)(n);function n(){var e;Object(G.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={hasError:!1},e}return Object(Tt.a)(n,[{key:"componentDidCatch",value:function(e){this.setState({hasError:!0}),this.props.setNotification({type:"error",title:e.constructor.name,detail:e.message})}},{key:"render",value:function(){return this.state.hasError?Object(Pe.jsxs)("div",{className:"w-screen h-screen flex flex-col items-center justify-evenly font-bold text-2xl text-center",children:[Object(Pe.jsx)(We.e,{className:"text-5xl text-indigo-700"}),Object(Pe.jsxs)("p",{children:["Sorry, something went terribly wrong.",Object(Pe.jsx)("br",{}),"Please, let us know.",Object(Pe.jsx)("br",{}),"And reload..."]})]}):this.props.children}}]),n}(c.a.Component),Mt=Object(i.b)(null,{setNotification:Ct})(Rt);Qe.a.setAppElement("#root"),o.a.render(Object(Pe.jsx)(c.a.StrictMode,{children:Object(Pe.jsxs)(i.a,{store:At,children:[Object(Pe.jsx)(Mt,{children:Object(Pe.jsx)(wt,{})}),Object(Pe.jsx)(Pt,{})]})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[278,1,2]]]);
//# sourceMappingURL=main.81bf2dcc.chunk.js.map