/*! For license information please see 2.331b50dc.chunk.js.LICENSE.txt */
(this["webpackJsonpohn-solid-client"]=this["webpackJsonpohn-solid-client"]||[]).push([[2],[function(e,t,n){e.exports=n(150)},function(e,t,n){"use strict";e.exports=n(262)},function(e,t,n){"use strict";e.exports=n(141)},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return ht})),n.d(t,"b",(function(){return On})),n.d(t,"c",(function(){return xt})),n.d(t,"d",(function(){return ft})),n.d(t,"e",(function(){return tt})),n.d(t,"f",(function(){return Et})),n.d(t,"g",(function(){return nt})),n.d(t,"h",(function(){return it})),n.d(t,"i",(function(){return rt})),n.d(t,"j",(function(){return st})),n.d(t,"k",(function(){return ut})),n.d(t,"l",(function(){return Qe})),n.d(t,"m",(function(){return Xe})),n.d(t,"n",(function(){return lt})),n.d(t,"o",(function(){return Lt})),n.d(t,"p",(function(){return ct}));var r=n(93),i=n(15),o=n(14),a=n(5),s=n(64),u=n(0),c=n.n(u),l=n(3),f=n(33),d=n(34),h=n(35),p=n(62),g=n(57);var v=n(77);function y(e,t,n){return y=Object(v.a)()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Object(g.a)(i,n.prototype),i},y.apply(null,arguments)}function m(e){var t="function"===typeof Map?new Map:void 0;return m=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return y(e,arguments,Object(p.a)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Object(g.a)(r,e)},m(e)}var _=n(133),b=n.n(_),w=n(63),x=n.n(w),S=n(96),k=n.n(S),E=(n(134),n(73));function P(e){return"object"===typeof e&&"object"===typeof e.internal_resourceInfo}function A(e){var t=e;return"object"===typeof t&&"object"===typeof t.internal_resourceInfo&&"object"===typeof t.internal_resourceInfo.linkedResources}function O(e){var t=e;return"object"===typeof t.internal_changeLog&&Array.isArray(t.internal_changeLog.additions)&&Array.isArray(t.internal_changeLog.deletions)}var C=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return n}(m(Error));function T(e){return"string"===typeof e?e:e.value}var L=function(){var e=Object(l.a)(c.a.mark((function e(t,r){var i,o,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=4;break;case 3:case 13:return e.abrupt("return",e.sent);case 4:e.next=10;break;case 7:return i=e.sent,o=i.default,e.abrupt("return",o(t,r));case 10:return a=n(73),e.next=13,a(t,r);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function I(e){var t,n,r,i=null!==(n=null===(t=e.headers.get("Content-Type"))||void 0===t?void 0:t.split(";"))&&void 0!==n?n:[],o=i.length>0&&["text/turtle","application/ld+json"].includes(i[0]),a={sourceIri:e.url,isRawData:!o,contentType:null!==(r=e.headers.get("Content-Type"))&&void 0!==r?r:void 0,linkedResources:{}},s=e.headers.get("Link");if(s){var u=b.a.parse(s),c=u.get("rel","acl");1===c.length&&(a.aclUrl=new URL(c[0].uri,a.sourceIri).href),a.linkedResources=u.refs.reduce((function(e,t){var n,r;return null!==(n=e[r=t.rel])&&void 0!==n||(e[r]=[]),e[t.rel].push(new URL(t.uri,a.sourceIri).href),e}),a.linkedResources)}var l=e.headers.get("WAC-Allow");return l&&(a.permissions=function(e){function t(e){var t=e.split(" ");return t.includes("write")?{read:t.includes("read"),append:!0,write:!0,control:t.includes("control")}:{read:t.includes("read"),append:t.includes("append"),write:!1,control:t.includes("control")}}function n(e,t){var n=e.split(",").map((function(e){return e.split("=")})).filter((function(e){return 2===e.length&&e[0].trim()===t}));if(1!==n.length)return"";var r=n[0][1].trim();return'"'!==r.charAt(0)||'"'!==r.charAt(r.length-1)?"":r.substring(1,r.length-1)}return{user:t(n(e,"user")),public:t(n(e,"public"))}}(l)),a}function j(e){return"function"===typeof e.slice?Object.assign(e.slice(),Object.assign({},e)):Object.assign({},e)}function F(e){return!e.ok}function R(e){return 401===e.status||403===e.status}var N="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",M="http://www.w3.org/ns/ldp#Resource",D={AccessControlResource:"http://www.w3.org/ns/solid/acp#AccessControlResource",Policy:"http://www.w3.org/ns/solid/acp#Policy",AccessControl:"http://www.w3.org/ns/solid/acp#AccessControl",Read:"http://www.w3.org/ns/solid/acp#Read",Append:"http://www.w3.org/ns/solid/acp#Append",Write:"http://www.w3.org/ns/solid/acp#Write",Rule:"http://www.w3.org/ns/solid/acp#Rule",Matcher:"http://www.w3.org/ns/solid/acp#Matcher",accessControl:"http://www.w3.org/ns/solid/acp#accessControl",apply:"http://www.w3.org/ns/solid/acp#apply",applyMembers:"http://www.w3.org/ns/solid/acp#applyMembers",allow:"http://www.w3.org/ns/solid/acp#allow",deny:"http://www.w3.org/ns/solid/acp#deny",allOf:"http://www.w3.org/ns/solid/acp#allOf",anyOf:"http://www.w3.org/ns/solid/acp#anyOf",noneOf:"http://www.w3.org/ns/solid/acp#noneOf",access:"http://www.w3.org/ns/solid/acp#access",accessMembers:"http://www.w3.org/ns/solid/acp#accessMembers",agent:"http://www.w3.org/ns/solid/acp#agent",group:"http://www.w3.org/ns/solid/acp#group",client:"http://www.w3.org/ns/solid/acp#client",PublicAgent:"http://www.w3.org/ns/solid/acp#PublicAgent",AuthenticatedAgent:"http://www.w3.org/ns/solid/acp#AuthenticatedAgent",CreatorAgent:"http://www.w3.org/ns/solid/acp#CreatorAgent"},U="http://www.w3.org/ns/solid/terms#PublicOidcClient",B={fetch:L};function H(e){return z.apply(this,arguments)}function z(){return z=Object(l.a)(c.a.mark((function e(t){var n,r,i,o,a=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:Object.assign(Object.assign({},B),{ignoreAuthenticationErrors:!1}),i=Object.assign(Object.assign({},B),n),e.next=4,i.fetch(t,{method:"HEAD"});case 4:return o=e.sent,e.abrupt("return",K(o,{ignoreAuthenticationErrors:null!==(r=n.ignoreAuthenticationErrors)&&void 0!==r&&r}));case 6:case"end":return e.stop()}}),e)}))),z.apply(this,arguments)}function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ignoreAuthenticationErrors:!1};if(F(e)&&(!R(e)||!t.ignoreAuthenticationErrors))throw new Z("Fetching the metadata of the Resource at [".concat(e.url,"] failed: [").concat(e.status,"] [").concat(e.statusText,"]."),e);var n=I(e);return{internal_resourceInfo:n}}function V(e){var t;return null!==(t=e.internal_resourceInfo.contentType)&&void 0!==t?t:null}function W(e){return P(e)?e.internal_resourceInfo.sourceIri:null}var q=W;function J(e){return e.internal_resourceInfo.linkedResources}var Z=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(f.a)(this,n),(i=t.call(this,e)).response=r,i}return Object(s.a)(n,[{key:"statusCode",get:function(){return this.response.status}},{key:"statusText",get:function(){return this.response.statusText}}]),n}(C),G={fetch:L};function Y(e){return $.apply(this,arguments)}function $(){return $=Object(l.a)(c.a.mark((function e(t){var n,r,i,o,a,s,u,l=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:G,r=Object.assign(Object.assign({},G),n),i=T(t),e.next=5,r.fetch(i,r.init);case 5:if(!F(o=e.sent)){e.next=8;break}throw new Z("Fetching the File failed: [".concat(o.status,"] [").concat(o.statusText,"]."),o);case 8:return a=I(o),e.next=11,o.blob();case 11:return s=e.sent,u=Object.assign(s,{internal_resourceInfo:a}),e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),$.apply(this,arguments)}k.a.dataset;var Q="https://inrupt.com/.well-known/sdk-local-node/",X=Object.freeze;function ee(e){return e.substring(0,Q.length)===Q}function te(e){return e.substring(Q.length)}function ne(e){return"".concat(Q).concat(e)}function re(e){return"string"===typeof e&&"_:"===e.substring(0,2)}function ie(e){return e.substring(2)}function oe(e){return"_:".concat(e.value)}var ae="http://www.w3.org/2001/XMLSchema#boolean",se="http://www.w3.org/2001/XMLSchema#dateTime",ue="http://www.w3.org/2001/XMLSchema#date",ce="http://www.w3.org/2001/XMLSchema#time",le="http://www.w3.org/2001/XMLSchema#decimal",fe="http://www.w3.org/2001/XMLSchema#integer",de="http://www.w3.org/2001/XMLSchema#string",he="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString";function pe(e){return"true"===e||"1"===e||"false"!==e&&"0"!==e&&null}function ge(e){if(!/\d\d:\d\d:\d\d(\.\d+)?(Z|(\+|-)\d\d:\d\d)?/.test(e))return null;var t=me(e),n=Object(a.a)(t,2),r=n[0],i=n[1],o=r.split(":"),s=Object(a.a)(o,3),u=s[0],c=s[1],l=s[2],f=Number.parseInt(u,10),d=Number.parseInt(c,10),h=l.split("."),p=Object(a.a)(h,2),g=p[0],v=p[1],y=Number.parseInt(g,10),m=v?Number.parseInt(v,10):void 0;d>=60&&(f+=1,d-=60);var _={hour:f,minute:d,second:y};if("number"===typeof m&&(_.millisecond=m),"string"===typeof i){var b=_e(i),w=Object(a.a)(b,2),x=w[0],S=w[1];if("number"!==typeof x||x>24||"number"!==typeof S||S>59)return null;_.timezoneHourOffset=x,_.timezoneMinuteOffset=S}return _}function ve(e){if(!/-?\d{4,}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(Z|(\+|-)\d\d:\d\d)?/.test(e))return null;var t=e.split("T"),n=Object(a.a)(t,2),r=n[0],i=n[1],o="-"===r.charAt(0)?[-1,r.substring(1)]:[1,r],s=Object(a.a)(o,2),u=s[0],c=s[1].split("-"),l=Object(a.a)(c,3),f=l[0],d=l[1],h=l[2],p=Number.parseInt(f,10)*u,g=Number.parseInt(d,10)-1,v=Number.parseInt(h,10),y=me(i),m=Object(a.a)(y,2),_=m[0],b=m[1],w="string"===typeof b?_e(b):[0,0],x=Object(a.a)(w,2),S=x[0],k=x[1],E=_.split(":"),P=Object(a.a)(E,3),A=P[0],O=P[1],C=P[2],T=Number.parseInt(A,10)+S,L=Number.parseInt(O,10)+k,I=C.split("."),j=Object(a.a)(I,2),F=j[0],R=j[1],N=Number.parseInt(F,10),M=R?Number.parseInt(R,10):0,D=new Date(Date.UTC(p,g,v,T,L,N,M));return p>=0&&p<100&&D.setUTCFullYear(D.getUTCFullYear()-1900),D}function ye(e){if(!/-?\d{4,}-\d\d-\d\d(Z|(\+|-)\d\d:\d\d)?/.test(e))return null;var t=e,n="-"===t.charAt(0)?[-1,t.substring(1)]:[1,t],r=Object(a.a)(n,2),i=r[0],o=r[1].split("-"),s=Object(a.a)(o,3),u=s[0],c=s[1],l=s[2],f=l.length>2?l.substring(0,2):l,d=Number.parseInt(u,10)*i,h=Number.parseInt(c,10)-1,p=Number.parseInt(f,10),g=new Date(Date.UTC(d,h,p,12));return d>=0&&d<100&&g.setUTCFullYear(g.getUTCFullYear()-1900),g}function me(e){if(e.endsWith("Z"))return[e.substring(0,e.length-1),"Z"];var t=e.split("+"),n=e.split("-");return 1===t.length&&1===n.length?[t[0],void 0]:t.length>n.length?[t[0],"+"+t[1]]:[n[0],"-"+n[1]]}function _e(e){if("Z"===e)return[0,0];var t="+"===e.charAt(0)?1:-1,n=e.substring(1).split(":"),r=Object(a.a)(n,2),i=r[0],o=r[1];return[Number.parseInt(i,10)*t,Number.parseInt(o,10)*t]}function be(e){var t=Number.parseFloat(e);return Number.isNaN(t)?null:t}function we(e){var t=Number.parseInt(e,10);return Number.isNaN(t)?null:t}function xe(e){return e.toLowerCase()}function Se(e){return ke(e)&&"NamedNode"===e.termType}function ke(e){return null!==e&&"object"===typeof e&&"string"===typeof e.termType&&"string"===typeof e.value&&"function"===typeof e.equals}function Ee(e){return Se(e)&&ee(e.value)}function Pe(e){var t=T(e);if("function"!==typeof URL)return!0;try{new URL(t)}catch(n){return!1}return!0}function Ae(e,t){return Ce.namedNode(Oe(te(e.value),t))}function Oe(e,t){if("function"!==typeof URL)throw new Error("The URL interface is not available, so an IRI cannot be determined.");var n=new URL(t);return n.hash=e,n.href}var Ce=x.a;function Te(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=["NamedNode","DefaultGraph"];if(!i.includes(t.graph.termType))throw new Error("Cannot parse Quads with nodes of type [".concat(t.graph.termType,"] as their Graph node."));var a="DefaultGraph"===t.graph.termType?"default":t.graph.value,s=null!==(n=e.graphs[a])&&void 0!==n?n:{};return X(Object.assign(Object.assign({},e),{graphs:X(Object.assign(Object.assign({},e.graphs),Object(o.a)({},a,Le(s,t,r))))}))}function Le(e,t,n){var r;if(!["NamedNode","BlankNode"].includes(t.subject.termType))throw new Error("Cannot parse Quads with nodes of type [".concat(t.subject.termType,"] as their Subject node."));var i="BlankNode"===t.subject.termType?"_:".concat(t.subject.value):t.subject.value,a=null!==(r=e[i])&&void 0!==r?r:{type:"Subject",url:i,predicates:{}};return X(Object.assign(Object.assign({},e),Object(o.a)({},i,function(e,t,n){return X(Object.assign(Object.assign({},e),{predicates:Ie(e.predicates,t,n)}))}(a,t,n))))}function Ie(e,t,n){var r;if(!["NamedNode"].includes(t.predicate.termType))throw new Error("Cannot parse Quads with nodes of type [".concat(t.predicate.termType,"] as their Predicate node."));var i=t.predicate.value,a=null!==(r=e[i])&&void 0!==r?r:{};return X(Object.assign(Object.assign({},e),Object(o.a)({},i,je(a,t,n))))}function je(e,t,n){var r,a,s,u,c,l,f,d;if("NamedNode"===t.object.termType){var h=X([].concat(Object(i.a)(null!==(r=e.namedNodes)&&void 0!==r?r:[]),[t.object.value]));return X(Object.assign(Object.assign({},e),{namedNodes:h}))}if("Literal"===t.object.termType){if(t.object.datatype.value===he){var p=t.object.language.toLowerCase(),g=X([].concat(Object(i.a)(null!==(s=null===(a=e.langStrings)||void 0===a?void 0:a[p])&&void 0!==s?s:[]),[t.object.value])),v=X(Object.assign(Object.assign({},null!==(u=e.langStrings)&&void 0!==u?u:{}),Object(o.a)({},p,g)));return X(Object.assign(Object.assign({},e),{langStrings:v}))}var y=X([].concat(Object(i.a)(null!==(l=null===(c=e.literals)||void 0===c?void 0:c[t.object.datatype.value])&&void 0!==l?l:[]),[t.object.value])),m=X(Object.assign(Object.assign({},null!==(f=e.literals)&&void 0!==f?f:{}),Object(o.a)({},t.object.datatype.value,y)));return X(Object.assign(Object.assign({},e),{literals:m}))}if("BlankNode"===t.object.termType){var _=Fe(t.object,n),b=X([].concat(Object(i.a)(null!==(d=e.blankNodes)&&void 0!==d?d:[]),[_]));return X(Object.assign(Object.assign({},e),{blankNodes:b}))}throw new Error("Objects of type [".concat(t.object.termType,"] are not supported."))}function Fe(e,t){var n,r;if(void 0===(null!==(n=t.chainBlankNodes)&&void 0!==n?n:[]).find((function(t){return t.equals(e)})))return oe(e);var a=(null!==(r=t.otherQuads)&&void 0!==r?r:[]).filter((function(t){return t.subject.equals(e)})),s=a.filter((function(e){return!Ue(e.object)})).reduce((function(e,n){var r;if(!["NamedNode"].includes(n.predicate.termType))throw new Error("Cannot parse Quads with nodes of type [".concat(n.predicate.termType,"] as their Predicate node."));var i=null!==(r=e[n.predicate.value])&&void 0!==r?r:{};return X(Object.assign(Object.assign({},e),Object(o.a)({},n.predicate.value,je(i,n,t))))}),{});return a.filter((function(e){return Ue(e.object)})).reduce((function(e,n){var r,a;if(!["NamedNode"].includes(n.predicate.termType))throw new Error("Cannot parse Quads with nodes of type [".concat(n.predicate.termType,"] as their Predicate node."));var s=null!==(r=e[n.predicate.value])&&void 0!==r?r:{},u=null!==(a=s.blankNodes)&&void 0!==a?a:[];return X(Object.assign(Object.assign({},e),Object(o.a)({},n.predicate.value,Object.assign(Object.assign({},s),{blankNodes:[].concat(Object(i.a)(u),[Fe(n.object,t)])}))))}),s)}function Re(e){var t=e.map((function(e){return e.subject})).filter(Ue),n=e.map((function(e){return e.object})).filter(Ue);var r=[];return n.forEach((function(t){r.push.apply(r,Object(i.a)(De(t,e)))})),t.concat(n).filter((function(t){if(r.some((function(e){return e.equals(t)})))return!1;var n,i=e.filter((function(e){return e.object.equals(t)})).map((function(e){return e.subject}));return i.length>0&&(n=i).every((function(e){return n.every((function(t){return e.equals(t)}))}))}))}function Ne(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[],o=null!==(t=n.dataFactory)&&void 0!==t?t:x.a;return Object.keys(e.graphs).forEach((function(t){var a=e.graphs[t],s="default"===t?o.defaultGraph():o.namedNode(t);Object.keys(a).forEach((function(e){var t=a[e].predicates,u=re(e)?o.blankNode(ie(e)):o.namedNode(e);r.push.apply(r,Object(i.a)(Me(t,u,s,n)))}))})),r}function Me(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=[],s=null!==(r=o.dataFactory)&&void 0!==r?r:x.a;return Object.keys(e).forEach((function(r){var o,u,c,l,f=s.namedNode(r),d=null!==(o=e[r].langStrings)&&void 0!==o?o:{},h=null!==(u=e[r].namedNodes)&&void 0!==u?u:[],p=null!==(c=e[r].literals)&&void 0!==c?c:{},g=null!==(l=e[r].blankNodes)&&void 0!==l?l:[];Object.keys(p).forEach((function(e){var r=s.namedNode(e);p[e].forEach((function(e){var i=s.literal(e,r);a.push(s.quad(t,f,i,n))}))})),Object.keys(d).forEach((function(e){d[e].forEach((function(r){var i=s.literal(r,e);a.push(s.quad(t,f,i,n))}))})),h.forEach((function(e){var r=s.namedNode(e);a.push(s.quad(t,f,r,n))})),g.forEach((function(e){if(re(e)){var r=s.blankNode(ie(e));a.push(s.quad(t,f,r,n))}else{var o=s.blankNode(),u=s.quad(t,f,o,n),c=Me(e,o,n);a.push(u),a.push.apply(a,Object(i.a)(c))}}))})),a}function De(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(void 0!==n.find((function(t){return t.equals(e)})))return n;var o=t.filter((function(t){return t.subject.equals(e)&&Ue(t.object)})).map((function(e){return e.object}));if(0===o.length)return[];var a,s=[].concat(Object(i.a)(n),[e]),u=o.map((function(e){return De(e,t,s)})),c=[],l=Object(r.a)(u);try{for(l.s();!(a=l.n()).done;){var f=a.value;c.push.apply(c,Object(i.a)(f))}}catch(d){l.e(d)}finally{l.f()}return c}function Ue(e){return"BlankNode"===e.termType}var Be=function(){var e=[],t=[],n=[];return{onQuad:function(t){e.push(t)},onError:function(e){n.push(e)},onComplete:function(e){t.push(e)},parse:function(){var r=Object(l.a)(c.a.mark((function r(i,o){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,He(W(o));case 2:r.sent.parse(i,(function(r,i,o){r?n.forEach((function(e){return e(r)})):i?e.forEach((function(e){return e(i)})):t.forEach((function(e){return e()}))}));case 4:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}};function He(e){return ze.apply(this,arguments)}function ze(){return(ze=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We();case 2:return n=e.sent,e.abrupt("return",new n.Parser({format:"text/turtle",baseIRI:t}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ke(e){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(l.a)(c.a.mark((function e(t){var n,r,i,o,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We();case 2:return n=e.sent,"text/turtle",r=new n.Writer({format:"text/turtle"}),i=t.map((function(e){return Ce.quad(e.subject,e.predicate,e.object,void 0)})),r.addQuads(i),o=new Promise((function(e,t){r.end((function(n,r){if(n)return t(n);e(r)}))})),e.next=10,o;case 10:return a=e.sent,e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(){return qe.apply(this,arguments)}function qe(){return(qe=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(3),n.e(4)]).then(n.bind(null,306));case 2:if("undefined"===typeof(t=e.sent).default){e.next=5;break}return e.abrupt("return",t.default);case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(e){var t,n,r,i,o,a,s,u;if(Se(e))return"<".concat(e.value,"> (URL)");if(function(e){return ke(e)&&"Literal"===e.termType}(e)){if(!Se(e.datatype))return"[".concat(e.value,"] (RDF/JS Literal of unknown type)");switch(e.datatype.value){case ae:return(null!==(n=null===(t=pe(e.value))||void 0===t?void 0:t.valueOf())&&void 0!==n?n:"Invalid data: `".concat(e.value,"`"))+" (boolean)";case se:return(null!==(i=null===(r=ve(e.value))||void 0===r?void 0:r.toUTCString())&&void 0!==i?i:"Invalid data: `".concat(e.value,"`"))+" (datetime)";case le:return(null!==(a=null===(o=be(e.value))||void 0===o?void 0:o.toString())&&void 0!==a?a:"Invalid data: `".concat(e.value,"`"))+" (decimal)";case fe:return(null!==(u=null===(s=we(e.value))||void 0===s?void 0:s.toString())&&void 0!==u?u:"Invalid data: `".concat(e.value,"`"))+" (integer)";case he:return'"'.concat(e.value,'" (').concat(e.language," string)");case de:return'"'.concat(e.value,'" (string)');default:return"[".concat(e.value,"] (RDF/JS Literal of type: `").concat(e.datatype.value,"`)")}}return"BlankNode"===e.termType?"[".concat(e.value,"] (RDF/JS BlankNode)"):"Quad"===e.termType?"??? (nested RDF* Quad)":"Variable"===e.termType?"?".concat(e.value," (RDF/JS Variable)"):e}function Ze(e){if(!dt(e))throw new vt(e)}function Ge(e,t){var n=O(e)?e.internal_changeLog:{additions:[],deletions:[]},r=t.filter((function(e){return!$e(e)})).reduce((function(e,t){var n=Object(a.a)(e,2),r=n[0],i=n[1];return"undefined"!==typeof r.find((function(e){return e.equals(t)}))?[r.filter((function(e){return!e.equals(t)})),i]:[r,i.concat(t)]}),[n.additions,n.deletions]),i=Object(a.a)(r,2),o=i[0],s=i[1];return X(Object.assign(Object.assign({},e),{internal_changeLog:{additions:o,deletions:s}}))}function Ye(e){return O(e)?e:X(Object.assign(Object.assign({},e),{internal_changeLog:{additions:[],deletions:[]}}))}function $e(e){return"BlankNode"===e.subject.termType||"BlankNode"===e.object.termType}function Qe(e,t){var n,r,i;if(Ze(e),!Pe(t))throw new yt(t);var o=T(t),a=null!==(i=null===(r=null===(n=e.predicates[o])||void 0===n?void 0:n.namedNodes)||void 0===r?void 0:r[0])&&void 0!==i?i:null;return null===a?null:ee(a)?"#".concat(te(a)):a}function Xe(e,t){var n,r,i;if(Ze(e),!Pe(t))throw new yt(t);var o=T(t);return null!==(i=null===(r=null===(n=e.predicates[o])||void 0===n?void 0:n.namedNodes)||void 0===r?void 0:r.map((function(e){return ee(e)?"#".concat(te(e)):e})))&&void 0!==i?i:[]}var et=Xe;function tt(e,t){Ze(e);var n=at(e,t,le);return null===n?null:be(n)}function nt(e,t){return rt(e,t,"en")}function rt(e,t,n){var r,i;if(Ze(e),!Pe(t))throw new yt(t);var o=T(t),a=null!==(i=null===(r=e.predicates[o])||void 0===r?void 0:r.langStrings)&&void 0!==i?i:{},s=Object.keys(a).find((function(e){return e.toLowerCase()===n.toLowerCase()&&Array.isArray(a[e])&&a[e].length>0}));return"string"===typeof s?a[s][0]:null}function it(e,t){return Ze(e),at(e,t,de)}function ot(e,t){var n,r;Ze(e);var i=function(e,t){return et(e,t).map((function(e){return Ce.namedNode(e)}))}(e,t),o=function(e,t){var n,r,i,o;if(Ze(e),!Pe(t))throw new yt(t);for(var a=T(t),s=[],u=null!==(r=null===(n=e.predicates[a])||void 0===n?void 0:n.langStrings)&&void 0!==r?r:{},c=Object.keys(u),l=function(){var e=d[f],t=u[e].map((function(t){return Ce.literal(t,e)}));s=s.concat(t)},f=0,d=c;f<d.length;f++)l();for(var h=null!==(o=null===(i=e.predicates[a])||void 0===i?void 0:i.literals)&&void 0!==o?o:{},p=Object.keys(h),g=function(){var e=y[v],t=h[e],n=Ce.namedNode(e),r=t.map((function(e){return Ce.literal(e,n)}));s=s.concat(r)},v=0,y=p;v<y.length;v++)g();return s}(e,t),a=T(t),s=(null!==(r=null===(n=e.predicates[a])||void 0===n?void 0:n.blankNodes)&&void 0!==r?r:[]).map((function(e){var t=re(e)?ie(e):void 0;return Ce.blankNode(t)}));return i.concat(o).concat(s)}function at(e,t,n){var r,i,o,a;if(!Pe(t))throw new yt(t);var s=T(t);return null!==(a=null===(o=null===(i=null===(r=e.predicates[s])||void 0===r?void 0:r.literals)||void 0===i?void 0:i[n])||void 0===o?void 0:o[0])&&void 0!==a?a:null}function st(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!Pe(t))throw new _t(t);var i="undefined"!==typeof r.scope?T(r.scope):"default",o=null!==(n=e.graphs[i])&&void 0!==n?n:{},a=T(t),s=ee(a)&&A(e)?Oe(te(a),W(e)):a,u=o[s];return"undefined"===typeof u?null:u}function ut(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{acceptBlankNodes:!1},r="undefined"!==typeof n.scope?T(n.scope):"default",i=null!==(t=e.graphs[r])&&void 0!==t?t:{};return Object.values(i).filter((function(e){return!re(e.url)||n.acceptBlankNodes}))}function ct(e,t){var n,r=gt(t)&&A(e)?Oe(te(t.url),W(e)):t.url,i=e.graphs.default,s=X(Object.assign(Object.assign({},i),Object(o.a)({},r,X(Object.assign(Object.assign({},t),{url:r}))))),u=X(Object.assign(Object.assign({},e.graphs),{default:s})),c=Ce.namedNode(r),l=null===(n=e.graphs.default[r])||void 0===n?void 0:n.predicates,f="undefined"!==typeof l?Me(l,c,Ce.defaultGraph()):[],d=Me(t.predicates,c,Ce.defaultGraph());return function(e,t){var n=O(e)?e.internal_changeLog:{additions:[],deletions:[]},r=t.filter((function(e){return!$e(e)})).reduce((function(e,t){var n=Object(a.a)(e,2),r=n[0],i=n[1];return"undefined"!==typeof i.find((function(e){return e.equals(t)}))?[r,i.filter((function(e){return!e.equals(t)}))]:[r.concat(t),i]}),[n.additions,n.deletions]),i=Object(a.a)(r,2),o=i[0],s=i[1];return X(Object.assign(Object.assign({},e),{internal_changeLog:{additions:o,deletions:s}}))}(Ge(X(Object.assign(Object.assign({},e),{graphs:u})),f),d)}function lt(e,t){var n,r;r=Se(t)?t.value:"string"===typeof t?ee(t)&&A(e)?Oe(te(t),W(e)):t:gt(t)?t.url:pt(t);var i=e.graphs.default,o=Object.assign({},i);delete o[r];var a=X(Object.assign(Object.assign({},e.graphs),{default:X(o)})),s=Ce.namedNode(r),u=null===(n=e.graphs.default[r])||void 0===n?void 0:n.predicates,c="undefined"!==typeof u?Me(u,s,Ce.defaultGraph()):[];return Ge(X(Object.assign(Object.assign({},e),{graphs:a})),c)}function ft(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("undefined"!==typeof t.url){var n=t.url;if(!Pe(n))throw new _t(n);var r=X({type:"Subject",predicates:X({}),url:n});return r}var i=null!==(e=t.name)&&void 0!==e?e:bt(),o=ne(i),a=X({type:"Subject",predicates:X({}),url:o});return a}function dt(e){return"object"===typeof e&&null!==e&&"string"===typeof e.type&&"Subject"===e.type}function ht(e,t){if(gt(e)){if("undefined"===typeof t)throw new Error("The URL of a Thing that has not been persisted cannot be determined without a base URL.");return Oe(te(e.url),t)}return e.url}var pt=ht;function gt(e){return ee(e.url)}var vt=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var r;Object(f.a)(this,n);var i="Expected a Thing, but received: [".concat(e,"].");return(r=t.call(this,i)).receivedValue=e,r}return n}(C),yt=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var r;Object(f.a)(this,n);var i=Se(e)?e.value:e,o="Expected a valid URL to identify a property, but received: [".concat(i,"].");return(r=t.call(this,o)).receivedProperty=i,r}return n}(C),mt=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var r;Object(f.a)(this,n);var i=Se(e)?e.value:e,o="Expected a valid URL value, but received: [".concat(i,"].");return(r=t.call(this,o)).receivedValue=i,r}return n}(C),_t=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var r;Object(f.a)(this,n);var i=Se(e)?e.value:e,o="Expected a valid URL to identify a Thing, but received: [".concat(i,"].");return(r=t.call(this,o)).receivedValue=i,r}return n}(C),bt=function(){return Date.now().toString()+Math.random().toString().substring("0.".length)};function wt(e){var t=new URL(e);return t.hash="",t.href}function xt(){return X({type:"Dataset",graphs:{default:{}}})}function St(e){return kt.apply(this,arguments)}function kt(){return kt=Object(l.a)(c.a.mark((function e(t){var n,r,i,o,a,s,u,f,d=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.length>1&&void 0!==d[1]?d[1]:{},!F(t)){e.next=3;break}throw new Z("Fetching the SolidDataset at [".concat(t.url,"] failed: [").concat(t.status,"] [").concat(t.statusText,"]."),t);case 3:if(r=K(t),i=Object.assign({"text/turtle":Be()},n.parsers),null!==(o=V(r))){e.next=8;break}throw new Error("Could not determine the content type of the Resource at [".concat(W(r),"]."));case 8:if(a=o.split(";")[0],"undefined"!==typeof(s=i[a])){e.next=12;break}throw new Error("The Resource at [".concat(W(r),"] has a MIME type of [").concat(a,"], but the only parsers available are for the following MIME types: [").concat(Object.keys(i).join(", "),"]."));case 12:return e.next=14,t.text();case 14:return u=e.sent,f=new Promise((function(e,t){var n=X({graphs:X({default:X({})}),type:"Dataset"}),i=[],a=[];s.onError((function(e){t(new Error("Encountered an error parsing the Resource at [".concat(W(r),"] with content type [").concat(o,"]: ").concat(e)))})),s.onQuad((function(e){a.push(e),"BlankNode"===e.subject.termType||"BlankNode"===e.object.termType?i.push(e):n=Te(n,e)})),s.onComplete(Object(l.a)(c.a.mark((function t(){var o,s,u;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:20,o=i.length<=20?Re(i):[],s=i.filter((function(e){return o.every((function(t){return!t.equals(e.subject)}))})),n=s.reduce((function(e,t){return Te(e,t,{otherQuads:a,chainBlankNodes:o})}),n),u=X(Object.assign(Object.assign({},n),r)),e(u);case 6:case"end":return t.stop()}}),t)})))),s.parse(u,r)})),e.next=18,f;case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e)}))),kt.apply(this,arguments)}function Et(e){return Pt.apply(this,arguments)}function Pt(){return Pt=Object(l.a)(c.a.mark((function e(t){var n,r,i,o,a,s,u,l=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:B,t=T(t),i=Object.assign(Object.assign({},B),n),o=Object.keys(null!==(r=n.parsers)&&void 0!==r?r:{}),a=o.length>0?o.join(", "):"text/turtle",e.next=7,i.fetch(t,{headers:{Accept:a}});case 7:if(!F(s=e.sent)){e.next=10;break}throw new Z("Fetching the Resource at [".concat(t,"] failed: [").concat(s.status,"] [").concat(s.statusText,"]."),s);case 10:return e.next=12,St(s,n);case 12:return u=e.sent,e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Pt.apply(this,arguments)}function At(e){return Ot.apply(this,arguments)}function Ot(){return(Ot=Object(l.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.internal_changeLog.deletions.length>0)){e.next=8;break}return e.t1="DELETE DATA {",e.next=4,Ke(t.internal_changeLog.deletions.map(Nt));case 4:e.t2=e.sent.trim(),e.t0=e.t1.concat.call(e.t1,e.t2,"};"),e.next=9;break;case 8:e.t0="";case 9:if(n=e.t0,!(t.internal_changeLog.additions.length>0)){e.next=18;break}return e.t4="INSERT DATA {",e.next=14,Ke(t.internal_changeLog.additions.map(Nt));case 14:e.t5=e.sent.trim(),e.t3=e.t4.concat.call(e.t4,e.t5,"};"),e.next=19;break;case 18:e.t3="";case 19:return r=e.t3,e.abrupt("return",{method:"PATCH",body:"".concat(n," ").concat(r),headers:{"Content-Type":"application/sparql-update"}});case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ct(e){return Tt.apply(this,arguments)}function Tt(){return(Tt=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke(Ne(t).map(Nt));case 2:return e.t0=e.sent,e.t1={"Content-Type":"text/turtle","If-None-Match":"*",Link:"<".concat(M,'>; rel="type"')},e.abrupt("return",{method:"PUT",body:e.t0,headers:e.t1});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lt(e,t){return It.apply(this,arguments)}function It(){return It=Object(l.a)(c.a.mark((function e(t,n){var r,i,o,a,s,u,l,f,d,h=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=h.length>2&&void 0!==h[2]?h[2]:B,t=T(t),i=Object.assign(Object.assign({},B),r),!jt(o=Ye(n),t)){e.next=10;break}return e.next=7,At(o);case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,Ct(o);case 12:e.t0=e.sent;case 13:return a=e.t0,e.next=16,i.fetch(t,a);case 16:if(!F(s=e.sent)){e.next=20;break}throw u=jt(o,t)?"The changes that were sent to the Pod are listed below.\n\n"+Rt(o):"The SolidDataset that was sent to the Pod is listed below.\n\n"+Ft(o),new Z("Storing the Resource at [".concat(t,"] failed: [").concat(s.status,"] [").concat(s.statusText,"].\n\n")+u,s);case 20:return l=Object.assign(Object.assign({},I(s)),{isRawData:!1}),f=X(Object.assign(Object.assign({},n),{internal_changeLog:{additions:[],deletions:[]},internal_resourceInfo:l})),d=Dt(f),e.abrupt("return",d);case 24:case"end":return e.stop()}}),e)}))),It.apply(this,arguments)}function jt(e,t){return O(e)&&P(e)&&"string"===typeof e.internal_resourceInfo.sourceIri&&(n=t,wt(e.internal_resourceInfo.sourceIri)===wt(n));var n}function Ft(e){var t="";P(e)?t+="# SolidDataset: ".concat(W(e),"\n"):t+="# SolidDataset (no URL yet)\n";var n=ut(e);return 0===n.length?t+="\n<empty>\n":n.forEach((function(n){t+="\n"+function(e){var t="";gt(e)?t+="## Thing (no URL yet \u2014 identifier: `#".concat(te(e.url),"`)\n"):t+="## Thing: ".concat(e.url,"\n");var n=Object.keys(e.predicates);if(0===n.length)t+="\n<empty>\n";else{var i,o=Object(r.a)(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;t+="\nProperty: ".concat(a,"\n"),ot(e,a).forEach((function(e){t+="- ".concat(Je(e),"\n")}))}}catch(s){o.e(s)}finally{o.f()}}return t}(n),O(e)&&(t+="\n"+function(e,t){var n=Ce.namedNode(t.url),r=e.internal_changeLog.additions.reduce((function(e,t){return t.subject.equals(n)?e+1:e}),0),i=e.internal_changeLog.deletions.reduce((function(e,t){return t.subject.equals(n)?e+1:e}),0),o=1===i?"1 value removed":i+" values removed";return"(".concat(1===r?"1 new value added":r+" new values added"," / ").concat(o,")")}(e,n)+"\n")})),t}function Rt(e){if(!P(e))return"This is a newly initialized SolidDataset, so there is no source to compare it to.";if(!O(e)||0===e.internal_changeLog.additions.length&&0===e.internal_changeLog.deletions.length)return"## Changes compared to ".concat(W(e),"\n\n")+"This SolidDataset has not been modified since it was fetched from ".concat(W(e),".\n");var t="## Changes compared to ".concat(W(e),"\n"),n=function(e){var t={};return e.internal_changeLog.deletions.forEach((function(n){var r,i,o,a=Ee(n.subject)?Ae(n.subject,W(e)):n.subject;if(Se(a)&&Se(n.predicate)){var s=T(a),u=T(n.predicate);null!==(r=t[s])&&void 0!==r||(t[s]={}),null!==(i=(o=t[s])[u])&&void 0!==i||(o[u]={added:[],deleted:[]}),t[s][u].deleted.push(n.object)}})),e.internal_changeLog.additions.forEach((function(n){var r,i,o,a=Ee(n.subject)?Ae(n.subject,W(e)):n.subject;if(Se(a)&&Se(n.predicate)){var s=T(a),u=T(n.predicate);null!==(r=t[s])&&void 0!==r||(t[s]={}),null!==(i=(o=t[s])[u])&&void 0!==i||(o[u]={added:[],deleted:[]}),t[s][u].added.push(n.object)}})),t}(e);return Object.keys(n).forEach((function(e){t+="\n### Thing: ".concat(e,"\n");var r=n[e];Object.keys(r).forEach((function(e){t+="\nProperty: ".concat(e,"\n");var n=r[e].deleted,i=r[e].added;n.length>0&&(t+="- Removed:\n",n.forEach((function(e){return t+="  - ".concat(Je(e),"\n")}))),i.length>0&&(t+="- Added:\n",i.forEach((function(e){return t+="  - ".concat(Je(e),"\n")})))}))})),t}function Nt(e){var t=Se(e.subject)?Mt(e.subject):e.subject,n=Se(e.object)?Mt(e.object):e.object;return Ce.quad(t,e.predicate,n,e.graph)}function Mt(e){return ee(e.value)?Ce.namedNode("#"+te(e.value)):e}function Dt(e){var t=W(e),n=e.graphs.default,r=Object.keys(n).reduce((function(e,n){var r=function(e,t){var n=Object.keys(e.predicates).reduce((function(e,n){var r,i=null!==(r=e[n].namedNodes)&&void 0!==r?r:[];if(i.every((function(e){return!ee(e)})))return e;var a=X(i.map((function(e){return ee(e)?"".concat(t,"#").concat(te(e)):e}))),s=X(Object.assign(Object.assign({},e[n]),{namedNodes:a}));return X(Object.assign(Object.assign({},e),Object(o.a)({},n,s)))}),e.predicates);return X(Object.assign(Object.assign({},e),{predicates:n,url:ee(e.url)?"".concat(t,"#").concat(te(e.url)):e.url}))}(e[n],t),i=ee(n)?"".concat(t,"#").concat(te(n)):n,a=Object.assign({},e);return delete a[n],a[i]=r,X(a)}),n),i=X(Object.assign(Object.assign({},e.graphs),{default:r}));return X(Object.assign(Object.assign({},e),{graphs:i}))}E.Response;function Ut(e){var t=xt();return Object.assign(Object.assign({},t),{internal_resourceInfo:{sourceIri:T(e),isRawData:!1,contentType:"text/turtle",linkedResources:{}}})}var Bt=function(e,t,n){var r,i;if(Ze(e),!Pe(t))throw new yt(t);if(!dt(n)&&!Pe(n))throw new mt(n);var a,s=T(t),u=null!==(r=e.predicates[s])&&void 0!==r?r:{},c=null!==(i=u.namedNodes)&&void 0!==i?i:[];a=Se(n)?n.value:"string"===typeof n?n:gt(n)?n.url:pt(n);var l=X(c.concat(T(a))),f=X(Object.assign(Object.assign({},u),{namedNodes:l})),d=X(Object.assign(Object.assign({},e.predicates),Object(o.a)({},s,f)));return X(Object.assign(Object.assign({},e),{predicates:d}))},Ht=Bt,zt=function(e,t,n){return Ze(e),Xt(e,t,function(e){return e?"true":"false"}(n),ae)},Kt=function(e,t,n){return Ze(e),Xt(e,t,function(e){return e.toISOString()}(n),se)},Vt=function(e,t,n){return Ze(e),Xt(e,t,function(e){var t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate(),i=me(e.toISOString()),o=Object(a.a)(i,2),s=(o[0],o[1]);return"".concat(t,"-").concat(String(n).padStart(2,"0"),"-").concat(String(r).padStart(2,"0")).concat(s)}(n),ue)},Wt=function(e,t,n){return Ze(e),Xt(e,t,function(e){var t,n;if(e.millisecond&&(t=e.millisecond<10?"00"+e.millisecond:e.millisecond<100?"0"+e.millisecond:e.millisecond),"number"===typeof e.timezoneHourOffset){var r=Math.abs(e.timezoneHourOffset)<10?"0"+Math.abs(e.timezoneHourOffset):Math.abs(e.timezoneHourOffset);n=e.timezoneHourOffset>=0?"+"+r:"-"+r,e.timezoneMinuteOffset?n=n+":"+(e.timezoneMinuteOffset<10?"0"+e.timezoneMinuteOffset:e.timezoneMinuteOffset):n+=":00"}return(e.hour<10?"0"+e.hour:e.hour)+":"+(e.minute<10?"0"+e.minute:e.minute)+":"+(e.second<10?"0"+e.second:e.second)+(e.millisecond?"."+t:"")+(n||"")}(n),ce)},qt=function(e,t,n){return Ze(e),Xt(e,t,function(e){return e.toString()}(n),le)},Jt=function(e,t,n){return Ze(e),Xt(e,t,function(e){return e.toString()}(n),fe)};function Zt(e,t,n,r){var i,a,s;if(Ze(e),!Pe(t))throw new yt(t);var u=T(t),c=xe(r),l=null!==(i=e.predicates[u])&&void 0!==i?i:{},f=null!==(a=l.langStrings)&&void 0!==a?a:{},d=null!==(s=f[c])&&void 0!==s?s:[],h=X(d.concat(n)),p=X(Object.assign(Object.assign({},f),Object(o.a)({},c,h))),g=X(Object.assign(Object.assign({},l),{langStrings:p})),v=X(Object.assign(Object.assign({},e.predicates),Object(o.a)({},u,g)));return X(Object.assign(Object.assign({},e),{predicates:v}))}var Gt=function(e,t,n){return Ze(e),Xt(e,t,n,de)};function Yt(e,t,n){return Bt(e,t,n.value)}function $t(e,t,n){if(Ze(e),!Pe(t))throw new yt(t);return n.datatype.value===he?Zt(e,t,n.value,n.language):Xt(e,t,n.value,n.datatype.value)}function Qt(e,t,n){var r,i;if("NamedNode"===n.termType)return Yt(e,t,n);if("Literal"===n.termType)return $t(e,t,n);if("BlankNode"===n.termType){if(Ze(e),!Pe(t))throw new yt(t);var a=T(t),s=null!==(r=e.predicates[a])&&void 0!==r?r:{},u=null!==(i=s.blankNodes)&&void 0!==i?i:[],c=X(u.concat(oe(n))),l=X(Object.assign(Object.assign({},s),{blankNodes:c})),f=X(Object.assign(Object.assign({},e.predicates),Object(o.a)({},a,l)));return X(Object.assign(Object.assign({},e),{predicates:f}))}throw new Error("Term type [".concat(n.termType,"] is not supported by @inrupt/solid-client."))}function Xt(e,t,n,r){var i,a,s;if(Ze(e),!Pe(t))throw new yt(t);var u=T(t),c=null!==(i=e.predicates[u])&&void 0!==i?i:{},l=null!==(a=c.literals)&&void 0!==a?a:{},f=null!==(s=l[r])&&void 0!==s?s:[],d=X(f.concat(n)),h=X(Object.assign(Object.assign({},l),Object(o.a)({},r,d))),p=X(Object.assign(Object.assign({},c),{literals:h})),g=X(Object.assign(Object.assign({},e.predicates),Object(o.a)({},u,p)));return X(Object.assign(Object.assign({},e),{predicates:g}))}function en(e,t){if(Ze(e),!Pe(t))throw new yt(t);var n=T(t),r=Object.assign({},e.predicates);return delete r[n],X(Object.assign(Object.assign({},e),{predicates:X(r)}))}var tn=function(e,t,n){var r,i,a;if(Ze(e),!Pe(t))throw new yt(t);var s=T(t);if(!dt(n)&&!Pe(n))throw new mt(n);var u=Se(n)?n.value:"string"===typeof n?n:pt(n),c=X(null!==(a=null===(i=null===(r=e.predicates[s])||void 0===r?void 0:r.namedNodes)||void 0===i?void 0:i.filter((function(e){return e.toLowerCase()!==u.toLowerCase()})))&&void 0!==a?a:[]),l=X(Object.assign(Object.assign({},e.predicates[s]),{namedNodes:c})),f=X(Object.assign(Object.assign({},e.predicates),Object(o.a)({},s,l)));return X(Object.assign(Object.assign({},e),{predicates:f}))},nn=tn,rn=function(e,t,n){return Ze(e),pn(e,t,ae,(function(e){return pe(e)===n}))},on=function(e,t,n){return Ze(e),pn(e,t,se,(function(e){var t;return(null===(t=ve(e))||void 0===t?void 0:t.getTime())===n.getTime()}))},an=function(e,t,n){return Ze(e),pn(e,t,ue,(function(e){var t=ye(e);return!!t&&(t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()&&t.getDate()===n.getDate())}))},sn=function(e,t,n){return Ze(e),pn(e,t,ce,(function(e){var t=ge(e);return!!t&&(t.hour===n.hour&&t.minute===n.minute&&t.second===n.second&&t.millisecond===n.millisecond&&t.timezoneHourOffset===n.timezoneHourOffset&&t.timezoneMinuteOffset===n.timezoneMinuteOffset)}))},un=function(e,t,n){return Ze(e),pn(e,t,le,(function(e){return be(e)===n}))},cn=function(e,t,n){return Ze(e),pn(e,t,fe,(function(e){return we(e)===n}))};function ln(e,t,n,r){var i,a;if(Ze(e),!Pe(t))throw new yt(t);var s=T(t),u=null!==(a=null===(i=e.predicates[s])||void 0===i?void 0:i.langStrings)&&void 0!==a?a:{},c=Object.keys(u).find((function(e){return xe(e)===xe(r)&&Array.isArray(u[e])&&u[e].length>0}));if("string"!==typeof c)return e;var l=u[c],f=X(l.filter((function(e){return e!==n}))),d=X(Object.assign(Object.assign({},u),Object(o.a)({},c,f))),h=X(Object.assign(Object.assign({},e.predicates[s]),{langStrings:d})),p=X(Object.assign(Object.assign({},e.predicates),Object(o.a)({},s,h)));return X(Object.assign(Object.assign({},e),{predicates:p}))}var fn=function(e,t,n){return Ze(e),pn(e,t,de,(function(e){return e===n}))};function dn(e,t,n){return tn(e,t,n.value)}function hn(e,t,n){var r,i,a;if(Ze(e),!Pe(t))throw new yt(t);var s=n.datatype.value;if(s===he)return ln(e,t,n.value,n.language);var u=T(t),c=null!==(r=e.predicates[u])&&void 0!==r?r:{},l=null!==(i=c.literals)&&void 0!==i?i:{},f=null!==(a=l[s])&&void 0!==a?a:[],d=X(f.filter((function(e){return e!==n.value}))),h=X(Object.assign(Object.assign({},l),Object(o.a)({},s,d))),p=X(Object.assign(Object.assign({},c),{literals:h})),g=X(Object.assign(Object.assign({},e.predicates),Object(o.a)({},u,p)));return X(Object.assign(Object.assign({},e),{predicates:g}))}function pn(e,t,n,r){var i,a,s;if(!Pe(t))throw new yt(t);var u=T(t),c=null!==(i=e.predicates[u])&&void 0!==i?i:{},l=null!==(a=c.literals)&&void 0!==a?a:{},f=null!==(s=l[n])&&void 0!==s?s:[],d=X(f.filter((function(e){return!r(e)}))),h=X(Object.assign(Object.assign({},l),Object(o.a)({},n,d))),p=X(Object.assign(Object.assign({},c),{literals:h})),g=X(Object.assign(Object.assign({},e.predicates),Object(o.a)({},u,p)));return X(Object.assign(Object.assign({},e),{predicates:g}))}var gn=function(e,t,n){if(Ze(e),!Pe(t))throw new yt(t);if(!dt(n)&&!Pe(n))throw new mt(n);return Bt(en(e,t),t,n)},vn=gn,yn=function(e,t,n){return Ze(e),zt(en(e,t),t,n)},mn=function(e,t,n){return Ze(e),Kt(en(e,t),t,n)},_n=function(e,t,n){return Ze(e),Vt(en(e,t),t,n)},bn=function(e,t,n){return Ze(e),Wt(en(e,t),t,n)},wn=function(e,t,n){return Ze(e),qt(en(e,t),t,n)},xn=function(e,t,n){return Ze(e),Jt(en(e,t),t,n)};function Sn(e,t,n,r){return Ze(e),Zt(en(e,t),t,n,r)}var kn=function(e,t,n){return Ze(e),Gt(en(e,t),t,n)};function En(e,t,n){return Ze(e),Yt(en(e,t),t,n)}function Pn(e,t,n){return Ze(e),$t(en(e,t),t,n)}function An(e,t,n){if(Ze(e),!Pe(t))throw new yt(t);return Qt(en(e,t),t,n)}function On(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft(),t=dt(e)?e:ft(e);function n(e){return function(n,r){return t=e(t,n,r),o}}function r(e){return function(n,r){return t=e(t,n,r),o}}function i(e){return function(n,r){return t=e(t,n,r),o}}var o={build:function(){return t},addUrl:n(Bt),addIri:n(Ht),addBoolean:n(zt),addDatetime:n(Kt),addDate:n(Vt),addTime:n(Wt),addDecimal:n(qt),addInteger:n(Jt),addStringNoLocale:n(Gt),addStringEnglish:function(e,n){return t=Zt(t,e,n,"en"),o},addStringWithLocale:function(e,n,r){return t=Zt(t,e,n,r),o},addNamedNode:n(Yt),addLiteral:n($t),addTerm:n(Qt),setUrl:r(gn),setIri:r(vn),setBoolean:r(yn),setDatetime:r(mn),setDate:r(_n),setTime:r(bn),setDecimal:r(wn),setInteger:r(xn),setStringNoLocale:r(kn),setStringEnglish:function(e,n){return t=Sn(t,e,n,"en"),o},setStringWithLocale:function(e,n,r){return t=Sn(t,e,n,r),o},setNamedNode:r(En),setLiteral:r(Pn),setTerm:r(An),removeAll:function(e){return t=en(t,e),o},removeUrl:i(tn),removeIri:i(nn),removeBoolean:i(rn),removeDatetime:i(on),removeDate:i(an),removeTime:i(sn),removeDecimal:i(un),removeInteger:i(cn),removeStringNoLocale:i(fn),removeStringEnglish:function(e,n){return On(ln(t,e,n,"en"))},removeStringWithLocale:function(e,n,r){return On(ln(t,e,n,r))},removeNamedNode:i(dn),removeLiteral:i(hn)};return o}function Cn(e){var t=J(e).type;return Array.isArray(t)&&t.includes(D.AccessControlResource)}function Tn(e){return Ln.apply(this,arguments)}function Ln(){return Ln=Object(l.a)(c.a.mark((function e(t){var n,r,i,o=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:B,Bn(t)){e.next=3;break}return e.abrupt("return",{resourceAcl:null,fallbackAcl:null});case 3:return e.prev=3,e.next=6,In(t,n);case 6:if(null!==(r=e.sent)){e.next=14;break}return e.next=10,Fn(t,n);case 10:e.t1=e.sent,e.t0={resourceAcl:null,fallbackAcl:e.t1},e.next=15;break;case 14:e.t0={resourceAcl:r,fallbackAcl:null};case 15:return i=e.t0,e.abrupt("return",i);case 19:if(e.prev=19,e.t2=e.catch(3),!(e.t2 instanceof Un)){e.next=23;break}return e.abrupt("return",{resourceAcl:null,fallbackAcl:null});case 23:throw e.t2;case 24:case"end":return e.stop()}}),e,null,[[3,19]])}))),Ln.apply(this,arguments)}function In(e){return jn.apply(this,arguments)}function jn(){return jn=Object(l.a)(c.a.mark((function e(t){var n,r,i=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:B,Bn(t)){e.next=3;break}return e.abrupt("return",null);case 3:return e.prev=3,e.next=6,Et(t.internal_resourceInfo.aclUrl,n);case 6:if(!Cn(r=e.sent)){e.next=9;break}throw new Un(t,r);case 9:return e.abrupt("return",X(Object.assign(Object.assign({},r),{internal_accessTo:W(t)})));case 12:if(e.prev=12,e.t0=e.catch(3),!(e.t0 instanceof Un)){e.next=16;break}throw e.t0;case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[3,12]])}))),jn.apply(this,arguments)}function Fn(e){return Rn.apply(this,arguments)}function Rn(){return Rn=Object(l.a)(c.a.mark((function e(t){var n,r,i,o,a,s,u,l=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:B,r=new URL(W(t)),"/"!==(i=r.pathname)){e.next=5;break}return e.abrupt("return",null);case 5:return o=Nn(i),a=new URL(o,r.origin).href,e.next=9,H(a,n);case 9:if(Bn(s=e.sent)){e.next=12;break}return e.abrupt("return",null);case 12:return e.next=14,In(s,n);case 14:if(null!==(u=e.sent)){e.next=17;break}return e.abrupt("return",Fn(s,n));case 17:return e.abrupt("return",u);case 18:case"end":return e.stop()}}),e)}))),Rn.apply(this,arguments)}function Nn(e){var t="/"===e.substring(e.length-1)?e.substring(0,e.length-1):e;return e.substring(0,t.lastIndexOf("/"))+"/"}var Mn={read:"http://www.w3.org/ns/auth/acl#Read",append:"http://www.w3.org/ns/auth/acl#Append",write:"http://www.w3.org/ns/auth/acl#Write",control:"http://www.w3.org/ns/auth/acl#Control"};function Dn(e,t){return Object.assign(j(e),{internal_acl:t})}var Un=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e,r){return Object(f.a)(this,n),t.call(this,"[".concat(q(e),"] is governed by Access Control Policies in [").concat(q(r),"] rather than by Web Access Control."))}return n}(m(Error));function Bn(e){return"string"===typeof e.internal_resourceInfo.aclUrl}k.a.dataset;function Hn(e){if(!Ir(e))throw new Error("An Access Control Resource for [".concat(W(e),"] is not available. This could be because the current user is not allowed to see it, or because their Pod Server does not support Access Control Resources."));return e.internal_acp.acr}function zn(e,t){return Object.assign(j(e),{internal_acp:Object.assign(Object.assign({},e.internal_acp),{acr:t})})}function Kn(e){var t=ft(e);return t=vn(t,N,D.AccessControl)}function Vn(e,t){return ut(Hn(e),t).filter((function(e){return et(e,N).includes(D.AccessControl)}))}function Wn(e,t){return zn(e,ct(Hn(e),t))}function qn(e,t){return Ht(e,D.apply,t)}function Jn(e){return et(e,D.apply)}function Zn(e,t){return nn(e,D.apply,t)}function Gn(e){return en(e,D.apply)}function Yn(e,t){return Ht(e,D.applyMembers,t)}function $n(e){return et(e,D.applyMembers)}function Qn(e){return en(e,D.applyMembers)}function Xn(e){var t=Vn(e);return 0===t.length?Kn():t[0]}function er(e){return A(e)&&Array.isArray(e.internal_resourceInfo.linkedResources[D.accessControl])&&1===e.internal_resourceInfo.linkedResources[D.accessControl].length}function tr(e,t){var n,r=Hn(e),i=W(r),o=null!==(n=st(r,i))&&void 0!==n?n:ft({url:i});return zn(e,ct(r,o=Ht(o,D.access,t)))}function nr(e,t){var n,r=Hn(e),i=W(r),o=null!==(n=st(r,i))&&void 0!==n?n:ft({url:i});return zn(e,ct(r,o=Ht(o,D.accessMembers,t)))}function rr(e){var t=Hn(e),n=st(t,W(t));return null===n?[]:et(n,D.access)}function ir(e){var t=Hn(e),n=st(t,W(t));return null===n?[]:et(n,D.accessMembers)}function or(e,t){var n=Hn(e),r=st(n,W(n));return null===r?e:zn(e,ct(n,nn(r,D.access,t)))}function ar(e,t){var n=Hn(e),r=st(n,W(n));return null===r?e:zn(e,ct(n,nn(r,D.accessMembers,t)))}function sr(e){var t=Hn(e),n=st(t,W(t));return null===n?e:zn(e,ct(t,en(n,D.access)))}function ur(e){var t=Hn(e),n=st(t,W(t));return null===n?e:zn(e,ct(t,en(n,D.accessMembers)))}function cr(e,t){return Wn(e,qn(Xn(e),t))}function lr(e,t){return Wn(e,Yn(Xn(e),t))}function fr(e){var t=Vn(e).map((function(e){return Jn(e)})),n=new Set;return t.forEach((function(e){e.forEach((function(e){return n.add(e)}))})),Array.from(n)}function dr(e){var t=Vn(e).map((function(e){return $n(e)})),n=new Set;return t.forEach((function(e){e.forEach((function(e){return n.add(e)}))})),Array.from(n)}function hr(e,t){return Vn(e).map((function(e){return Zn(e,t)})).reduce(Wn,e)}function pr(e,t){var n=Vn(e).map((function(e){return function(e,t){return nn(e,D.applyMembers,t)}(e,t)}));return n.reduce(Wn,e)}function gr(e){return Vn(e).map((function(e){return Gn(e)})).reduce(Wn,e)}function vr(e){return Vn(e).map((function(e){return Qn(e)})).reduce(Wn,e)}function yr(e){var t="# Access controls for ".concat(W(e),"\n"),n=fr(e),r=dr(e),i=rr(e),o=ir(e);return 0===n.length&&0===r.length&&0===i.length&&0===o.length&&(t+="\n<no policies specified yet>\n"),n.length>0&&(t+="\nThe following policies apply to this resource:\n- ",t+=n.join("\n- ")+"\n"),i.length>0&&(t+="\nThe following policies apply to the access control resource for this resource:\n- ",t+=i.join("\n- ")+"\n"),r.length>0&&(t+="\nThe following policies apply to the children of this resource:\n- ",t+=r.join("\n- ")+"\n"),o.length>0&&(t+="\nThe following policies apply to the access control resources for children of this resource:\n- ",t+=o.join("\n- ")+"\n"),t}function mr(e){return _r.apply(this,arguments)}function _r(){return _r=Object(l.a)(c.a.mark((function e(t){var n,r,i,o,a,s=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:B,r=T(t),i=Object.assign(Object.assign({},B),n),e.next=5,Et(r,i);case 5:return o=e.sent,e.next=8,jr(o,i);case 8:return a=e.sent,e.abrupt("return",Object.assign(Object.assign({},o),a));case 10:case"end":return e.stop()}}),e)}))),_r.apply(this,arguments)}function br(e){return wr.apply(this,arguments)}function wr(){return wr=Object(l.a)(c.a.mark((function e(t){var n,r,i,o,a,s=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:B,r=T(t),i=Object.assign(Object.assign({},B),n),e.next=5,Y(r,i);case 5:return o=e.sent,e.next=8,jr(o,i);case 8:return a=e.sent,e.abrupt("return",Object.assign(o,a));case 10:case"end":return e.stop()}}),e)}))),wr.apply(this,arguments)}function xr(e){return Sr.apply(this,arguments)}function Sr(){return Sr=Object(l.a)(c.a.mark((function e(t){var n,r,i,o,a,s=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:B,r=T(t),i=Object.assign(Object.assign({},B),n),e.next=5,H(r,i);case 5:return o=e.sent,e.next=8,jr(o,i);case 8:return a=e.sent,e.abrupt("return",Object.assign(Object.assign({},o),a));case 10:case"end":return e.stop()}}),e)}))),Sr.apply(this,arguments)}function kr(e){return Er.apply(this,arguments)}function Er(){return Er=Object(l.a)(c.a.mark((function e(t){var n,r,i,o,a,s,u=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:B,r=T(t),i=Object.assign(Object.assign({},B),n),e.next=5,Et(r,i);case 5:if(!Bn(o=e.sent)){e.next=13;break}return e.next=9,Tn(o,i);case 9:return a=e.sent,e.abrupt("return",Dn(o,a));case 13:return e.next=15,jr(o,i);case 15:return s=e.sent,e.abrupt("return",Object.assign(Object.assign({},o),s));case 17:case"end":return e.stop()}}),e)}))),Er.apply(this,arguments)}function Pr(e){return Ar.apply(this,arguments)}function Ar(){return Ar=Object(l.a)(c.a.mark((function e(t){var n,r,i,o,a,s,u=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:B,r=T(t),i=Object.assign(Object.assign({},B),n),e.next=5,Y(r,i);case 5:if(!Bn(o=e.sent)){e.next=13;break}return e.next=9,Tn(o,i);case 9:return a=e.sent,e.abrupt("return",Dn(o,a));case 13:return e.next=15,jr(o,i);case 15:return s=e.sent,e.abrupt("return",Object.assign(o,s));case 17:case"end":return e.stop()}}),e)}))),Ar.apply(this,arguments)}function Or(e){return Cr.apply(this,arguments)}function Cr(){return Cr=Object(l.a)(c.a.mark((function e(t){var n,r,i,o,a,s,u=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:B,r=T(t),i=Object.assign(Object.assign({},B),n),e.next=5,H(r,i);case 5:if(!Bn(o=e.sent)){e.next=13;break}return e.next=9,Tn(o,i);case 9:return a=e.sent,e.abrupt("return",Dn(o,a));case 13:return e.next=15,jr(o,i);case 15:return s=e.sent,e.abrupt("return",Object.assign(Object.assign({},o),s));case 17:case"end":return e.stop()}}),e)}))),Cr.apply(this,arguments)}function Tr(e){return Lr.apply(this,arguments)}function Lr(){return Lr=Object(l.a)(c.a.mark((function e(t){var n,r,i,o,a=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:B,r=Hn(t),i=Object.assign(Object.assign({},B),n),e.next=5,Lt(W(r),r,i);case 5:return o=e.sent,e.abrupt("return",zn(t,o));case 7:case"end":return e.stop()}}),e)}))),Lr.apply(this,arguments)}function Ir(e){return"object"===typeof e.internal_acp&&null!==e.internal_acp&&"object"===typeof e.internal_acp.acr&&null!==e.internal_acp.acr}function jr(e,t){return Fr.apply(this,arguments)}function Fr(){return(Fr=Object(l.a)(c.a.mark((function e(t,n){var r,i,o,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=void 0,!er(t)){e.next=5;break}r=t.internal_resourceInfo.linkedResources[D.accessControl][0],e.next=10;break;case 5:if(!Bn(t)){e.next=10;break}return e.next=8,H(t.internal_resourceInfo.aclUrl,n);case 8:Cn(i=e.sent)&&(r=W(i));case 10:if("string"===typeof r){e.next=12;break}return e.abrupt("return",{internal_acp:{acr:null}});case 12:return e.prev=12,e.next=15,Et(r,n);case 15:o=e.sent,e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(12),e.abrupt("return",{internal_acp:{acr:null}});case 21:return a=Object.assign(Object.assign({},o),{accessTo:W(t)}),s={internal_acp:{acr:a}},e.abrupt("return",s);case 24:case"end":return e.stop()}}),e,null,[[12,18]])})))).apply(this,arguments)}function Rr(e){var t=fr(e).map(wt).concat(dr(e).map(wt)).concat(rr(e).map(wt)).concat(ir(e).map(wt));return Array.from(new Set(t))}function Nr(e){return Mr.apply(this,arguments)}function Mr(){return Mr=Object(l.a)(c.a.mark((function e(t){var n,r,i,o,a=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:B,r=T(t),i=Object.assign(Object.assign({},B),n),e.next=5,H(r,i);case 5:return o=e.sent,e.t0=Ir,e.next=9,jr(o,i);case 9:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 11:case"end":return e.stop()}}),e)}))),Mr.apply(this,arguments)}function Dr(e){return et(e,N).includes(D.Rule)}function Ur(e,t){return Ht(e,D.allOf,t)}function Br(e,t){return nn(e,D.allOf,t)}function Hr(e,t){return vn(e,D.allOf,t)}function zr(e){return et(e,D.allOf)}function Kr(e,t){return Ht(e,D.anyOf,t)}function Vr(e,t){return nn(e,D.anyOf,t)}function Wr(e,t){return vn(e,D.anyOf,t)}function qr(e){return et(e,D.anyOf)}function Jr(e,t){return Ht(e,D.noneOf,t)}function Zr(e,t){return nn(e,D.noneOf,t)}function Gr(e,t){return vn(e,D.noneOf,t)}function Yr(e){return et(e,D.noneOf)}function $r(e){var t=ft({url:T(e)});return t=gn(t,N,D.Rule)}function Qr(e,t){var n=Hn(e),r=new URL(W(n));r.hash="#".concat(t);var i=ft({url:r.href});return i=gn(i,N,D.Rule)}function Xr(e,t){var n=st(e,t);return null===n||Qe(n,N)!==D.Rule?null:n}function ei(e,t){var n=Hn(e),r=W(n),i=new URL(r);i.hash="#".concat(t);var o=st(n,i.href);return null!==o&&Dr(o)?o:null}function ti(e){return ut(e).filter(Dr)}function ni(e,t){return lt(e,t)}function ri(e,t){return ct(e,t)}function ii(e,t){return zn(e,ct(Hn(e),t))}function oi(e){return et(e,D.agent).filter((function(e){return e!==D.PublicAgent&&e!==D.AuthenticatedAgent&&e!==D.CreatorAgent}))}function ai(e,t){var n=hi(e),r=vi(e),i=_i(e),o=vn(e,D.agent,t);return n&&(o=pi(o)),r&&(o=yi(o)),i&&(o=bi(o)),o}function si(e,t){return Ht(e,D.agent,t)}function ui(e,t){return nn(e,D.agent,t)}function ci(e){return et(e,D.group)}function li(e,t){return vn(e,D.group,t)}function fi(e,t){return Ht(e,D.group,t)}function di(e,t){return nn(e,D.group,t)}function hi(e){return et(e,D.agent).filter((function(e){return e===D.PublicAgent})).length>0}function pi(e){if("object"===typeof arguments&&"boolean"===typeof arguments[1])throw new Error("The function `setPublic` no longer takes a second parameter. It is now used together with `removePublic` instead.");return Ht(e,D.agent,D.PublicAgent)}function gi(e){return nn(e,D.agent,D.PublicAgent)}function vi(e){return et(e,D.agent).filter((function(e){return e===D.AuthenticatedAgent})).length>0}function yi(e){if("object"===typeof arguments&&"boolean"===typeof arguments[1])throw new Error("The function `setAuthenticated` no longer takes a second parameter. It is now used together with `removeAuthenticated` instead.");return Ht(e,D.agent,D.AuthenticatedAgent)}function mi(e){return nn(e,D.agent,D.AuthenticatedAgent)}function _i(e){return et(e,D.agent).filter((function(e){return e===D.CreatorAgent})).length>0}function bi(e){if("object"===typeof arguments&&"boolean"===typeof arguments[1])throw new Error("The function `setCreator` no longer takes a second parameter. It is now used together with `removeCreator` instead.");return Ht(e,D.agent,D.CreatorAgent)}function wi(e){return nn(e,D.agent,D.CreatorAgent)}function xi(e){return et(e,D.client).filter((function(e){return e!==U}))}function Si(e){return et(e,D.client).filter((function(e){return e===U})).length>0}function ki(e){return Ht(e,D.client,U)}function Ei(e){var t="## Rule: ".concat(ht(e),"\n\n"),n="";hi(e)&&(n+="- Everyone\n"),vi(e)&&(n+="- All authenticated agents\n"),_i(e)&&(n+="- The creator of this resource\n"),Si(e)&&(n+="- Users of any client application\n");var r=oi(e);r.length>0&&(n+="- The following agents:\n  - ",n+=r.join("\n  - ")+"\n");var i=ci(e);i.length>0&&(n+="- Members of the following groups:\n  - ",n+=i.join("\n  - ")+"\n");var o=xi(e);return o.length>0&&(n+="- Users of the following client applications:\n  - ",n+=o.join("\n  - ")+"\n"),t+=n.length>0?"This rule applies to:\n"+n:"<empty>\n"}function Pi(e){return et(e,N).includes(D.Policy)}function Ai(e){var t=ft({url:T(e)});return t=gn(t,N,D.Policy)}function Oi(e,t){var n=st(e,t);return null!==n&&Pi(n)?n:null}function Ci(e){return ut(e).filter((function(e){return!gt(e)&&Pi(e)}))}function Ti(e,t){return lt(e,t)}function Li(e,t){return ct(e,t)}function Ii(e,t){var n=en(e,D.allow);return!0===t.read&&(n=Ht(n,D.allow,Mn.read)),!0===t.append&&(n=Ht(n,D.allow,Mn.append)),!0===t.write&&(n=Ht(n,D.allow,Mn.write)),n}function ji(e,t){var n=en(e,D.allow);return!0===t.read&&(n=Ht(n,D.allow,D.Read)),!0===t.append&&(n=Ht(n,D.allow,D.Append)),!0===t.write&&(n=Ht(n,D.allow,D.Write)),n}function Fi(e){var t=et(e,D.allow);return{read:t.includes(Mn.read),append:t.includes(Mn.append),write:t.includes(Mn.write)}}function Ri(e){var t=et(e,D.allow);return{read:t.includes(D.Read),append:t.includes(D.Append),write:t.includes(D.Write)}}function Ni(e,t){var n=en(e,D.deny);return!0===t.read&&(n=Ht(n,D.deny,D.Read)),!0===t.append&&(n=Ht(n,D.deny,D.Append)),!0===t.write&&(n=Ht(n,D.deny,D.Write)),n}function Mi(e){var t=et(e,D.deny);return{read:t.includes(Mn.read),append:t.includes(Mn.append),write:t.includes(Mn.write)}}function Di(e){var t=et(e,D.deny);return{read:t.includes(D.Read),append:t.includes(D.Append),write:t.includes(D.Write)}}function Ui(e,t){var n=Hn(e),r=new URL(W(n));r.hash="#".concat(t);var i=ft({url:r.href});return i=gn(i,N,D.Policy)}function Bi(e,t){var n=Hn(e),r=W(n),i=new URL(r);i.hash="#".concat(t);var o=st(n,i.href);return fr(e).includes(i.href)&&null!==o&&Pi(o)?o:null}function Hi(e,t){var n=Hn(e),r=W(n),i=new URL(r);i.hash="#".concat(t);var o=st(n,i.href);return rr(e).includes(i.href)&&null!==o&&Pi(o)?o:null}function zi(e){var t=Hn(e);return fr(e).map((function(e){return st(t,e)})).filter((function(e){return null!==e&&Pi(e)}))}function Ki(e){var t=Hn(e);return rr(e).map((function(e){return st(t,e)})).filter((function(e){return null!==e&&Pi(e)}))}function Vi(e,t){var n,r=Hn(e),i=t;if("string"===typeof i)try{new URL(i)}catch(a){var o=new URL(W(r));o.hash="#".concat(t),i=o.href}return n="string"===typeof i?i:Se(i)?T(i):ht(i,W(r)),null===Bi(e,new URL(n).hash.substring(1))?e:hr(zn(e,lt(r,i)),n)}function Wi(e,t){var n,r=Hn(e),i=t;if("string"===typeof i)try{new URL(i)}catch(a){var o=new URL(W(r));o.hash="#".concat(t),i=o.href}return n="string"===typeof i?i:Se(i)?T(i):ht(i,W(r)),null===Hi(e,new URL(n).hash.substring(1))?e:or(zn(e,lt(r,i)),n)}function qi(e,t){var n=Hn(e);return cr(zn(e,ct(n,t)),ht(t,W(n)))}function Ji(e,t){var n=Hn(e);return tr(zn(e,ct(n,t)),ht(t,W(n)))}function Zi(e){function t(e,t){return t?"denied":e?"allowed":"unspecified"}var n=Ri(e),r=Di(e),i="## Policy: ".concat(ht(e),"\n\n");i+="- Read: ".concat(t(n.read,r.read),"\n"),i+="- Append: ".concat(t(n.append,r.append),"\n"),i+="- Write: ".concat(t(n.write,r.write),"\n");var o=zr(e),a=qr(e),s=Yr(e);return 0===o.length&&0===a.length&&0===s.length&&(i+="\n<no rules specified yet>\n"),o.length>0&&(i+="\nAll of these rules should match:\n",i+="- "+o.join("\n- ")+"\n"),a.length>0&&(i+="\nAt least one of these rules should match:\n",i+="- "+a.join("\n- ")+"\n"),s.length>0&&(i+="\nNone of these rules should match:\n",i+="- "+s.join("\n- ")+"\n"),i}function Gi(e){var t=new URL("access-control-resource",e).href;return Object.assign(Object.assign({},Ut(t)),{accessTo:e})}function Yi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gi(W(e)),n=Object.assign(j(e),{internal_acp:{acr:t,aprs:{}}});return n}var $i={getFileWithAccessDatasets:Pr,getFileWithAcr:br,getReferencedPolicyUrlAll:Rr,getResourceInfoWithAccessDatasets:Or,getResourceInfoWithAcr:xr,getSolidDatasetWithAccessDatasets:kr,getSolidDatasetWithAcr:mr,hasAccessibleAcr:Ir,saveAcrFor:Tr},Qi={acrAsMarkdown:yr,addAcrPolicyUrl:tr,addMemberAcrPolicyUrl:nr,addMemberPolicyUrl:lr,addPolicyUrl:cr,getAcrPolicyUrlAll:rr,getMemberAcrPolicyUrlAll:ir,getMemberPolicyUrlAll:dr,getPolicyUrlAll:fr,hasLinkedAcr:er,removeAcrPolicyUrl:or,removeAcrPolicyUrlAll:sr,removeMemberAcrPolicyUrl:ar,removeMemberAcrPolicyUrlAll:ur,removeMemberPolicyUrl:pr,removeMemberPolicyUrlAll:vr,removePolicyUrl:hr,removePolicyUrlAll:gr},Xi={createPolicy:Ai,getAllowModes:Ri,getDenyModes:Di,getPolicy:Oi,getPolicyAll:Ci,policyAsMarkdown:Zi,removePolicy:Ti,setAllowModes:ji,setDenyModes:Ni,setPolicy:Li},eo={addAgent:si,addForbiddenRuleUrl:Jr,addGroup:fi,addOptionalRuleUrl:Kr,addRequiredRuleUrl:Ur,createRule:$r,getAgentAll:oi,getForbiddenRuleUrlAll:Yr,getGroupAll:ci,getOptionalRuleUrlAll:qr,getRequiredRuleUrlAll:zr,getRule:Xr,getRuleAll:ti,hasAuthenticated:vi,hasCreator:_i,hasPublic:hi,removeAgent:ui,removeForbiddenRuleUrl:Zr,removeGroup:di,removeOptionalRuleUrl:Vr,removeRequiredRuleUrl:Br,removeRule:ni,ruleAsMarkdown:Ei,setAgent:ai,setForbiddenRuleUrl:Gr,setGroup:li,setOptionalRuleUrl:Wr,setRequiredRuleUrl:Hr,setRule:ri},to={addMockAcrTo:Yi,mockAcrFor:Gi};function no(e,t){return t?pi(e):gi(e)}function ro(e,t){return t?yi(e):mi(e)}function io(e,t){return t?bi(e):wi(e)}var oo={getForbiddenRuleurlAll:Yr,setPublic:no,setAuthenticated:ro,setCreator:io},ao=(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},$i),Qi),Xi),eo),to),oo),{getFileWithAccessDatasets:Pr,getFileWithAcr:br,getReferencedPolicyUrlAll:Rr,getResourceInfoWithAccessDatasets:Or,getResourceInfoWithAcr:xr,getSolidDatasetWithAccessDatasets:kr,getSolidDatasetWithAcr:mr,hasAccessibleAcr:Ir,saveAcrFor:Tr}),so={createPolicy:Ai,getAllowModes:Ri,getDenyModes:Di,getPolicy:Oi,getPolicyAll:Ci,policyAsMarkdown:Zi,removePolicy:Ti,setAllowModes:ji,setDenyModes:Ni,setPolicy:Li},uo={addAgent:si,addForbiddenRuleUrl:Jr,addGroup:fi,addOptionalRuleUrl:Kr,addRequiredRuleUrl:Ur,createRule:$r,getAgentAll:oi,getForbiddenRuleUrlAll:Yr,getGroupAll:ci,getOptionalRuleUrlAll:qr,getRequiredRuleUrlAll:zr,getRule:Xr,getRuleAll:ti,hasAuthenticated:vi,hasCreator:_i,hasPublic:hi,removeAgent:ui,removeForbiddenRuleUrl:Zr,removeGroup:di,removeOptionalRuleUrl:Vr,removeRequiredRuleUrl:Br,removeRule:ni,ruleAsMarkdown:Ei,setAgent:ai,setForbiddenRuleUrl:Gr,setGroup:li,setOptionalRuleUrl:Wr,setRequiredRuleUrl:Hr,setRule:ri},co={addMockAcrTo:Yi,mockAcrFor:Gi},lo={hasLinkedAcr:er,addAcrPolicyUrl:tr,addMemberAcrPolicyUrl:nr,getAcrPolicyUrlAll:rr,getMemberAcrPolicyUrlAll:ir,removeAcrPolicyUrl:or,removeAcrPolicyUrlAll:sr,removeMemberAcrPolicyUrl:ar,removeMemberAcrPolicyUrlAll:ur},fo={createControl:Kn,getControl:function(e,t,n){var r=st(Hn(e),t,n);return null!==r&&et(r,N).includes(D.AccessControl)?r:null},getAllControl:Vn,getControlAll:Vn,setControl:Wn,removeControl:function(e,t){var n=lt(Hn(e),t);return zn(e,n)},addPolicyUrl:qn,getPolicyUrlAll:Jn,removePolicyUrl:Zn,removePolicyUrlAll:Gn,addMemberPolicyUrl:Yn,getMemberPolicyUrlAll:$n,removeMemberPolicyUrl:$n,removeMemberPolicyUrlAll:Qn,getForbiddenRuleurlAll:Yr,setPublic:no,setAuthenticated:ro,setCreator:io};Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ao),so),uo),co),lo),fo);var ho={getFileWithAccessDatasets:Pr,getFileWithAcr:br,getReferencedPolicyUrlAll:Rr,getResourceInfoWithAccessDatasets:Or,getResourceInfoWithAcr:xr,getSolidDatasetWithAccessDatasets:kr,getSolidDatasetWithAcr:mr,hasAccessibleAcr:Ir,saveAcrFor:Tr,isAcpControlled:Nr},po={acrAsMarkdown:yr,addAcrPolicyUrl:tr,addMemberAcrPolicyUrl:nr,addMemberPolicyUrl:lr,addPolicyUrl:cr,getAcrPolicyUrlAll:rr,getMemberAcrPolicyUrlAll:ir,getMemberPolicyUrlAll:dr,getPolicyUrlAll:fr,hasLinkedAcr:er,removeAcrPolicyUrl:or,removeAcrPolicyUrlAll:sr,removeMemberAcrPolicyUrl:ar,removeMemberAcrPolicyUrlAll:ur,removeMemberPolicyUrl:pr,removeMemberPolicyUrlAll:vr,removePolicyUrl:hr,removePolicyUrlAll:gr},go={createPolicy:Ai,getAllowModes:Ri,getDenyModes:Di,getPolicy:Oi,getPolicyAll:Ci,policyAsMarkdown:Zi,removePolicy:Ti,setAllowModes:ji,setDenyModes:Ni,setPolicy:Li,createResourcePolicyFor:Ui,getResourceAcrPolicy:Hi,getResourceAcrPolicyAll:Ki,getResourcePolicy:Bi,getResourcePolicyAll:zi,removeResourceAcrPolicy:Wi,removeResourcePolicy:Vi,setResourceAcrPolicy:Ji,setResourcePolicy:qi},vo={addAgent:si,addGroup:fi,createRule:$r,getAgentAll:oi,getGroupAll:ci,getRule:Xr,getRuleAll:ti,removeAgent:ui,removeGroup:di,removeRule:ni,ruleAsMarkdown:Ei,setAgent:ai,setGroup:li,setRule:ri,addClient:function(e,t){return Ht(e,D.client,t)},getClientAll:xi,hasAnyClient:Si,removeClient:function(e,t){return nn(e,D.client,t)},setAnyClient:ki,setClient:function(e,t){var n=Si(e),r=vn(e,D.client,t);return n&&(r=ki(r)),r},removeAnyClient:function(e){return nn(e,D.client,U)},hasAuthenticated:vi,hasCreator:_i,hasPublic:hi,setAuthenticated:yi,setCreator:bi,setPublic:pi,removeAuthenticated:mi,removeCreator:wi,removePublic:gi,getAnyOfRuleUrlAll:qr,addAnyOfRuleUrl:Kr,removeAnyOfRuleUrl:Vr,setAnyOfRuleUrl:Wr,getAllOfRuleUrlAll:zr,addAllOfRuleUrl:Ur,removeAllOfRuleUrl:Br,setAllOfRuleUrl:Hr,getNoneOfRuleUrlAll:Yr,addNoneOfRuleUrl:Jr,removeNoneOfRuleUrl:Zr,setNoneOfRuleUrl:Gr,createResourceRuleFor:Qr,getResourceRule:ei,getResourceRuleAll:function(e){return ut(Hn(e)).filter(Dr)},removeResourceRule:function(e,t){var n,r=Hn(e);if("string"===typeof t)try{new URL(t),n=t}catch(a){var i=new URL(W(r));i.hash="#".concat(t),n=i.href}else n=Se(t)?T(t):ht(t);var o=ei(e,new URL(n).hash.substring(1));return null===o?e:zn(e,lt(r,o))},setResourceRule:ii},yo={addMockAcrTo:Yi,mockAcrFor:Gi};Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ho),po),go),vo),yo);function mo(e){return et(e,N).includes(D.Matcher)}function _o(e){return et(e,D.allOf)}function bo(e){return et(e,D.anyOf)}function wo(e){return et(e,D.noneOf)}function xo(e,t){var n=Hn(e),r=new URL(W(n));r.hash="#".concat(t);var i=ft({url:r.href});return i=gn(i,N,D.Matcher)}function So(e,t){var n=Hn(e),r=W(n),i=new URL(r);i.hash="#".concat(t);var o=st(n,i.href);return null!==o&&mo(o)?o:null}function ko(e,t){return zn(e,ct(Hn(e),t))}function Eo(e){return et(e,D.agent).filter((function(e){return e!==D.PublicAgent&&e!==D.AuthenticatedAgent&&e!==D.CreatorAgent}))}function Po(e){return et(e,D.agent).filter((function(e){return e===D.PublicAgent})).length>0}function Ao(e){if("object"===typeof arguments&&"boolean"===typeof arguments[1])throw new Error("The function `setPublic` no longer takes a second parameter. It is now used together with `removePublic` instead.");return Ht(e,D.agent,D.PublicAgent)}function Oo(e){return et(e,D.agent).filter((function(e){return e===D.AuthenticatedAgent})).length>0}function Co(e){if("object"===typeof arguments&&"boolean"===typeof arguments[1])throw new Error("The function `setAuthenticated` no longer takes a second parameter. It is now used together with `removeAuthenticated` instead.");return Ht(e,D.agent,D.AuthenticatedAgent)}function To(e){return et(e,D.agent).filter((function(e){return e===D.CreatorAgent})).length>0}function Lo(e){if("object"===typeof arguments&&"boolean"===typeof arguments[1])throw new Error("The function `setCreator` no longer takes a second parameter. It is now used together with `removeCreator` instead.");return Ht(e,D.agent,D.CreatorAgent)}function Io(e){return et(e,D.client).filter((function(e){return e!==U}))}function jo(e){return et(e,D.client).filter((function(e){return e===U})).length>0}function Fo(e){return Ht(e,D.client,U)}var Ro={getFileWithAccessDatasets:Pr,getFileWithAcr:br,getReferencedPolicyUrlAll:Rr,getResourceInfoWithAccessDatasets:Or,getResourceInfoWithAcr:xr,getSolidDatasetWithAccessDatasets:kr,getSolidDatasetWithAcr:mr,hasAccessibleAcr:Ir,saveAcrFor:Tr,isAcpControlled:Nr},No={acrAsMarkdown:yr,addAcrPolicyUrl:tr,addMemberAcrPolicyUrl:nr,addMemberPolicyUrl:lr,addPolicyUrl:cr,getAcrPolicyUrlAll:rr,getMemberAcrPolicyUrlAll:ir,getMemberPolicyUrlAll:dr,getPolicyUrlAll:fr,hasLinkedAcr:er,removeAcrPolicyUrl:or,removeAcrPolicyUrlAll:sr,removeMemberAcrPolicyUrl:ar,removeMemberAcrPolicyUrlAll:ur,removeMemberPolicyUrl:pr,removeMemberPolicyUrlAll:vr,removePolicyUrl:hr,removePolicyUrlAll:gr},Mo={createPolicy:Ai,getAllowModes:Fi,getDenyModes:Mi,getPolicy:Oi,getPolicyAll:Ci,policyAsMarkdown:Zi,removePolicy:Ti,setAllowModes:Ii,setDenyModes:function(e,t){var n=en(e,D.deny);return!0===t.read&&(n=Ht(n,D.deny,Mn.read)),!0===t.append&&(n=Ht(n,D.deny,Mn.append)),!0===t.write&&(n=Ht(n,D.deny,Mn.write)),n},setPolicy:Li,createResourcePolicyFor:Ui,getResourceAcrPolicy:Hi,getResourceAcrPolicyAll:Ki,getResourcePolicy:Bi,getResourcePolicyAll:zi,removeResourceAcrPolicy:Wi,removeResourcePolicy:Vi,setResourceAcrPolicy:Ji,setResourcePolicy:qi},Do={addAgent:function(e,t){return Ht(e,D.agent,t)},createMatcher:function(e){var t=ft({url:T(e)});return t=gn(t,N,D.Matcher)},getAgentAll:Eo,getMatcher:function(e,t){var n=st(e,t);return null!==n&&mo(n)?n:null},getMatcherAll:function(e){return ut(e).filter(mo)},removeAgent:function(e,t){return nn(e,D.agent,t)},removeMatcher:function(e,t){return lt(e,t)},matcherAsMarkdown:function(e){var t="## Matcher: ".concat(ht(e),"\n\n"),n="";Po(e)&&(n+="- Everyone\n"),Oo(e)&&(n+="- All authenticated agents\n"),To(e)&&(n+="- The creator of this resource\n"),jo(e)&&(n+="- Users of any client application\n");var r=Eo(e);r.length>0&&(n+="- The following agents:\n  - ",n+=r.join("\n  - ")+"\n");var i=Io(e);return i.length>0&&(n+="- Users of the following client applications:\n  - ",n+=i.join("\n  - ")+"\n"),t+=n.length>0?"This Matcher matches:\n"+n:"<empty>\n"},setAgent:function(e,t){var n=Po(e),r=Oo(e),i=To(e),o=vn(e,D.agent,t);return n&&(o=Ao(o)),r&&(o=Co(o)),i&&(o=Lo(o)),o},setMatcher:function(e,t){return ct(e,t)},addClient:function(e,t){return Ht(e,D.client,t)},getClientAll:Io,hasAnyClient:jo,removeClient:function(e,t){return nn(e,D.client,t)},setAnyClient:Fo,setClient:function(e,t){var n=jo(e),r=vn(e,D.client,t);return n&&(r=Fo(r)),r},removeAnyClient:function(e){return nn(e,D.client,U)},hasAuthenticated:Oo,hasCreator:To,hasPublic:Po,setAuthenticated:Co,setCreator:Lo,setPublic:Ao,removeAuthenticated:function(e){return nn(e,D.agent,D.AuthenticatedAgent)},removeCreator:function(e){return nn(e,D.agent,D.CreatorAgent)},removePublic:function(e){return nn(e,D.agent,D.PublicAgent)},getAnyOfMatcherUrlAll:bo,addAnyOfMatcherUrl:function(e,t){return Ht(e,D.anyOf,t)},removeAnyOfMatcherUrl:function(e,t){return nn(e,D.anyOf,t)},setAnyOfMatcherUrl:function(e,t){return vn(e,D.anyOf,t)},getAllOfMatcherUrlAll:_o,addAllOfMatcherUrl:function(e,t){return Ht(e,D.allOf,t)},removeAllOfMatcherUrl:function(e,t){return nn(e,D.allOf,t)},setAllOfMatcherUrl:function(e,t){return vn(e,D.allOf,t)},getNoneOfMatcherUrlAll:wo,addNoneOfMatcherUrl:function(e,t){return Ht(e,D.noneOf,t)},removeNoneOfMatcherUrl:function(e,t){return nn(e,D.noneOf,t)},setNoneOfMatcherUrl:function(e,t){return vn(e,D.noneOf,t)},createResourceMatcherFor:xo,getResourceMatcher:So,getResourceMatcherAll:function(e){return ut(Hn(e)).filter(mo)},removeResourceMatcher:function(e,t){var n,r=Hn(e);if("string"===typeof t)try{new URL(t),n=t}catch(a){var i=new URL(W(r));i.hash="#".concat(t),n=i.href}else n=Se(t)?T(t):ht(t);var o=So(e,new URL(n).hash.substring(1));return null===o?e:zn(e,lt(r,o))},setResourceMatcher:ko},Uo={addMockAcrTo:Yi,mockAcrFor:Gi};Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ro),No),Mo),Do),Uo),D.agent;D.agent,D.group},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(56);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t){function n(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)}))}}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StorageUtilityGetResponse=t.StorageUtilityMock=t.mockStorageUtility=t.mockStorage=t.buildAuthenticatedFetch=t.generateDpopKeyPair=t.createDpopHeader=t.OidcProviderError=t.InvalidResponseError=t.NotImplementedError=t.ConfigurationError=t.InMemoryStorage=t.getSessionIdFromOauthState=t.saveSessionInfoToStorage=t.loadOidcContextFromStorage=t.StorageUtility=t.determineSigningAlg=t.handleRegistration=t.USER_SESSION_PREFIX=t.isSupportedTokenType=t.fetchJwks=t.getWebidFromTokenPayload=t.AggregateHandler=void 0,i(n(83),t);var a=n(153);Object.defineProperty(t,"AggregateHandler",{enumerable:!0,get:function(){return o(a).default}});var s=n(158);Object.defineProperty(t,"getWebidFromTokenPayload",{enumerable:!0,get:function(){return s.getWebidFromTokenPayload}}),Object.defineProperty(t,"fetchJwks",{enumerable:!0,get:function(){return s.fetchJwks}});var u=n(161);Object.defineProperty(t,"isSupportedTokenType",{enumerable:!0,get:function(){return u.isSupportedTokenType}});var c=n(162);Object.defineProperty(t,"USER_SESSION_PREFIX",{enumerable:!0,get:function(){return c.USER_SESSION_PREFIX}});var l=n(163);Object.defineProperty(t,"handleRegistration",{enumerable:!0,get:function(){return l.handleRegistration}}),Object.defineProperty(t,"determineSigningAlg",{enumerable:!0,get:function(){return l.determineSigningAlg}});var f=n(164);Object.defineProperty(t,"StorageUtility",{enumerable:!0,get:function(){return o(f).default}}),Object.defineProperty(t,"loadOidcContextFromStorage",{enumerable:!0,get:function(){return f.loadOidcContextFromStorage}}),Object.defineProperty(t,"saveSessionInfoToStorage",{enumerable:!0,get:function(){return f.saveSessionInfoToStorage}}),Object.defineProperty(t,"getSessionIdFromOauthState",{enumerable:!0,get:function(){return f.getSessionIdFromOauthState}});var d=n(165);Object.defineProperty(t,"InMemoryStorage",{enumerable:!0,get:function(){return o(d).default}});var h=n(166);Object.defineProperty(t,"ConfigurationError",{enumerable:!0,get:function(){return o(h).default}});var p=n(167);Object.defineProperty(t,"NotImplementedError",{enumerable:!0,get:function(){return o(p).default}});var g=n(110);Object.defineProperty(t,"InvalidResponseError",{enumerable:!0,get:function(){return g.InvalidResponseError}});var v=n(111);Object.defineProperty(t,"OidcProviderError",{enumerable:!0,get:function(){return v.OidcProviderError}});var y=n(112);Object.defineProperty(t,"createDpopHeader",{enumerable:!0,get:function(){return y.createDpopHeader}}),Object.defineProperty(t,"generateDpopKeyPair",{enumerable:!0,get:function(){return y.generateDpopKeyPair}});var m=n(168);Object.defineProperty(t,"buildAuthenticatedFetch",{enumerable:!0,get:function(){return m.buildAuthenticatedFetch}});var _=n(169);Object.defineProperty(t,"mockStorage",{enumerable:!0,get:function(){return _.mockStorage}}),Object.defineProperty(t,"mockStorageUtility",{enumerable:!0,get:function(){return _.mockStorageUtility}}),Object.defineProperty(t,"StorageUtilityMock",{enumerable:!0,get:function(){return _.StorageUtilityMock}}),Object.defineProperty(t,"StorageUtilityGetResponse",{enumerable:!0,get:function(){return _.StorageUtilityGetResponse}})},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(e){return!!e&&!!e[J]}function o(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Z}(e)||Array.isArray(e)||!!e[q]||!!e.constructor[q]||d(e)||h(e))}function a(e,t,n){void 0===n&&(n=!1),0===s(e)?(n?Object.keys:G)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function s(e){var t=e[J];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:d(e)?2:h(e)?3:0}function u(e,t){return 2===s(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){return 2===s(e)?e.get(t):e[t]}function l(e,t,n){var r=s(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function f(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function d(e){return z&&e instanceof Map}function h(e){return K&&e instanceof Set}function p(e){return e.o||e.t}function g(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Y(e);delete t[J];for(var n=G(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function v(e,t){return void 0===t&&(t=!1),m(e)||i(e)||!o(e)||(s(e)>1&&(e.set=e.add=e.clear=e.delete=y),Object.freeze(e),t&&a(e,(function(e,t){return v(t,!0)}),!0)),e}function y(){r(2)}function m(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function _(e){var t=$[e];return t||r(18,e),t}function b(e,t){$[e]||($[e]=t)}function w(){return B}function x(e,t){t&&(_("Patches"),e.u=[],e.s=[],e.v=t)}function S(e){k(e),e.p.forEach(P),e.p=null}function k(e){e===B&&(B=e.l)}function E(e){return B={p:[],l:B,h:e,m:!0,_:0}}function P(e){var t=e[J];0===t.i||1===t.i?t.j():t.O=!0}function A(e,t){t._=t.p.length;var n=t.p[0],i=void 0!==e&&e!==n;return t.h.g||_("ES5").S(t,e,i),i?(n[J].P&&(S(t),r(4)),o(e)&&(e=O(t,e),t.l||T(t,e)),t.u&&_("Patches").M(n[J],e,t.u,t.s)):e=O(t,n,[]),S(t),t.u&&t.v(t.u,t.s),e!==W?e:void 0}function O(e,t,n){if(m(t))return t;var r=t[J];if(!r)return a(t,(function(i,o){return C(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return T(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=g(r.k):r.o;a(3===r.i?new Set(i):i,(function(t,o){return C(e,r,i,t,o,n)})),T(e,i,!1),n&&e.u&&_("Patches").R(r,n,e.u,e.s)}return r.o}function C(e,t,n,r,a,s){if(i(a)){var c=O(e,a,s&&t&&3!==t.i&&!u(t.D,r)?s.concat(r):void 0);if(l(n,r,c),!i(c))return;e.m=!1}if(o(a)&&!m(a)){if(!e.h.F&&e._<1)return;O(e,a),t&&t.A.l||T(e,a)}}function T(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&v(t,n)}function L(e,t){var n=e[J];return(n?p(n):e)[t]}function I(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function j(e){e.P||(e.P=!0,e.l&&j(e.l))}function F(e){e.o||(e.o=g(e.t))}function R(e,t,n){var r=d(t)?_("MapSet").N(t,n):h(t)?_("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:w(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=Q;n&&(i=[r],o=X);var a=Proxy.revocable(i,o),s=a.revoke,u=a.proxy;return r.k=u,r.j=s,u}(t,n):_("ES5").J(t,n);return(n?n.A:w()).p.push(r),r}function N(e){return i(e)||r(22,e),function e(t){if(!o(t))return t;var n,r=t[J],i=s(t);if(r){if(!r.P&&(r.i<4||!_("ES5").K(r)))return r.t;r.I=!0,n=M(t,i),r.I=!1}else n=M(t,i);return a(n,(function(t,i){r&&c(r.t,t)===i||l(n,t,e(i))})),3===i?new Set(n):n}(e)}function M(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return g(e)}function D(){function e(e,t){var n=o[e];return n?n.enumerable=t:o[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[J];return Q.get(t,e)},set:function(t){var n=this[J];Q.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][J];if(!i.P)switch(i.i){case 5:r(i)&&j(i);break;case 4:n(i)&&j(i)}}}function n(e){for(var t=e.t,n=e.k,r=G(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==J){var a=t[o];if(void 0===a&&!u(t,o))return!0;var s=n[o],c=s&&s[J];if(c?c.t!==a:!f(s,a))return!0}}var l=!!t[J];return r.length!==G(t).length+(l?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!n||n.get)}var o={};b("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=Y(n);delete o[J];for(var a=G(o),s=0;s<a.length;s++){var u=a[s];o[u]=e(u,t||!!o[u].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,t),o={i:r?5:4,A:n?n.A:w(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,J,{value:o,writable:!0}),i},S:function(e,n,o){o?i(n)&&n[J].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[J];if(n){var i=n.t,o=n.k,s=n.D,c=n.i;if(4===c)a(o,(function(t){t!==J&&(void 0!==i[t]||u(i,t)?s[t]||e(o[t]):(s[t]=!0,j(n)))})),a(i,(function(e){void 0!==o[e]||u(o,e)||(s[e]=!1,j(n))}));else if(5===c){if(r(n)&&(j(n),s.length=!0),o.length<i.length)for(var l=o.length;l<i.length;l++)s[l]=!1;else for(var f=i.length;f<o.length;f++)s[f]=!0;for(var d=Math.min(o.length,i.length),h=0;h<d;h++)void 0===s[h]&&e(o[h])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}n.d(t,"a",(function(){return Re})),n.d(t,"b",(function(){return Ve})),n.d(t,"c",(function(){return De})),n.d(t,"d",(function(){return Ye}));var U,B,H="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),z="undefined"!=typeof Map,K="undefined"!=typeof Set,V="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,W=H?Symbol.for("immer-nothing"):((U={})["immer-nothing"]=!0,U),q=H?Symbol.for("immer-draftable"):"__$immer_draftable",J=H?Symbol.for("immer-state"):"__$immer_state",Z=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),G="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Y=Object.getOwnPropertyDescriptors||function(e){var t={};return G(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},$={},Q={get:function(e,t){if(t===J)return e;var n=p(e);if(!u(n,t))return function(e,t,n){var r,i=I(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!o(r)?r:r===L(e.t,t)?(F(e),e.o[t]=R(e.A.h,r,e)):r},has:function(e,t){return t in p(e)},ownKeys:function(e){return Reflect.ownKeys(p(e))},set:function(e,t,n){var r=I(p(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=L(p(e),t),o=null==i?void 0:i[J];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(f(n,i)&&(void 0!==n||u(e.t,t)))return!0;F(e),j(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==L(e.t,t)||t in e.t?(e.D[t]=!1,F(e),j(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=p(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},X={};a(Q,(function(e,t){X[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),X.deleteProperty=function(e,t){return Q.deleteProperty.call(this,e[0],t)},X.set=function(e,t,n){return Q.set.call(this,e[0],t,n,e[0])};var ee=function(){function e(e){var t=this;this.g=V,this.F=!0,this.produce=function(e,n,i){if("function"==typeof e&&"function"!=typeof n){var a=n;n=e;var s=t;return function(e){var t=this;void 0===e&&(e=a);for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return s.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(i))}))}}var u;if("function"!=typeof n&&r(6),void 0!==i&&"function"!=typeof i&&r(7),o(e)){var c=E(t),l=R(t,e,void 0),f=!0;try{u=n(l),f=!1}finally{f?S(c):k(c)}return"undefined"!=typeof Promise&&u instanceof Promise?u.then((function(e){return x(c,i),A(e,c)}),(function(e){throw S(c),e})):(x(c,i),A(u,c))}if(!e||"object"!=typeof e){if((u=n(e))===W)return;return void 0===u&&(u=e),t.F&&v(u,!0),u}r(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))}:[t.produce(e,n,(function(e,t){r=e,i=t})),r,i];var r,i},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){o(e)||r(8),i(e)&&(e=N(e));var t=E(this),n=R(this,e,void 0);return n[J].C=!0,k(t),n},t.finishDraft=function(e,t){var n=(e&&e[J]).A;return x(n,t),A(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!V&&r(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var o=_("Patches").$;return i(e)?o(e,t):this.produce(e,(function(e){return o(e,t.slice(n+1))}))},e}(),te=new ee,ne=te.produce,re=(te.produceWithPatches.bind(te),te.setAutoFreeze.bind(te),te.setUseProxies.bind(te),te.applyPatches.bind(te),te.createDraft.bind(te),te.finishDraft.bind(te),ne);n(76);function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var ue="function"===typeof Symbol&&Symbol.observable||"@@observable",ce=function(){return Math.random().toString(36).substring(7).split("").join(".")},le={INIT:"@@redux/INIT"+ce(),REPLACE:"@@redux/REPLACE"+ce(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ce()}};function fe(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function de(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(se(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(se(1));return n(de)(e,t)}if("function"!==typeof e)throw new Error(se(2));var i=e,o=t,a=[],s=a,u=!1;function c(){s===a&&(s=a.slice())}function l(){if(u)throw new Error(se(3));return o}function f(e){if("function"!==typeof e)throw new Error(se(4));if(u)throw new Error(se(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(se(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),a=null}}}function d(e){if(!fe(e))throw new Error(se(7));if("undefined"===typeof e.type)throw new Error(se(8));if(u)throw new Error(se(9));try{u=!0,o=i(o,e)}finally{u=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}function h(e){if("function"!==typeof e)throw new Error(se(10));i=e,d({type:le.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(se(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[ue]=function(){return this},e}return d({type:le.INIT}),(r={dispatch:d,subscribe:f,getState:l,replaceReducer:h})[ue]=p,r}function he(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:le.INIT}))throw new Error(se(12));if("undefined"===typeof n(void 0,{type:le.PROBE_UNKNOWN_ACTION()}))throw new Error(se(13))}))}(n)}catch(s){o=s}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var u=a[s],c=n[u],l=e[u],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(se(14))}i[u]=f,r=r||f!==l}return(r=r||a.length!==Object.keys(e).length)?i:e}}function pe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function ge(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(se(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=pe.apply(void 0,o)(n.dispatch),ae(ae({},n),{},{dispatch:r})}}}function ve(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var ye=ve();ye.withExtraArgument=ve;var me=ye,_e=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),be=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},we=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},xe=Object.defineProperty,Se=Object.defineProperties,ke=Object.getOwnPropertyDescriptors,Ee=Object.getOwnPropertySymbols,Pe=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable,Oe=function(e,t,n){return t in e?xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ce=function(e,t){for(var n in t||(t={}))Pe.call(t,n)&&Oe(e,n,t[n]);if(Ee)for(var r=0,i=Ee(t);r<i.length;r++){n=i[r];Ae.call(t,n)&&Oe(e,n,t[n])}return e},Te=function(e,t){return Se(e,ke(t))},Le="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?pe:pe.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Ie(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}var je=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return _e(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,we([void 0],e[0].concat(this)))):new(t.bind.apply(t,we([void 0],e.concat(this))))},t}(Array);function Fe(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new je);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(me.withExtraArgument(n.extraArgument)):r.push(me));0;return r}(e)}}function Re(e){var t,n=Fe(),r=e||{},i=r.reducer,o=void 0===i?void 0:i,a=r.middleware,s=void 0===a?n():a,u=r.devTools,c=void 0===u||u,l=r.preloadedState,f=void 0===l?void 0:l,d=r.enhancers,h=void 0===d?void 0:d;if("function"===typeof o)t=o;else{if(!Ie(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=he(o)}var p=s;"function"===typeof p&&(p=p(n));var g=ge.apply(void 0,p),v=pe;c&&(v=Le(Ce({trace:!1},"object"===typeof c&&c)));var y=[g];return Array.isArray(h)?y=we([g],h):"function"===typeof h&&(y=h(y)),de(t,f,v.apply(void 0,y))}function Ne(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Ce(Ce({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Me(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function De(e){var t=e.name,n=e.initialState;if(!t)throw new Error("`name` is a required option for createSlice");var r=e.reducers||{},a="function"===typeof e.extraReducers?Me(e.extraReducers):[e.extraReducers],s=a[0],u=void 0===s?{}:s,c=a[1],l=void 0===c?[]:c,f=a[2],d=void 0===f?void 0:f,h=Object.keys(r),p={},g={},v={};h.forEach((function(e){var n,i,o=r[e],a=t+"/"+e;"reducer"in o?(n=o.reducer,i=o.prepare):n=o,p[e]=n,g[a]=n,v[e]=i?Ne(a,i):Ne(a)}));var y=function(e,t,n,r){void 0===n&&(n=[]);var a="function"===typeof t?Me(t):[t,n,r],s=a[0],u=a[1],c=a[2],l=re(e,(function(){}));return function(e,t){void 0===e&&(e=l);var n=we([s[t.type]],u.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[c]),n.reduce((function(e,n){if(n){var r;if(i(e))return"undefined"===typeof(r=n(e,t))?e:r;if(o(e))return re(e,(function(e){return n(e,t)}));if("undefined"===typeof(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}}(n,Ce(Ce({},u),g),l,d);return{name:t,reducer:y,actions:v,caseReducers:p}}var Ue=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},Be=["name","message","stack","code"],He=function(e,t){this.payload=e,this.meta=t},ze=function(e,t){this.payload=e,this.meta=t},Ke=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=Be;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};function Ve(e,t,n){var r=Ne(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:Te(Ce({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=Ne(e+"/pending",(function(e,t,n){return{payload:void 0,meta:Te(Ce({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),o=Ne(e+"/rejected",(function(e,t,r,i,o){return{payload:i,error:(n&&n.serializeError||Ke)(e||"Rejected"),meta:Te(Ce({},o||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),a="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,u,c){var l,f,d=(null!=(l=null==n?void 0:n.idGenerator)?l:Ue)(),h=new a,p=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:f||"Aborted"})}))})),g=!1;var v=function(){return a=this,l=null,f=function(){var a,l,f;return be(this,(function(v){switch(v.label){case 0:if(v.trys.push([0,2,,3]),n&&n.condition&&!1===n.condition(e,{getState:u,extra:c}))throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return g=!0,s(i(d,e,null==(a=null==n?void 0:n.getPendingMeta)?void 0:a.call(n,{requestId:d,arg:e},{getState:u,extra:c}))),[4,Promise.race([p,Promise.resolve(t(e,{dispatch:s,getState:u,extra:c,requestId:d,signal:h.signal,rejectWithValue:function(e,t){return new He(e,t)},fulfillWithValue:function(e,t){return new ze(e,t)}})).then((function(t){if(t instanceof He)throw t;return t instanceof ze?r(t.payload,d,e,t.meta):r(t,d,e)}))])];case 1:return l=v.sent(),[3,3];case 2:return f=v.sent(),l=f instanceof He?o(null,d,e,f.payload,f.meta):o(f,d,e),[3,3];case 3:return n&&!n.dispatchConditionRejection&&o.match(l)&&l.meta.condition||s(l),[2,l]}}))},new Promise((function(e,t){var n=function(e){try{i(f.next(e))}catch(n){t(n)}},r=function(e){try{i(f.throw(e))}catch(n){t(n)}},i=function(t){return t.done?e(t.value):Promise.resolve(t.value).then(n,r)};i((f=f.apply(a,l)).next())}));var a,l,f}();return Object.assign(v,{abort:function(e){g&&(f=e,h.abort())},requestId:d,arg:e,unwrap:function(){return v.then(We)}})}}),{pending:i,rejected:o,fulfilled:r,typePrefix:e})}function We(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var qe=function(e,t){return function(e){return e&&"function"===typeof e.match}(e)?e.match(t):e(t)};function Je(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.some((function(e){return qe(e,t)}))}}function Ze(e,t){if(!e||!e.meta)return!1;var n="string"===typeof e.meta.requestId,r=t.indexOf(e.meta.requestStatus)>-1;return n&&r}function Ge(e){return"function"===typeof e[0]&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function Ye(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return Ze(e,["rejected"])}:Ge(e)?function(t){var n=e.map((function(e){return e.rejected}));return Je.apply(void 0,n)(t)}:Ye()(e[0])}D()},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return P})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return O})),n.d(t,"g",(function(){return C}));var r=n(26),i=n(2),o=n.n(i),a=(n(43),n(24)),s=n(137),u=n(25),c=n(10),l=n(97),f=n.n(l),d=(n(100),n(22)),h=(n(60),function(e){var t=Object(s.a)();return t.displayName=e,t}),p=h("Router-History"),g=h("Router"),v=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return o.a.createElement(g.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(p.Provider,{children:this.props.children||null,value:this.props.history}))},t}(o.a.Component);o.a.Component;o.a.Component;var y={},m=0;function _(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=y[n]||(y[n]={});if(r[e])return r[e];var i=[],o={regexp:f()(e,i,t),keys:i};return m<1e4&&(r[e]=o,m++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],d=u.slice(1),h=e===l;return o&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:a.reduce((function(e,t,n){return e[t.name]=d[n],e}),{})}}),null)}var b=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(g.Consumer,null,(function(t){t||Object(u.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?_(n.pathname,e.props):t.match,i=Object(c.a)({},t,{location:n,match:r}),a=e.props,s=a.children,l=a.component,f=a.render;return Array.isArray(s)&&function(e){return 0===o.a.Children.count(e)}(s)&&(s=null),o.a.createElement(g.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:l?o.a.createElement(l,i):f?f(i):null:"function"===typeof s?s(i):null)}))},t}(o.a.Component);function w(e){return"/"===e.charAt(0)?e:"/"+e}function x(e,t){if(!e)return t;var n=w(e);return 0!==t.pathname.indexOf(n)?t:Object(c.a)({},t,{pathname:t.pathname.substr(n.length)})}function S(e){return"string"===typeof e?e:Object(a.e)(e)}function k(e){return function(){Object(u.a)(!1)}}function E(){}o.a.Component;var P=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(g.Consumer,null,(function(t){t||Object(u.a)(!1);var n,r,i=e.props.location||t.location;return o.a.Children.forEach(e.props.children,(function(e){if(null==r&&o.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?_(i.pathname,Object(c.a)({},e.props,{path:a})):t.match}})),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(o.a.Component);var A=o.a.useContext;function O(){return A(p)}function C(){var e=A(g).match;return e?e.params:{}}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryStorage=t.ConfigurationError=t.NotImplementedError=t.getClientAuthenticationWithDependencies=t.Session=void 0;var o=n(101);Object.defineProperty(t,"Session",{enumerable:!0,get:function(){return o.Session}});var a=n(113);Object.defineProperty(t,"getClientAuthenticationWithDependencies",{enumerable:!0,get:function(){return a.getClientAuthenticationWithDependencies}}),i(n(185),t);var s=n(9);Object.defineProperty(t,"NotImplementedError",{enumerable:!0,get:function(){return s.NotImplementedError}}),Object.defineProperty(t,"ConfigurationError",{enumerable:!0,get:function(){return s.ConfigurationError}}),Object.defineProperty(t,"InMemoryStorage",{enumerable:!0,get:function(){return s.InMemoryStorage}})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(61);var i=n(56);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return f}));var r=Object.freeze({mbox:"http://xmlns.com/foaf/0.1/mbox",mbox_sha1sum:"http://xmlns.com/foaf/0.1/mbox_sha1sum",gender:"http://xmlns.com/foaf/0.1/gender",geekcode:"http://xmlns.com/foaf/0.1/geekcode",dnaChecksum:"http://xmlns.com/foaf/0.1/dnaChecksum",sha1:"http://xmlns.com/foaf/0.1/sha1",based_near:"http://xmlns.com/foaf/0.1/based_near",title:"http://xmlns.com/foaf/0.1/title",nick:"http://xmlns.com/foaf/0.1/nick",jabberID:"http://xmlns.com/foaf/0.1/jabberID",aimChatID:"http://xmlns.com/foaf/0.1/aimChatID",skypeID:"http://xmlns.com/foaf/0.1/skypeID",icqChatID:"http://xmlns.com/foaf/0.1/icqChatID",yahooChatID:"http://xmlns.com/foaf/0.1/yahooChatID",msnChatID:"http://xmlns.com/foaf/0.1/msnChatID",name:"http://xmlns.com/foaf/0.1/name",firstName:"http://xmlns.com/foaf/0.1/firstName",lastName:"http://xmlns.com/foaf/0.1/lastName",givenName:"http://xmlns.com/foaf/0.1/givenName",givenname:"http://xmlns.com/foaf/0.1/givenname",surname:"http://xmlns.com/foaf/0.1/surname",family_name:"http://xmlns.com/foaf/0.1/family_name",familyName:"http://xmlns.com/foaf/0.1/familyName",phone:"http://xmlns.com/foaf/0.1/phone",homepage:"http://xmlns.com/foaf/0.1/homepage",weblog:"http://xmlns.com/foaf/0.1/weblog",openid:"http://xmlns.com/foaf/0.1/openid",tipjar:"http://xmlns.com/foaf/0.1/tipjar",plan:"http://xmlns.com/foaf/0.1/plan",made:"http://xmlns.com/foaf/0.1/made",maker:"http://xmlns.com/foaf/0.1/maker",img:"http://xmlns.com/foaf/0.1/img",depiction:"http://xmlns.com/foaf/0.1/depiction",depicts:"http://xmlns.com/foaf/0.1/depicts",thumbnail:"http://xmlns.com/foaf/0.1/thumbnail",myersBriggs:"http://xmlns.com/foaf/0.1/myersBriggs",workplaceHomepage:"http://xmlns.com/foaf/0.1/workplaceHomepage",workInfoHomepage:"http://xmlns.com/foaf/0.1/workInfoHomepage",schoolHomepage:"http://xmlns.com/foaf/0.1/schoolHomepage",knows:"http://xmlns.com/foaf/0.1/knows",interest:"http://xmlns.com/foaf/0.1/interest",topic_interest:"http://xmlns.com/foaf/0.1/topic_interest",publications:"http://xmlns.com/foaf/0.1/publications",currentProject:"http://xmlns.com/foaf/0.1/currentProject",pastProject:"http://xmlns.com/foaf/0.1/pastProject",fundedBy:"http://xmlns.com/foaf/0.1/fundedBy",logo:"http://xmlns.com/foaf/0.1/logo",topic:"http://xmlns.com/foaf/0.1/topic",primaryTopic:"http://xmlns.com/foaf/0.1/primaryTopic",focus:"http://xmlns.com/foaf/0.1/focus",isPrimaryTopicOf:"http://xmlns.com/foaf/0.1/isPrimaryTopicOf",page:"http://xmlns.com/foaf/0.1/page",theme:"http://xmlns.com/foaf/0.1/theme",account:"http://xmlns.com/foaf/0.1/account",holdsAccount:"http://xmlns.com/foaf/0.1/holdsAccount",accountServiceHomepage:"http://xmlns.com/foaf/0.1/accountServiceHomepage",accountName:"http://xmlns.com/foaf/0.1/accountName",member:"http://xmlns.com/foaf/0.1/member",membershipClass:"http://xmlns.com/foaf/0.1/membershipClass",birthday:"http://xmlns.com/foaf/0.1/birthday",age:"http://xmlns.com/foaf/0.1/age",status:"http://xmlns.com/foaf/0.1/status",LabelProperty:"http://xmlns.com/foaf/0.1/LabelProperty",Person:"http://xmlns.com/foaf/0.1/Person",Document:"http://xmlns.com/foaf/0.1/Document",Organization:"http://xmlns.com/foaf/0.1/Organization",Group:"http://xmlns.com/foaf/0.1/Group",Agent:"http://xmlns.com/foaf/0.1/Agent",Project:"http://xmlns.com/foaf/0.1/Project",Image:"http://xmlns.com/foaf/0.1/Image",PersonalProfileDocument:"http://xmlns.com/foaf/0.1/PersonalProfileDocument",OnlineAccount:"http://xmlns.com/foaf/0.1/OnlineAccount",OnlineGamingAccount:"http://xmlns.com/foaf/0.1/OnlineGamingAccount",OnlineEcommerceAccount:"http://xmlns.com/foaf/0.1/OnlineEcommerceAccount",OnlineChatAccount:"http://xmlns.com/foaf/0.1/OnlineChatAccount"}),i=Object.freeze({type:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",subject:"http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",object:"http://www.w3.org/1999/02/22-rdf-syntax-ns#object",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#value",first:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",rest:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",language:"http://www.w3.org/1999/02/22-rdf-syntax-ns#language",direction:"http://www.w3.org/1999/02/22-rdf-syntax-ns#direction",Property:"http://www.w3.org/1999/02/22-rdf-syntax-ns#Property",Statement:"http://www.w3.org/1999/02/22-rdf-syntax-ns#Statement",Bag:"http://www.w3.org/1999/02/22-rdf-syntax-ns#Bag",Seq:"http://www.w3.org/1999/02/22-rdf-syntax-ns#Seq",Alt:"http://www.w3.org/1999/02/22-rdf-syntax-ns#Alt",List:"http://www.w3.org/1999/02/22-rdf-syntax-ns#List",CompoundLiteral:"http://www.w3.org/1999/02/22-rdf-syntax-ns#CompoundLiteral",HTML:"http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",langString:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",PlainLiteral:"http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",XMLLiteral:"http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",JSON__workaround:"http://www.w3.org/1999/02/22-rdf-syntax-ns#JSON"}),o=Object.freeze({subClassOf:"http://www.w3.org/2000/01/rdf-schema#subClassOf",subPropertyOf:"http://www.w3.org/2000/01/rdf-schema#subPropertyOf",comment:"http://www.w3.org/2000/01/rdf-schema#comment",label:"http://www.w3.org/2000/01/rdf-schema#label",domain:"http://www.w3.org/2000/01/rdf-schema#domain",range:"http://www.w3.org/2000/01/rdf-schema#range",seeAlso:"http://www.w3.org/2000/01/rdf-schema#seeAlso",isDefinedBy:"http://www.w3.org/2000/01/rdf-schema#isDefinedBy",member:"http://www.w3.org/2000/01/rdf-schema#member",Resource:"http://www.w3.org/2000/01/rdf-schema#Resource",Class:"http://www.w3.org/2000/01/rdf-schema#Class",Literal:"http://www.w3.org/2000/01/rdf-schema#Literal",Container:"http://www.w3.org/2000/01/rdf-schema#Container",ContainerMembershipProperty:"http://www.w3.org/2000/01/rdf-schema#ContainerMembershipProperty",Datatype:"http://www.w3.org/2000/01/rdf-schema#Datatype"}),a=Object.freeze({Community:"http://rdfs.org/sioc/ns#Community",Container:"http://rdfs.org/sioc/ns#Container",Forum:"http://rdfs.org/sioc/ns#Forum",Item:"http://rdfs.org/sioc/ns#Item",Post:"http://rdfs.org/sioc/ns#Post",Role:"http://rdfs.org/sioc/ns#Role",Space:"http://rdfs.org/sioc/ns#Space",Site:"http://rdfs.org/sioc/ns#Site",Thread:"http://rdfs.org/sioc/ns#Thread",UserAccount:"http://rdfs.org/sioc/ns#UserAccount",Usergroup:"http://rdfs.org/sioc/ns#Usergroup",about:"http://rdfs.org/sioc/ns#about",account_of:"http://rdfs.org/sioc/ns#account_of",addressed_to:"http://rdfs.org/sioc/ns#addressed_to",administrator_of:"http://rdfs.org/sioc/ns#administrator_of",attachment:"http://rdfs.org/sioc/ns#attachment",avatar:"http://rdfs.org/sioc/ns#avatar",container_of:"http://rdfs.org/sioc/ns#container_of",creator_of:"http://rdfs.org/sioc/ns#creator_of",delivered_at:"http://rdfs.org/sioc/ns#delivered_at",discussion_of:"http://rdfs.org/sioc/ns#discussion_of",email:"http://rdfs.org/sioc/ns#email",embeds_knowledge:"http://rdfs.org/sioc/ns#embeds_knowledge",feed:"http://rdfs.org/sioc/ns#feed",follows:"http://rdfs.org/sioc/ns#follows",function_of:"http://rdfs.org/sioc/ns#function_of",generator:"http://rdfs.org/sioc/ns#generator",has_administrator:"http://rdfs.org/sioc/ns#has_administrator",has_container:"http://rdfs.org/sioc/ns#has_container",has_creator:"http://rdfs.org/sioc/ns#has_creator",has_discussion:"http://rdfs.org/sioc/ns#has_discussion",has_function:"http://rdfs.org/sioc/ns#has_function",has_host:"http://rdfs.org/sioc/ns#has_host",has_member:"http://rdfs.org/sioc/ns#has_member",has_moderator:"http://rdfs.org/sioc/ns#has_moderator",has_modifier:"http://rdfs.org/sioc/ns#has_modifier",has_owner:"http://rdfs.org/sioc/ns#has_owner",has_parent:"http://rdfs.org/sioc/ns#has_parent",has_reply:"http://rdfs.org/sioc/ns#has_reply",has_scope:"http://rdfs.org/sioc/ns#has_scope",has_space:"http://rdfs.org/sioc/ns#has_space",has_subscriber:"http://rdfs.org/sioc/ns#has_subscriber",has_usergroup:"http://rdfs.org/sioc/ns#has_usergroup",host_of:"http://rdfs.org/sioc/ns#host_of",latest_version:"http://rdfs.org/sioc/ns#latest_version",likes:"http://rdfs.org/sioc/ns#likes",link:"http://rdfs.org/sioc/ns#link",links_to:"http://rdfs.org/sioc/ns#links_to",member_of:"http://rdfs.org/sioc/ns#member_of",mentions:"http://rdfs.org/sioc/ns#mentions",moderator_of:"http://rdfs.org/sioc/ns#moderator_of",modifier_of:"http://rdfs.org/sioc/ns#modifier_of",next_by_date:"http://rdfs.org/sioc/ns#next_by_date",next_version:"http://rdfs.org/sioc/ns#next_version",owner_of:"http://rdfs.org/sioc/ns#owner_of",parent_of:"http://rdfs.org/sioc/ns#parent_of",previous_by_date:"http://rdfs.org/sioc/ns#previous_by_date",previous_version:"http://rdfs.org/sioc/ns#previous_version",read_at:"http://rdfs.org/sioc/ns#read_at",related_to:"http://rdfs.org/sioc/ns#related_to",reply_of:"http://rdfs.org/sioc/ns#reply_of",respond_to:"http://rdfs.org/sioc/ns#respond_to",scope_of:"http://rdfs.org/sioc/ns#scope_of",shared_by:"http://rdfs.org/sioc/ns#shared_by",space_of:"http://rdfs.org/sioc/ns#space_of",subscriber_of:"http://rdfs.org/sioc/ns#subscriber_of",topic:"http://rdfs.org/sioc/ns#topic",usergroup_of:"http://rdfs.org/sioc/ns#usergroup_of",group_of:"http://rdfs.org/sioc/ns#group_of",has_group:"http://rdfs.org/sioc/ns#has_group",has_part:"http://rdfs.org/sioc/ns#has_part",part_of:"http://rdfs.org/sioc/ns#part_of",reference:"http://rdfs.org/sioc/ns#reference",content:"http://rdfs.org/sioc/ns#content",email_sha1:"http://rdfs.org/sioc/ns#email_sha1",id:"http://rdfs.org/sioc/ns#id",ip_address:"http://rdfs.org/sioc/ns#ip_address",last_activity_date:"http://rdfs.org/sioc/ns#last_activity_date",last_item_date:"http://rdfs.org/sioc/ns#last_item_date",last_reply_date:"http://rdfs.org/sioc/ns#last_reply_date",name:"http://rdfs.org/sioc/ns#name",note:"http://rdfs.org/sioc/ns#note",num_authors:"http://rdfs.org/sioc/ns#num_authors",num_items:"http://rdfs.org/sioc/ns#num_items",num_replies:"http://rdfs.org/sioc/ns#num_replies",num_threads:"http://rdfs.org/sioc/ns#num_threads",num_views:"http://rdfs.org/sioc/ns#num_views",title:"http://rdfs.org/sioc/ns#title",content_encoded:"http://rdfs.org/sioc/ns#content_encoded",created_at:"http://rdfs.org/sioc/ns#created_at",description:"http://rdfs.org/sioc/ns#description",first_name:"http://rdfs.org/sioc/ns#first_name",last_name:"http://rdfs.org/sioc/ns#last_name",modified_at:"http://rdfs.org/sioc/ns#modified_at",subject:"http://rdfs.org/sioc/ns#subject"}),s=r,u=i,c=o,l=a,f=Object.freeze({Acquaintance:"http://www.w3.org/2006/vcard/ns#Acquaintance",Agent:"http://www.w3.org/2006/vcard/ns#Agent",BBS:"http://www.w3.org/2006/vcard/ns#BBS",Car:"http://www.w3.org/2006/vcard/ns#Car",Cell:"http://www.w3.org/2006/vcard/ns#Cell",Child:"http://www.w3.org/2006/vcard/ns#Child",Colleague:"http://www.w3.org/2006/vcard/ns#Colleague",Contact:"http://www.w3.org/2006/vcard/ns#Contact",Coresident:"http://www.w3.org/2006/vcard/ns#Coresident",Coworker:"http://www.w3.org/2006/vcard/ns#Coworker",Crush:"http://www.w3.org/2006/vcard/ns#Crush",Date__workaround:"http://www.w3.org/2006/vcard/ns#Date",Dom:"http://www.w3.org/2006/vcard/ns#Dom",Emergency:"http://www.w3.org/2006/vcard/ns#Emergency",Fax:"http://www.w3.org/2006/vcard/ns#Fax",Female:"http://www.w3.org/2006/vcard/ns#Female",Friend:"http://www.w3.org/2006/vcard/ns#Friend",Home:"http://www.w3.org/2006/vcard/ns#Home",ISDN:"http://www.w3.org/2006/vcard/ns#ISDN",Internet:"http://www.w3.org/2006/vcard/ns#Internet",Intl__workaround:"http://www.w3.org/2006/vcard/ns#Intl",Kin:"http://www.w3.org/2006/vcard/ns#Kin",Label:"http://www.w3.org/2006/vcard/ns#Label",Male:"http://www.w3.org/2006/vcard/ns#Male",Me:"http://www.w3.org/2006/vcard/ns#Me",Met:"http://www.w3.org/2006/vcard/ns#Met",Modem:"http://www.w3.org/2006/vcard/ns#Modem",Msg:"http://www.w3.org/2006/vcard/ns#Msg",Muse:"http://www.w3.org/2006/vcard/ns#Muse",Neighbor:"http://www.w3.org/2006/vcard/ns#Neighbor",None:"http://www.w3.org/2006/vcard/ns#None",Other:"http://www.w3.org/2006/vcard/ns#Other",PCS:"http://www.w3.org/2006/vcard/ns#PCS",Pager:"http://www.w3.org/2006/vcard/ns#Pager",Parcel:"http://www.w3.org/2006/vcard/ns#Parcel",Parent:"http://www.w3.org/2006/vcard/ns#Parent",Postal:"http://www.w3.org/2006/vcard/ns#Postal",Pref:"http://www.w3.org/2006/vcard/ns#Pref",Sibling:"http://www.w3.org/2006/vcard/ns#Sibling",Spouse:"http://www.w3.org/2006/vcard/ns#Spouse",Sweetheart:"http://www.w3.org/2006/vcard/ns#Sweetheart",Tel:"http://www.w3.org/2006/vcard/ns#Tel",Text:"http://www.w3.org/2006/vcard/ns#Text",TextPhone:"http://www.w3.org/2006/vcard/ns#TextPhone",Unknown:"http://www.w3.org/2006/vcard/ns#Unknown",Video:"http://www.w3.org/2006/vcard/ns#Video",Voice:"http://www.w3.org/2006/vcard/ns#Voice",Work:"http://www.w3.org/2006/vcard/ns#Work",X400:"http://www.w3.org/2006/vcard/ns#X400",Address:"http://www.w3.org/2006/vcard/ns#Address",Email:"http://www.w3.org/2006/vcard/ns#Email",Group:"http://www.w3.org/2006/vcard/ns#Group",Individual:"http://www.w3.org/2006/vcard/ns#Individual",Name:"http://www.w3.org/2006/vcard/ns#Name",VCard:"http://www.w3.org/2006/vcard/ns#VCard",Location:"http://www.w3.org/2006/vcard/ns#Location",Organization:"http://www.w3.org/2006/vcard/ns#Organization",Gender:"http://www.w3.org/2006/vcard/ns#Gender",Kind:"http://www.w3.org/2006/vcard/ns#Kind",Type:"http://www.w3.org/2006/vcard/ns#Type",TelephoneType:"http://www.w3.org/2006/vcard/ns#TelephoneType",RelatedType:"http://www.w3.org/2006/vcard/ns#RelatedType",adr:"http://www.w3.org/2006/vcard/ns#adr",agent:"http://www.w3.org/2006/vcard/ns#agent",email:"http://www.w3.org/2006/vcard/ns#email",geo:"http://www.w3.org/2006/vcard/ns#geo",hasAdditionalName:"http://www.w3.org/2006/vcard/ns#hasAdditionalName",hasCalendarBusy:"http://www.w3.org/2006/vcard/ns#hasCalendarBusy",hasCalendarLink:"http://www.w3.org/2006/vcard/ns#hasCalendarLink",hasCalendarRequest:"http://www.w3.org/2006/vcard/ns#hasCalendarRequest",hasCategory:"http://www.w3.org/2006/vcard/ns#hasCategory",hasCountryName:"http://www.w3.org/2006/vcard/ns#hasCountryName",hasFN:"http://www.w3.org/2006/vcard/ns#hasFN",hasFamilyName:"http://www.w3.org/2006/vcard/ns#hasFamilyName",hasGender:"http://www.w3.org/2006/vcard/ns#hasGender",hasGivenName:"http://www.w3.org/2006/vcard/ns#hasGivenName",hasHonorificPrefix:"http://www.w3.org/2006/vcard/ns#hasHonorificPrefix",hasHonorificSuffix:"http://www.w3.org/2006/vcard/ns#hasHonorificSuffix",hasInstantMessage:"http://www.w3.org/2006/vcard/ns#hasInstantMessage",hasLanguage:"http://www.w3.org/2006/vcard/ns#hasLanguage",hasLocality:"http://www.w3.org/2006/vcard/ns#hasLocality",hasNickname:"http://www.w3.org/2006/vcard/ns#hasNickname",hasNote:"http://www.w3.org/2006/vcard/ns#hasNote",hasOrganizationName:"http://www.w3.org/2006/vcard/ns#hasOrganizationName",hasOrganizationUnit:"http://www.w3.org/2006/vcard/ns#hasOrganizationUnit",hasPostalCode:"http://www.w3.org/2006/vcard/ns#hasPostalCode",hasRegion:"http://www.w3.org/2006/vcard/ns#hasRegion",hasRelated:"http://www.w3.org/2006/vcard/ns#hasRelated",hasRole:"http://www.w3.org/2006/vcard/ns#hasRole",hasSource:"http://www.w3.org/2006/vcard/ns#hasSource",hasStreetAddress:"http://www.w3.org/2006/vcard/ns#hasStreetAddress",hasTitle:"http://www.w3.org/2006/vcard/ns#hasTitle",hasUID:"http://www.w3.org/2006/vcard/ns#hasUID",hasValue:"http://www.w3.org/2006/vcard/ns#hasValue",org:"http://www.w3.org/2006/vcard/ns#org",hasAddress:"http://www.w3.org/2006/vcard/ns#hasAddress",hasEmail:"http://www.w3.org/2006/vcard/ns#hasEmail",hasGeo:"http://www.w3.org/2006/vcard/ns#hasGeo",hasKey:"http://www.w3.org/2006/vcard/ns#hasKey",hasLogo:"http://www.w3.org/2006/vcard/ns#hasLogo",hasName:"http://www.w3.org/2006/vcard/ns#hasName",hasPhoto:"http://www.w3.org/2006/vcard/ns#hasPhoto",hasSound:"http://www.w3.org/2006/vcard/ns#hasSound",hasTelephone:"http://www.w3.org/2006/vcard/ns#hasTelephone",hasURL:"http://www.w3.org/2006/vcard/ns#hasURL",key:"http://www.w3.org/2006/vcard/ns#key",logo:"http://www.w3.org/2006/vcard/ns#logo",n:"http://www.w3.org/2006/vcard/ns#n",photo:"http://www.w3.org/2006/vcard/ns#photo",sound:"http://www.w3.org/2006/vcard/ns#sound",tel:"http://www.w3.org/2006/vcard/ns#tel",url:"http://www.w3.org/2006/vcard/ns#url",hasMember:"http://www.w3.org/2006/vcard/ns#hasMember",anniversary:"http://www.w3.org/2006/vcard/ns#anniversary",bday:"http://www.w3.org/2006/vcard/ns#bday",category:"http://www.w3.org/2006/vcard/ns#category",class__workaround:"http://www.w3.org/2006/vcard/ns#class",label:"http://www.w3.org/2006/vcard/ns#label",language:"http://www.w3.org/2006/vcard/ns#language",latitude:"http://www.w3.org/2006/vcard/ns#latitude",longitude:"http://www.w3.org/2006/vcard/ns#longitude",mailer:"http://www.w3.org/2006/vcard/ns#mailer",note:"http://www.w3.org/2006/vcard/ns#note",prodid:"http://www.w3.org/2006/vcard/ns#prodid",rev:"http://www.w3.org/2006/vcard/ns#rev",role:"http://www.w3.org/2006/vcard/ns#role",title:"http://www.w3.org/2006/vcard/ns#title",tz:"http://www.w3.org/2006/vcard/ns#tz",value:"http://www.w3.org/2006/vcard/ns#value",fn:"http://www.w3.org/2006/vcard/ns#fn",nickname:"http://www.w3.org/2006/vcard/ns#nickname",locality:"http://www.w3.org/2006/vcard/ns#locality",region:"http://www.w3.org/2006/vcard/ns#region"})},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s}));var r=n(2),i=1,o=Object(r.createContext)(null),a=o.Provider;function s(){var e=Object(r.useContext)(o);if(null==e)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}},function(e,t,n){var r=n(66);e.exports=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}},function(e,t,n){var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=22)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i={debug:function(){},info:function(){},warn:function(){},error:function(){}},o=void 0,a=void 0;(t.Log=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.reset=function(){a=3,o=i},e.debug=function(){if(a>=4){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.debug.apply(o,Array.from(t))}},e.info=function(){if(a>=3){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.info.apply(o,Array.from(t))}},e.warn=function(){if(a>=2){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.warn.apply(o,Array.from(t))}},e.error=function(){if(a>=1){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.error.apply(o,Array.from(t))}},r(e,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return a},set:function(e){if(!(0<=e&&e<=4))throw new Error("Invalid log level");a=e}},{key:"logger",get:function(){return o},set:function(e){if(!e.debug&&e.info&&(e.debug=e.info),!(e.debug&&e.info&&e.warn&&e.error))throw new Error("Invalid logger");o=e}}]),e}()).reset()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i={setInterval:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return setInterval(e,t)})),clearInterval:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return clearInterval(e)}))},o=!1,a=null;t.Global=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e._testing=function(){o=!0},e.setXMLHttpRequest=function(e){a=e},r(e,null,[{key:"location",get:function(){if(!o)return location}},{key:"localStorage",get:function(){if(!o&&"undefined"!=typeof window)return localStorage}},{key:"sessionStorage",get:function(){if(!o&&"undefined"!=typeof window)return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!o&&"undefined"!=typeof window)return a||XMLHttpRequest}},{key:"timer",get:function(){if(!o)return i}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataService=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=n(7);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=".well-known/openid-configuration";t.MetadataService=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.JsonService;if(a(this,e),!t)throw i.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=t,this._jsonService=new n(["application/jwk-set+json"])}return e.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},e.prototype.getMetadata=function(){var e=this;return this._settings.metadata?(i.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(i.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then((function(t){i.Log.debug("MetadataService.getMetadata: json received");var n=e._settings.metadataSeed||{};return e._settings.metadata=Object.assign({},n,t),e._settings.metadata}))):(i.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},e.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},e.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},e.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},e.prototype.getTokenEndpoint=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._getMetadataProperty("token_endpoint",e)},e.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},e.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},e.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},e.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},e.prototype._getMetadataProperty=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.Log.debug("MetadataService.getMetadataProperty for: "+e),this.getMetadata().then((function(n){if(i.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),void 0===n[e]){if(!0===t)return void i.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+e);throw i.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+e),new Error("Metadata does not contain property "+e)}return n[e]}))},e.prototype.getSigningKeys=function(){var e=this;return this._settings.signingKeys?(i.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then((function(t){return i.Log.debug("MetadataService.getSigningKeys: jwks_uri received",t),e._jsonService.getJson(t).then((function(t){if(i.Log.debug("MetadataService.getSigningKeys: key set received",t),!t.keys)throw i.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return e._settings.signingKeys=t.keys,e._settings.signingKeys}))}))},r(e,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(s)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=s))),this._metadataUrl}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UrlUtility=void 0;var r=n(0),i=n(1);t.UrlUtility=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.addQueryParam=function(e,t,n){return e.indexOf("?")<0&&(e+="?"),"?"!==e[e.length-1]&&(e+="&"),e+=encodeURIComponent(t),(e+="=")+encodeURIComponent(n)},e.parseUrlFragment=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.Global;"string"!=typeof e&&(e=n.location.href);var o=e.lastIndexOf(t);o>=0&&(e=e.substr(o+1)),"?"===t&&(o=e.indexOf("#"))>=0&&(e=e.substr(0,o));for(var a,s={},u=/([^&=]+)=([^&]*)/g,c=0;a=u.exec(e);)if(s[decodeURIComponent(a[1])]=decodeURIComponent(a[2].replace(/\+/g," ")),c++>50)return r.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",e),{error:"Response exceeded expected number of parameters"};for(var l in s)return s;return{}},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JoseUtil=void 0;var r=n(26),i=function(e){return e&&e.__esModule?e:{default:e}}(n(33));t.JoseUtil=(0,i.default)({jws:r.jws,KeyUtil:r.KeyUtil,X509:r.X509,crypto:r.crypto,hextob64u:r.hextob64u,b64tohex:r.b64tohex,AllowedSigningAlgs:r.AllowedSigningAlgs})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OidcClientSettings=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=n(23),s=n(6),u=n(24),c=n(2);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=".well-known/openid-configuration",d="id_token",h="openid",p="client_secret_post";t.OidcClientSettings=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.authority,i=t.metadataUrl,o=t.metadata,f=t.signingKeys,g=t.metadataSeed,v=t.client_id,y=t.client_secret,m=t.response_type,_=void 0===m?d:m,b=t.scope,w=void 0===b?h:b,x=t.redirect_uri,S=t.post_logout_redirect_uri,k=t.client_authentication,E=void 0===k?p:k,P=t.prompt,A=t.display,O=t.max_age,C=t.ui_locales,T=t.acr_values,L=t.resource,I=t.response_mode,j=t.filterProtocolClaims,F=void 0===j||j,R=t.loadUserInfo,N=void 0===R||R,M=t.staleStateAge,D=void 0===M?900:M,U=t.clockSkew,B=void 0===U?300:U,H=t.clockService,z=void 0===H?new a.ClockService:H,K=t.userInfoJwtIssuer,V=void 0===K?"OP":K,W=t.mergeClaims,q=void 0!==W&&W,J=t.stateStore,Z=void 0===J?new s.WebStorageStateStore:J,G=t.ResponseValidatorCtor,Y=void 0===G?u.ResponseValidator:G,$=t.MetadataServiceCtor,Q=void 0===$?c.MetadataService:$,X=t.extraQueryParams,ee=void 0===X?{}:X,te=t.extraTokenParams,ne=void 0===te?{}:te;l(this,e),this._authority=n,this._metadataUrl=i,this._metadata=o,this._metadataSeed=g,this._signingKeys=f,this._client_id=v,this._client_secret=y,this._response_type=_,this._scope=w,this._redirect_uri=x,this._post_logout_redirect_uri=S,this._client_authentication=E,this._prompt=P,this._display=A,this._max_age=O,this._ui_locales=C,this._acr_values=T,this._resource=L,this._response_mode=I,this._filterProtocolClaims=!!F,this._loadUserInfo=!!N,this._staleStateAge=D,this._clockSkew=B,this._clockService=z,this._userInfoJwtIssuer=V,this._mergeClaims=!!q,this._stateStore=Z,this._validator=new Y(this),this._metadataService=new Q(this),this._extraQueryParams="object"===(void 0===ee?"undefined":r(ee))?ee:{},this._extraTokenParams="object"===(void 0===ne?"undefined":r(ne))?ne:{}}return e.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},i(e,[{key:"client_id",get:function(){return this._client_id},set:function(e){if(this._client_id)throw o.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=e}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(e){if(this._authority)throw o.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=e}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(f)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=f)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(e){this._metadata=e}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(e){this._metadataSeed=e}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(e){this._signingKeys=e}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(e){"object"===(void 0===e?"undefined":r(e))?this._extraQueryParams=e:this._extraQueryParams={}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(e){"object"===(void 0===e?"undefined":r(e))?this._extraTokenParams=e:this._extraTokenParams={}}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebStorageStateStore=void 0;var r=n(0),i=n(1);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.WebStorageStateStore=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.prefix,r=void 0===n?"oidc.":n,a=t.store,s=void 0===a?i.Global.localStorage:a;o(this,e),this._store=s,this._prefix=r}return e.prototype.set=function(e,t){return r.Log.debug("WebStorageStateStore.set",e),e=this._prefix+e,this._store.setItem(e,t),Promise.resolve()},e.prototype.get=function(e){r.Log.debug("WebStorageStateStore.get",e),e=this._prefix+e;var t=this._store.getItem(e);return Promise.resolve(t)},e.prototype.remove=function(e){r.Log.debug("WebStorageStateStore.remove",e),e=this._prefix+e;var t=this._store.getItem(e);return this._store.removeItem(e),Promise.resolve(t)},e.prototype.getAllKeys=function(){r.Log.debug("WebStorageStateStore.getAllKeys");for(var e=[],t=0;t<this._store.length;t++){var n=this._store.key(t);0===n.indexOf(this._prefix)&&e.push(n.substr(this._prefix.length))}return Promise.resolve(e)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonService=void 0;var r=n(0),i=n(1);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.JsonService=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Global.XMLHttpRequest,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;o(this,e),t&&Array.isArray(t)?this._contentTypes=t.slice():this._contentTypes=[],this._contentTypes.push("application/json"),r&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=n,this._jwtHandler=r}return e.prototype.getJson=function(e,t){var n=this;if(!e)throw r.Log.error("JsonService.getJson: No url passed"),new Error("url");return r.Log.debug("JsonService.getJson, url: ",e),new Promise((function(i,o){var a=new n._XMLHttpRequest;a.open("GET",e);var s=n._contentTypes,u=n._jwtHandler;a.onload=function(){if(r.Log.debug("JsonService.getJson: HTTP response received, status",a.status),200===a.status){var t=a.getResponseHeader("Content-Type");if(t){var n=s.find((function(e){if(t.startsWith(e))return!0}));if("application/jwt"==n)return void u(a).then(i,o);if(n)try{return void i(JSON.parse(a.responseText))}catch(i){return r.Log.error("JsonService.getJson: Error parsing JSON response",i.message),void o(i)}}o(Error("Invalid response Content-Type: "+t+", from URL: "+e))}else o(Error(a.statusText+" ("+a.status+")"))},a.onerror=function(){r.Log.error("JsonService.getJson: network error"),o(Error("Network Error"))},t&&(r.Log.debug("JsonService.getJson: token passed, setting Authorization header"),a.setRequestHeader("Authorization","Bearer "+t)),a.send()}))},e.prototype.postForm=function(e,t,n){var i=this;if(!e)throw r.Log.error("JsonService.postForm: No url passed"),new Error("url");return r.Log.debug("JsonService.postForm, url: ",e),new Promise((function(o,a){var s=new i._XMLHttpRequest;s.open("POST",e);var u=i._contentTypes;s.onload=function(){if(r.Log.debug("JsonService.postForm: HTTP response received, status",s.status),200!==s.status){if(400===s.status&&(n=s.getResponseHeader("Content-Type"))&&u.find((function(e){if(n.startsWith(e))return!0})))try{var t=JSON.parse(s.responseText);if(t&&t.error)return r.Log.error("JsonService.postForm: Error from server: ",t.error),void a(new Error(t.error))}catch(o){return r.Log.error("JsonService.postForm: Error parsing JSON response",o.message),void a(o)}a(Error(s.statusText+" ("+s.status+")"))}else{var n;if((n=s.getResponseHeader("Content-Type"))&&u.find((function(e){if(n.startsWith(e))return!0})))try{return void o(JSON.parse(s.responseText))}catch(o){return r.Log.error("JsonService.postForm: Error parsing JSON response",o.message),void a(o)}a(Error("Invalid response Content-Type: "+n+", from URL: "+e))}},s.onerror=function(){r.Log.error("JsonService.postForm: network error"),a(Error("Network Error"))};var c="";for(var l in t){var f=t[l];f&&(c.length>0&&(c+="&"),c+=encodeURIComponent(l),c+="=",c+=encodeURIComponent(f))}s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),void 0!==n&&s.setRequestHeader("Authorization","Basic "+btoa(n)),s.send(c)}))},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigninRequest=void 0;var r=n(0),i=n(3),o=n(13);t.SigninRequest=function(){function e(t){var n=t.url,a=t.client_id,s=t.redirect_uri,u=t.response_type,c=t.scope,l=t.authority,f=t.data,d=t.prompt,h=t.display,p=t.max_age,g=t.ui_locales,v=t.id_token_hint,y=t.login_hint,m=t.acr_values,_=t.resource,b=t.response_mode,w=t.request,x=t.request_uri,S=t.extraQueryParams,k=t.request_type,E=t.client_secret,P=t.extraTokenParams,A=t.skipUserInfo;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!n)throw r.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!a)throw r.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!s)throw r.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!u)throw r.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!c)throw r.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!l)throw r.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var O=e.isOidc(u),C=e.isCode(u);b||(b=e.isCode(u)?"query":null),this.state=new o.SigninState({nonce:O,data:f,client_id:a,authority:l,redirect_uri:s,code_verifier:C,request_type:k,response_mode:b,client_secret:E,scope:c,extraTokenParams:P,skipUserInfo:A}),n=i.UrlUtility.addQueryParam(n,"client_id",a),n=i.UrlUtility.addQueryParam(n,"redirect_uri",s),n=i.UrlUtility.addQueryParam(n,"response_type",u),n=i.UrlUtility.addQueryParam(n,"scope",c),n=i.UrlUtility.addQueryParam(n,"state",this.state.id),O&&(n=i.UrlUtility.addQueryParam(n,"nonce",this.state.nonce)),C&&(n=i.UrlUtility.addQueryParam(n,"code_challenge",this.state.code_challenge),n=i.UrlUtility.addQueryParam(n,"code_challenge_method","S256"));var T={prompt:d,display:h,max_age:p,ui_locales:g,id_token_hint:v,login_hint:y,acr_values:m,resource:_,request:w,request_uri:x,response_mode:b};for(var L in T)T[L]&&(n=i.UrlUtility.addQueryParam(n,L,T[L]));for(var I in S)n=i.UrlUtility.addQueryParam(n,I,S[I]);this.url=n}return e.isOidc=function(e){return!!e.split(/\s+/g).filter((function(e){return"id_token"===e}))[0]},e.isOAuth=function(e){return!!e.split(/\s+/g).filter((function(e){return"token"===e}))[0]},e.isCode=function(e){return!!e.split(/\s+/g).filter((function(e){return"code"===e}))[0]},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.State=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(n(14));function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.State=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id,r=t.data,i=t.created,s=t.request_type;a(this,e),this._id=n||(0,o.default)(),this._data=r,this._created="number"==typeof i&&i>0?i:parseInt(Date.now()/1e3),this._request_type=s}return e.prototype.toStorageString=function(){return i.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},e.fromStorageString=function(t){return i.Log.debug("State.fromStorageString"),new e(JSON.parse(t))},e.clearStaleState=function(t,n){var r=Date.now()/1e3-n;return t.getAllKeys().then((function(n){i.Log.debug("State.clearStaleState: got keys",n);for(var o=[],a=function(a){var s=n[a];u=t.get(s).then((function(n){var o=!1;if(n)try{var a=e.fromStorageString(n);i.Log.debug("State.clearStaleState: got item from key: ",s,a.created),a.created<=r&&(o=!0)}catch(e){i.Log.error("State.clearStaleState: Error parsing state for key",s,e.message),o=!0}else i.Log.debug("State.clearStaleState: no item in storage for key: ",s),o=!0;if(o)return i.Log.debug("State.clearStaleState: removed item for key: ",s),t.remove(s)})),o.push(u)},s=0;s<n.length;s++){var u;a(s)}return i.Log.debug("State.clearStaleState: waiting on promise count:",o.length),Promise.all(o)}))},r(e,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OidcClient=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=n(5),a=n(12),s=n(8),u=n(34),c=n(35),l=n(36),f=n(13),d=n(9);function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.OidcClient=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,e),t instanceof o.OidcClientSettings?this._settings=t:this._settings=new o.OidcClientSettings(t)}return e.prototype.createSigninRequest=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.response_type,r=t.scope,o=t.redirect_uri,a=t.data,u=t.state,c=t.prompt,l=t.display,f=t.max_age,d=t.ui_locales,h=t.id_token_hint,p=t.login_hint,g=t.acr_values,v=t.resource,y=t.request,m=t.request_uri,_=t.response_mode,b=t.extraQueryParams,w=t.extraTokenParams,x=t.request_type,S=t.skipUserInfo,k=arguments[1];i.Log.debug("OidcClient.createSigninRequest");var E=this._settings.client_id;n=n||this._settings.response_type,r=r||this._settings.scope,o=o||this._settings.redirect_uri,c=c||this._settings.prompt,l=l||this._settings.display,f=f||this._settings.max_age,d=d||this._settings.ui_locales,g=g||this._settings.acr_values,v=v||this._settings.resource,_=_||this._settings.response_mode,b=b||this._settings.extraQueryParams,w=w||this._settings.extraTokenParams;var P=this._settings.authority;return s.SigninRequest.isCode(n)&&"code"!==n?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then((function(t){i.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",t);var A=new s.SigninRequest({url:t,client_id:E,redirect_uri:o,response_type:n,scope:r,data:a||u,authority:P,prompt:c,display:l,max_age:f,ui_locales:d,id_token_hint:h,login_hint:p,acr_values:g,resource:v,request:y,request_uri:m,extraQueryParams:b,extraTokenParams:w,request_type:x,response_mode:_,client_secret:e._settings.client_secret,skipUserInfo:S}),O=A.state;return(k=k||e._stateStore).set(O.id,O.toStorageString()).then((function(){return A}))}))},e.prototype.readSigninResponseState=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.Log.debug("OidcClient.readSigninResponseState");var r="query"===this._settings.response_mode||!this._settings.response_mode&&s.SigninRequest.isCode(this._settings.response_type),o=r?"?":"#",a=new u.SigninResponse(e,o);if(!a.state)return i.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response"));t=t||this._stateStore;var c=n?t.remove.bind(t):t.get.bind(t);return c(a.state).then((function(e){if(!e)throw i.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:f.SigninState.fromStorageString(e),response:a}}))},e.prototype.processSigninResponse=function(e,t){var n=this;return i.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(e,t,!0).then((function(e){var t=e.state,r=e.response;return i.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),n._validator.validateSigninResponse(t,r)}))},e.prototype.createSignoutRequest=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id_token_hint,r=t.data,o=t.state,a=t.post_logout_redirect_uri,s=t.extraQueryParams,u=t.request_type,l=arguments[1];return i.Log.debug("OidcClient.createSignoutRequest"),a=a||this._settings.post_logout_redirect_uri,s=s||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then((function(t){if(!t)throw i.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");i.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",t);var f=new c.SignoutRequest({url:t,id_token_hint:n,post_logout_redirect_uri:a,data:r||o,extraQueryParams:s,request_type:u}),d=f.state;return d&&(i.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(l=l||e._stateStore).set(d.id,d.toStorageString())),f}))},e.prototype.readSignoutResponseState=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.Log.debug("OidcClient.readSignoutResponseState");var r=new l.SignoutResponse(e);if(!r.state)return i.Log.debug("OidcClient.readSignoutResponseState: No state in response"),r.error?(i.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",r.error),Promise.reject(new a.ErrorResponse(r))):Promise.resolve({state:void 0,response:r});var o=r.state;t=t||this._stateStore;var s=n?t.remove.bind(t):t.get.bind(t);return s(o).then((function(e){if(!e)throw i.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:d.State.fromStorageString(e),response:r}}))},e.prototype.processSignoutResponse=function(e,t){var n=this;return i.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(e,t,!0).then((function(e){var t=e.state,r=e.response;return t?(i.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),n._validator.validateSignoutResponse(t,r)):(i.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),r)}))},e.prototype.clearStaleState=function(e){return i.Log.debug("OidcClient.clearStaleState"),e=e||this._stateStore,d.State.clearStaleState(e,this.settings.staleStateAge)},r(e,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenClient=void 0;var r=n(7),i=n(2),o=n(0);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.TokenClient=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.JsonService,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService;if(a(this,e),!t)throw o.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=t,this._jsonService=new n,this._metadataService=new s(this._settings)}return e.prototype.exchangeCode=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).grant_type=t.grant_type||"authorization_code",t.client_id=t.client_id||this._settings.client_id,t.client_secret=t.client_secret||this._settings.client_secret,t.redirect_uri=t.redirect_uri||this._settings.redirect_uri;var n=void 0,r=t._client_authentication||this._settings._client_authentication;return delete t._client_authentication,t.code?t.redirect_uri?t.code_verifier?t.client_id?t.client_secret||"client_secret_basic"!=r?("client_secret_basic"==r&&(n=t.client_id+":"+t.client_secret,delete t.client_id,delete t.client_secret),this._metadataService.getTokenEndpoint(!1).then((function(r){return o.Log.debug("TokenClient.exchangeCode: Received token endpoint"),e._jsonService.postForm(r,t,n).then((function(e){return o.Log.debug("TokenClient.exchangeCode: response received"),e}))}))):(o.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(o.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(o.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(o.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(o.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},e.prototype.exchangeRefreshToken=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).grant_type=t.grant_type||"refresh_token",t.client_id=t.client_id||this._settings.client_id,t.client_secret=t.client_secret||this._settings.client_secret;var n=void 0,r=t._client_authentication||this._settings._client_authentication;return delete t._client_authentication,t.refresh_token?t.client_id?("client_secret_basic"==r&&(n=t.client_id+":"+t.client_secret,delete t.client_id,delete t.client_secret),this._metadataService.getTokenEndpoint(!1).then((function(r){return o.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),e._jsonService.postForm(r,t,n).then((function(e){return o.Log.debug("TokenClient.exchangeRefreshToken: response received"),e}))}))):(o.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(o.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorResponse=void 0;var r=n(0);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.ErrorResponse=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.error,s=n.error_description,u=n.error_uri,c=n.state,l=n.session_state;if(i(this,t),!a)throw r.Log.error("No error passed to ErrorResponse"),new Error("error");var f=o(this,e.call(this,s||a));return f.name="ErrorResponse",f.error=a,f.error_description=s,f.error_uri=u,f.state=c,f.session_state=l,f}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(Error)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigninState=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=n(9),a=n(4),s=function(e){return e&&e.__esModule?e:{default:e}}(n(14));function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.SigninState=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.nonce,i=n.authority,o=n.client_id,l=n.redirect_uri,f=n.code_verifier,d=n.response_mode,h=n.client_secret,p=n.scope,g=n.extraTokenParams,v=n.skipUserInfo;u(this,t);var y=c(this,e.call(this,arguments[0]));if(!0===r?y._nonce=(0,s.default)():r&&(y._nonce=r),!0===f?y._code_verifier=(0,s.default)()+(0,s.default)()+(0,s.default)():f&&(y._code_verifier=f),y.code_verifier){var m=a.JoseUtil.hashString(y.code_verifier,"SHA256");y._code_challenge=a.JoseUtil.hexToBase64Url(m)}return y._redirect_uri=l,y._authority=i,y._client_id=o,y._response_mode=d,y._client_secret=h,y._scope=p,y._extraTokenParams=g,y._skipUserInfo=v,y}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.toStorageString=function(){return i.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},t.fromStorageString=function(e){return i.Log.debug("SigninState.fromStorageString"),new t(JSON.parse(e))},r(t,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),t}(o.State)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return("undefined"!=r&&null!==r&&void 0!==r.getRandomValues?i:o)().replace(/-/g,"")};var r="undefined"!=typeof window?window.crypto||window.msCrypto:null;function i(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^r.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}function o(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^16*Math.random()>>e/4).toString(16)}))}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.User=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);t.User=function(){function e(t){var n=t.id_token,r=t.session_state,i=t.access_token,o=t.refresh_token,a=t.token_type,s=t.scope,u=t.profile,c=t.expires_at,l=t.state;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id_token=n,this.session_state=r,this.access_token=i,this.refresh_token=o,this.token_type=a,this.scope=s,this.profile=u,this.expires_at=c,this.state=l}return e.prototype.toStorageString=function(){return i.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},e.fromStorageString=function(t){return i.Log.debug("User.fromStorageString"),new e(JSON.parse(t))},r(e,[{key:"expires_in",get:function(){if(this.expires_at){var e=parseInt(Date.now()/1e3);return this.expires_at-e}},set:function(e){var t=parseInt(e);if("number"==typeof t&&t>0){var n=parseInt(Date.now()/1e3);this.expires_at=n+t}}},{key:"expired",get:function(){var e=this.expires_in;if(void 0!==e)return e<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccessTokenEvents=void 0;var r=n(0),i=n(46);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.AccessTokenEvents=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.accessTokenExpiringNotificationTime,r=void 0===n?60:n,a=t.accessTokenExpiringTimer,s=void 0===a?new i.Timer("Access token expiring"):a,u=t.accessTokenExpiredTimer,c=void 0===u?new i.Timer("Access token expired"):u;o(this,e),this._accessTokenExpiringNotificationTime=r,this._accessTokenExpiring=s,this._accessTokenExpired=c}return e.prototype.load=function(e){if(e.access_token&&void 0!==e.expires_in){var t=e.expires_in;if(r.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",t),t>0){var n=t-this._accessTokenExpiringNotificationTime;n<=0&&(n=1),r.Log.debug("AccessTokenEvents.load: registering expiring timer in:",n),this._accessTokenExpiring.init(n)}else r.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var i=t+1;r.Log.debug("AccessTokenEvents.load: registering expired timer in:",i),this._accessTokenExpired.init(i)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},e.prototype.unload=function(){r.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},e.prototype.addAccessTokenExpiring=function(e){this._accessTokenExpiring.addHandler(e)},e.prototype.removeAccessTokenExpiring=function(e){this._accessTokenExpiring.removeHandler(e)},e.prototype.addAccessTokenExpired=function(e){this._accessTokenExpired.addHandler(e)},e.prototype.removeAccessTokenExpired=function(e){this._accessTokenExpired.removeHandler(e)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Event=void 0;var r=n(0);t.Event=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t,this._callbacks=[]}return e.prototype.addHandler=function(e){this._callbacks.push(e)},e.prototype.removeHandler=function(e){var t=this._callbacks.findIndex((function(t){return t===e}));t>=0&&this._callbacks.splice(t,1)},e.prototype.raise=function(){r.Log.debug("Event: Raising event: "+this._name);for(var e=0;e<this._callbacks.length;e++){var t;(t=this._callbacks)[e].apply(t,arguments)}},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionMonitor=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=n(19),a=n(1);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.SessionMonitor=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.CheckSessionIFrame,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.Global.timer;if(s(this,e),!t)throw i.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=t,this._CheckSessionIFrameCtor=r,this._timer=u,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then((function(e){e?n._start(e):n._settings.monitorAnonymousSession&&n._userManager.querySessionStatus().then((function(e){var t={session_state:e.session_state};e.sub&&e.sid&&(t.profile={sub:e.sub,sid:e.sid}),n._start(t)})).catch((function(e){i.Log.error("SessionMonitor ctor: error from querySessionStatus:",e.message)}))})).catch((function(e){i.Log.error("SessionMonitor ctor: error from getUser:",e.message)})))}return e.prototype._start=function(e){var t=this,n=e.session_state;n&&(e.profile?(this._sub=e.profile.sub,this._sid=e.profile.sid,i.Log.debug("SessionMonitor._start: session_state:",n,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,i.Log.debug("SessionMonitor._start: session_state:",n,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(n):this._metadataService.getCheckSessionIframe().then((function(e){if(e){i.Log.debug("SessionMonitor._start: Initializing check session iframe");var r=t._client_id,o=t._checkSessionInterval,a=t._stopCheckSessionOnError;t._checkSessionIFrame=new t._CheckSessionIFrameCtor(t._callback.bind(t),r,e,o,a),t._checkSessionIFrame.load().then((function(){t._checkSessionIFrame.start(n)}))}else i.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")})).catch((function(e){i.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",e.message)})))},e.prototype._stop=function(){var e=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(i.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var t=this._timer.setInterval((function(){e._timer.clearInterval(t),e._userManager.querySessionStatus().then((function(t){var n={session_state:t.session_state};t.sub&&t.sid&&(n.profile={sub:t.sub,sid:t.sid}),e._start(n)})).catch((function(e){i.Log.error("SessionMonitor: error from querySessionStatus:",e.message)}))}),1e3)},e.prototype._callback=function(){var e=this;this._userManager.querySessionStatus().then((function(t){var n=!0;t?t.sub===e._sub?(n=!1,e._checkSessionIFrame.start(t.session_state),t.sid===e._sid?i.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",t.session_state):(i.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",t.session_state),e._userManager.events._raiseUserSessionChanged())):i.Log.debug("SessionMonitor._callback: Different subject signed into OP:",t.sub):i.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),n&&(e._sub?(i.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),e._userManager.events._raiseUserSignedOut()):(i.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),e._userManager.events._raiseUserSignedIn()))})).catch((function(t){e._sub&&(i.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",t.message),e._userManager.events._raiseUserSignedOut())}))},r(e,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CheckSessionIFrame=void 0;var r=n(0);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.CheckSessionIFrame=function(){function e(t,n,r,o){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];i(this,e),this._callback=t,this._client_id=n,this._url=r,this._interval=o||2e3,this._stopOnError=a;var s=r.indexOf("/",r.indexOf("//")+2);this._frame_origin=r.substr(0,s),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=r}return e.prototype.load=function(){var e=this;return new Promise((function(t){e._frame.onload=function(){t()},window.document.body.appendChild(e._frame),e._boundMessageEvent=e._message.bind(e),window.addEventListener("message",e._boundMessageEvent,!1)}))},e.prototype._message=function(e){e.origin===this._frame_origin&&e.source===this._frame.contentWindow&&("error"===e.data?(r.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===e.data?(r.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):r.Log.debug("CheckSessionIFrame: "+e.data+" message from check session op iframe"))},e.prototype.start=function(e){var t=this;if(this._session_state!==e){r.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=e;var n=function(){t._frame.contentWindow.postMessage(t._client_id+" "+t._session_state,t._frame_origin)};n(),this._timer=window.setInterval(n,this._interval)}},e.prototype.stop=function(){this._session_state=null,this._timer&&(r.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenRevocationClient=void 0;var r=n(0),i=n(2),o=n(1);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s="access_token",u="refresh_token";t.TokenRevocationClient=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Global.XMLHttpRequest,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService;if(a(this,e),!t)throw r.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=t,this._XMLHttpRequestCtor=n,this._metadataService=new s(this._settings)}return e.prototype.revoke=function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"access_token";if(!e)throw r.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if(i!==s&&i!=u)throw r.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then((function(o){if(o){r.Log.debug("TokenRevocationClient.revoke: Revoking "+i);var a=n._settings.client_id,s=n._settings.client_secret;return n._revoke(o,a,s,e,i)}if(t)throw r.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")}))},e.prototype._revoke=function(e,t,n,i,o){var a=this;return new Promise((function(s,u){var c=new a._XMLHttpRequestCtor;c.open("POST",e),c.onload=function(){r.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",c.status),200===c.status?s():u(Error(c.statusText+" ("+c.status+")"))},c.onerror=function(){r.Log.debug("TokenRevocationClient.revoke: Network Error."),u("Network Error")};var l="client_id="+encodeURIComponent(t);n&&(l+="&client_secret="+encodeURIComponent(n)),l+="&token_type_hint="+encodeURIComponent(o),l+="&token="+encodeURIComponent(i),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(l)}))},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaPopupWindow=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);t.CordovaPopupWindow=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=new Promise((function(e,t){n._resolve=e,n._reject=t})),this.features=t.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=t.popupWindowTarget||"_blank",this.redirect_uri=t.startUrl,i.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return e.prototype._isInAppBrowserInstalled=function(e){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some((function(t){return e.hasOwnProperty(t)}))},e.prototype.navigate=function(e){if(e&&e.url){if(!window.cordova)return this._error("cordova is undefined");var t=window.cordova.require("cordova/plugin_list").metadata;if(!1===this._isInAppBrowserInstalled(t))return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(e.url,this.target,this.features),this._popup?(i.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},e.prototype._loadStartCallback=function(e){0===e.url.indexOf(this.redirect_uri)&&this._success({url:e.url})},e.prototype._exitCallback=function(e){this._error(e)},e.prototype._success=function(e){this._cleanup(),i.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(e)},e.prototype._error=function(e){this._cleanup(),i.Log.error(e),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup()},e.prototype._cleanup=function(){this._popup&&(i.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},r(e,[{key:"promise",get:function(){return this._promise}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(10),o=n(5),a=n(6),s=n(37),u=n(38),c=n(16),l=n(2),f=n(48),d=n(49),h=n(19),p=n(20),g=n(18),v=n(1),y=n(15),m=n(50);t.default={Version:m.Version,Log:r.Log,OidcClient:i.OidcClient,OidcClientSettings:o.OidcClientSettings,WebStorageStateStore:a.WebStorageStateStore,InMemoryWebStorage:s.InMemoryWebStorage,UserManager:u.UserManager,AccessTokenEvents:c.AccessTokenEvents,MetadataService:l.MetadataService,CordovaPopupNavigator:f.CordovaPopupNavigator,CordovaIFrameNavigator:d.CordovaIFrameNavigator,CheckSessionIFrame:h.CheckSessionIFrame,TokenRevocationClient:p.TokenRevocationClient,SessionMonitor:g.SessionMonitor,Global:v.Global,User:y.User},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClockService=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResponseValidator=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(0),o=n(2),a=n(25),s=n(11),u=n(12),c=n(4);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];t.ResponseValidator=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.MetadataService,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.UserInfoService,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c.JoseUtil,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s.TokenClient;if(l(this,e),!t)throw i.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=t,this._metadataService=new n(this._settings),this._userInfoService=new r(this._settings),this._joseUtil=u,this._tokenClient=new f(this._settings)}return e.prototype.validateSigninResponse=function(e,t){var n=this;return i.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(e,t).then((function(t){return i.Log.debug("ResponseValidator.validateSigninResponse: state processed"),n._validateTokens(e,t).then((function(t){return i.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),n._processClaims(e,t).then((function(e){return i.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),e}))}))}))},e.prototype.validateSignoutResponse=function(e,t){return e.id!==t.state?(i.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(i.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),t.state=e.data,t.error?(i.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",t.error),Promise.reject(new u.ErrorResponse(t))):Promise.resolve(t))},e.prototype._processSigninParams=function(e,t){if(e.id!==t.state)return i.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!e.client_id)return i.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!e.authority)return i.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==e.authority)return i.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=e.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==e.client_id)return i.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=e.client_id;return i.Log.debug("ResponseValidator._processSigninParams: state validated"),t.state=e.data,t.error?(i.Log.warn("ResponseValidator._processSigninParams: Response was error",t.error),Promise.reject(new u.ErrorResponse(t))):e.nonce&&!t.id_token?(i.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!e.nonce&&t.id_token?(i.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):e.code_verifier&&!t.code?(i.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!e.code_verifier&&t.code?(i.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(t.scope||(t.scope=e.scope),Promise.resolve(t))},e.prototype._processClaims=function(e,t){var n=this;if(t.isOpenIdConnect){if(i.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),t.profile=this._filterProtocolClaims(t.profile),!0!==e.skipUserInfo&&this._settings.loadUserInfo&&t.access_token)return i.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(t.access_token).then((function(e){return i.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),e.sub!==t.profile.sub?(i.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(t.profile=n._mergeClaims(t.profile,e),i.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",t.profile),t)}));i.Log.debug("ResponseValidator._processClaims: not loading user info")}else i.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(t)},e.prototype._mergeClaims=function(e,t){var n=Object.assign({},e);for(var i in t){var o=t[i];Array.isArray(o)||(o=[o]);for(var a=0;a<o.length;a++){var s=o[a];n[i]?Array.isArray(n[i])?n[i].indexOf(s)<0&&n[i].push(s):n[i]!==s&&("object"===(void 0===s?"undefined":r(s))&&this._settings.mergeClaims?n[i]=this._mergeClaims(n[i],s):n[i]=[n[i],s]):n[i]=s}}return n},e.prototype._filterProtocolClaims=function(e){i.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",e);var t=Object.assign({},e);return this._settings._filterProtocolClaims?(f.forEach((function(e){delete t[e]})),i.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",t)):i.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),t},e.prototype._validateTokens=function(e,t){return t.code?(i.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(e,t)):t.id_token?t.access_token?(i.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(e,t)):(i.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(e,t)):(i.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(t))},e.prototype._processCode=function(e,t){var n=this,o={client_id:e.client_id,client_secret:e.client_secret,code:t.code,redirect_uri:e.redirect_uri,code_verifier:e.code_verifier};return e.extraTokenParams&&"object"===r(e.extraTokenParams)&&Object.assign(o,e.extraTokenParams),this._tokenClient.exchangeCode(o).then((function(r){for(var o in r)t[o]=r[o];return t.id_token?(i.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),n._validateIdTokenAttributes(e,t)):(i.Log.debug("ResponseValidator._processCode: token response successful, returning response"),t)}))},e.prototype._validateIdTokenAttributes=function(e,t){var n=this;return this._metadataService.getIssuer().then((function(r){var o=e.client_id,a=n._settings.clockSkew;return i.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",a),n._settings.getEpochTime().then((function(s){return n._joseUtil.validateJwtAttributes(t.id_token,r,o,a,s).then((function(n){return e.nonce&&e.nonce!==n.nonce?(i.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):n.sub?(t.profile=n,t):(i.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))}))}))}))},e.prototype._validateIdTokenAndAccessToken=function(e,t){var n=this;return this._validateIdToken(e,t).then((function(e){return n._validateAccessToken(e)}))},e.prototype._getSigningKeyForJwt=function(e){var t=this;return this._metadataService.getSigningKeys().then((function(n){var r=e.header.kid;if(!n)return i.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));i.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var o=void 0;if(r)o=n.filter((function(e){return e.kid===r}))[0];else{if((n=t._filterByAlg(n,e.header.alg)).length>1)return i.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));o=n[0]}return Promise.resolve(o)}))},e.prototype._getSigningKeyForJwtWithSingleRetry=function(e){var t=this;return this._getSigningKeyForJwt(e).then((function(n){return n?Promise.resolve(n):(t._metadataService.resetSigningKeys(),t._getSigningKeyForJwt(e))}))},e.prototype._validateIdToken=function(e,t){var n=this;if(!e.nonce)return i.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var r=this._joseUtil.parseJwt(t.id_token);return r&&r.header&&r.payload?e.nonce!==r.payload.nonce?(i.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then((function(o){return i.Log.debug("ResponseValidator._validateIdToken: Received issuer"),n._getSigningKeyForJwtWithSingleRetry(r).then((function(a){if(!a)return i.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var s=e.client_id,u=n._settings.clockSkew;return i.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",u),n._joseUtil.validateJwt(t.id_token,a,o,s,u).then((function(){return i.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),r.payload.sub?(t.profile=r.payload,t):(i.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))}))}))})):(i.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",r),Promise.reject(new Error("Failed to parse id_token")))},e.prototype._filterByAlg=function(e,t){var n=null;if(t.startsWith("RS"))n="RSA";else if(t.startsWith("PS"))n="PS";else{if(!t.startsWith("ES"))return i.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",t),[];n="EC"}return i.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",n),e=e.filter((function(e){return e.kty===n})),i.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",n,e.length),e},e.prototype._validateAccessToken=function(e){if(!e.profile)return i.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!e.profile.at_hash)return i.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!e.id_token)return i.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var t=this._joseUtil.parseJwt(e.id_token);if(!t||!t.header)return i.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",t),Promise.reject(new Error("Failed to parse id_token"));var n=t.header.alg;if(!n||5!==n.length)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",n),Promise.reject(new Error("Unsupported alg: "+n));var r=n.substr(2,3);if(!r)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",n,r),Promise.reject(new Error("Unsupported alg: "+n));if(256!==(r=parseInt(r))&&384!==r&&512!==r)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",n,r),Promise.reject(new Error("Unsupported alg: "+n));var o="sha"+r,a=this._joseUtil.hashString(e.access_token,o);if(!a)return i.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",o),Promise.reject(new Error("Failed to validate at_hash"));var s=a.substr(0,a.length/2),u=this._joseUtil.hexToBase64Url(s);return u!==e.profile.at_hash?(i.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",u,e.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(i.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(e))},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserInfoService=void 0;var r=n(7),i=n(2),o=n(0),a=n(4);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.UserInfoService=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.JsonService,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.JoseUtil;if(s(this,e),!t)throw o.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=t,this._jsonService=new n(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new u(this._settings),this._joseUtil=c}return e.prototype.getClaims=function(e){var t=this;return e?this._metadataService.getUserInfoEndpoint().then((function(n){return o.Log.debug("UserInfoService.getClaims: received userinfo url",n),t._jsonService.getJson(n,e).then((function(e){return o.Log.debug("UserInfoService.getClaims: claims received",e),e}))})):(o.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},e.prototype._getClaimsFromJwt=function e(t){var n=this;try{var r=this._joseUtil.parseJwt(t.responseText);if(!r||!r.header||!r.payload)return o.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",r),Promise.reject(new Error("Failed to parse id_token"));var i=r.header.kid,a=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":a=this._metadataService.getIssuer();break;case"ANY":a=Promise.resolve(r.payload.iss);break;default:a=Promise.resolve(this._settings.userInfoJwtIssuer)}return a.then((function(e){return o.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+e),n._metadataService.getSigningKeys().then((function(a){if(!a)return o.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));o.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var s=void 0;if(i)s=a.filter((function(e){return e.kid===i}))[0];else{if((a=n._filterByAlg(a,r.header.alg)).length>1)return o.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));s=a[0]}if(!s)return o.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var u=n._settings.client_id,c=n._settings.clockSkew;return o.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",c),n._joseUtil.validateJwt(t.responseText,s,e,u,c,void 0,!0).then((function(){return o.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),r.payload}))}))}))}catch(e){return o.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",e.message),void reject(e)}},e.prototype._filterByAlg=function(e,t){var n=null;if(t.startsWith("RS"))n="RSA";else if(t.startsWith("PS"))n="PS";else{if(!t.startsWith("ES"))return o.Log.debug("UserInfoService._filterByAlg: alg not supported: ",t),[];n="EC"}return o.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",n),e=e.filter((function(e){return e.kty===n})),o.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",n,e.length),e},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AllowedSigningAlgs=t.b64tohex=t.hextob64u=t.crypto=t.X509=t.KeyUtil=t.jws=void 0;var r=n(27);t.jws=r.jws,t.KeyUtil=r.KEYUTIL,t.X509=r.X509,t.crypto=r.crypto,t.hextob64u=r.hextob64u,t.b64tohex=r.b64tohex,t.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r={userAgent:!1},i={};if(void 0===o)var o={};o.lang={extend:function(t,n,i){if(!n||!t)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var o=function(){};if(o.prototype=n.prototype,t.prototype=new o,t.prototype.constructor=t,t.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),i){var a;for(a in i)t.prototype[a]=i[a];var s=function(){},u=["toString","valueOf"];try{/MSIE/.test(r.userAgent)&&(s=function(e,t){for(a=0;a<u.length;a+=1){var n=u[a],r=t[n];"function"==typeof r&&r!=Object.prototype[n]&&(e[n]=r)}})}catch(e){}s(t.prototype,i)}}};var a,s,u,c,l,f,d,h,p,g,v,y=y||(a=Math,u=(s={}).lib={},c=u.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),l=u.WordArray=c.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=a<<24-(r+o)%4*8}else for(o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=a.ceil(t/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(4294967296*a.random()|0);return new l.init(t,e)}}),f=s.enc={},d=f.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new l.init(n,t/2)}},h=f.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new l.init(n,t)}},p=f.Utf8={stringify:function(t){try{return decodeURIComponent(escape(h.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},g=u.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,n=t.words,r=t.sigBytes,i=this.blockSize,o=r/(4*i),s=(o=e?a.ceil(o):a.max((0|o)-this._minBufferSize,0))*i,u=a.min(4*s,r);if(s){for(var c=0;c<s;c+=i)this._doProcessBlock(n,c);var f=n.splice(0,s);t.sigBytes-=u}return new l.init(f,u)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),u.Hasher=g.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new v.HMAC.init(e,n).finalize(t)}}}),v=s.algo={},s);!function(e){var t,n=(t=y).lib,r=n.Base,i=n.WordArray;(t=t.x64={}).Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),t.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var o=e[r];n.push(o.high),n.push(o.low)}return i.create(n,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),n=t.length,i=0;i<n;i++)t[i]=t[i].clone();return e}})}(),function(){var e=y,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp(),e=[];for(var i=0;i<n;i+=3)for(var o=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;4>a&&i+.75*a<n;a++)e.push(r.charAt(o>>>6*(3-a)&63));if(t=r.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var n=e.length,r=this._map;(i=r.charAt(64))&&-1!=(i=e.indexOf(i))&&(n=i);for(var i=[],o=0,a=0;a<n;a++)if(a%4){var s=r.indexOf(e.charAt(a-1))<<a%4*2,u=r.indexOf(e.charAt(a))>>>6-a%4*2;i[o>>>2]|=(s|u)<<24-o%4*8,o++}return t.create(i,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){for(var t=y,n=(i=t.lib).WordArray,r=i.Hasher,i=t.algo,o=[],a=[],s=function(e){return 4294967296*(e-(0|e))|0},u=2,c=0;64>c;){var l;e:{l=u;for(var f=e.sqrt(l),d=2;d<=f;d++)if(!(l%d)){l=!1;break e}l=!0}l&&(8>c&&(o[c]=s(e.pow(u,.5))),a[c]=s(e.pow(u,1/3)),c++),u++}var h=[];i=i.SHA256=r.extend({_doReset:function(){this._hash=new n.init(o.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],u=n[4],c=n[5],l=n[6],f=n[7],d=0;64>d;d++){if(16>d)h[d]=0|e[t+d];else{var p=h[d-15],g=h[d-2];h[d]=((p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3)+h[d-7]+((g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10)+h[d-16]}p=f+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&c^~u&l)+a[d]+h[d],g=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&i^r&o^i&o),f=l,l=c,c=u,u=s+p|0,s=o,o=i,i=r,r=p+g|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+u|0,n[5]=n[5]+c|0,n[6]=n[6]+l|0,n[7]=n[7]+f|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA256=r._createHelper(i),t.HmacSHA256=r._createHmacHelper(i)}(Math),function(){function e(){return r.create.apply(r,arguments)}for(var t=y,n=t.lib.Hasher,r=(o=t.x64).Word,i=o.WordArray,o=t.algo,a=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],s=[],u=0;80>u;u++)s[u]=e();o=o.SHA512=n.extend({_doReset:function(){this._hash=new i.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=(f=this._hash.words)[0],r=f[1],i=f[2],o=f[3],u=f[4],c=f[5],l=f[6],f=f[7],d=n.high,h=n.low,p=r.high,g=r.low,v=i.high,y=i.low,m=o.high,_=o.low,b=u.high,w=u.low,x=c.high,S=c.low,k=l.high,E=l.low,P=f.high,A=f.low,O=d,C=h,T=p,L=g,I=v,j=y,F=m,R=_,N=b,M=w,D=x,U=S,B=k,H=E,z=P,K=A,V=0;80>V;V++){var W=s[V];if(16>V)var q=W.high=0|e[t+2*V],J=W.low=0|e[t+2*V+1];else{q=((J=(q=s[V-15]).high)>>>1|(Z=q.low)<<31)^(J>>>8|Z<<24)^J>>>7;var Z=(Z>>>1|J<<31)^(Z>>>8|J<<24)^(Z>>>7|J<<25),G=((J=(G=s[V-2]).high)>>>19|(Y=G.low)<<13)^(J<<3|Y>>>29)^J>>>6,Y=(Y>>>19|J<<13)^(Y<<3|J>>>29)^(Y>>>6|J<<26),$=(J=s[V-7]).high,Q=(X=s[V-16]).high,X=X.low;q=(q=(q=q+$+((J=Z+J.low)>>>0<Z>>>0?1:0))+G+((J+=Y)>>>0<Y>>>0?1:0))+Q+((J+=X)>>>0<X>>>0?1:0),W.high=q,W.low=J}$=N&D^~N&B,X=M&U^~M&H,W=O&T^O&I^T&I;var ee=C&L^C&j^L&j,te=(Z=(O>>>28|C<<4)^(O<<30|C>>>2)^(O<<25|C>>>7),G=(C>>>28|O<<4)^(C<<30|O>>>2)^(C<<25|O>>>7),(Y=a[V]).high),ne=Y.low;Q=z+((N>>>14|M<<18)^(N>>>18|M<<14)^(N<<23|M>>>9))+((Y=K+((M>>>14|N<<18)^(M>>>18|N<<14)^(M<<23|N>>>9)))>>>0<K>>>0?1:0),z=B,K=H,B=D,H=U,D=N,U=M,N=F+(Q=(Q=(Q=Q+$+((Y+=X)>>>0<X>>>0?1:0))+te+((Y+=ne)>>>0<ne>>>0?1:0))+q+((Y+=J)>>>0<J>>>0?1:0))+((M=R+Y|0)>>>0<R>>>0?1:0)|0,F=I,R=j,I=T,j=L,T=O,L=C,O=Q+(W=Z+W+((J=G+ee)>>>0<G>>>0?1:0))+((C=Y+J|0)>>>0<Y>>>0?1:0)|0}h=n.low=h+C,n.high=d+O+(h>>>0<C>>>0?1:0),g=r.low=g+L,r.high=p+T+(g>>>0<L>>>0?1:0),y=i.low=y+j,i.high=v+I+(y>>>0<j>>>0?1:0),_=o.low=_+R,o.high=m+F+(_>>>0<R>>>0?1:0),w=u.low=w+M,u.high=b+N+(w>>>0<M>>>0?1:0),S=c.low=S+U,c.high=x+D+(S>>>0<U>>>0?1:0),E=l.low=E+H,l.high=k+B+(E>>>0<H>>>0?1:0),A=f.low=A+K,f.high=P+z+(A>>>0<K>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),t.SHA512=n._createHelper(o),t.HmacSHA512=n._createHmacHelper(o)}(),function(){var e=y,t=(i=e.x64).Word,n=i.WordArray,r=(i=e.algo).SHA512,i=i.SHA384=r.extend({_doReset:function(){this._hash=new n.init([new t.init(3418070365,3238371032),new t.init(1654270250,914150663),new t.init(2438529370,812702999),new t.init(355462360,4144912697),new t.init(1731405415,4290775857),new t.init(2394180231,1750603025),new t.init(3675008525,1694076839),new t.init(1203062813,3204075428)])},_doFinalize:function(){var e=r._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=r._createHelper(i),e.HmacSHA384=r._createHmacHelper(i)}();var m,_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function b(e){var t,n,r="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),r+=_.charAt(n>>6)+_.charAt(63&n);for(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),r+=_.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),r+=_.charAt(n>>2)+_.charAt((3&n)<<4));(3&r.length)>0;)r+="=";return r}function w(e){var t,n,r,i="",o=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t)(r=_.indexOf(e.charAt(t)))<0||(0==o?(i+=O(r>>2),n=3&r,o=1):1==o?(i+=O(n<<2|r>>4),n=15&r,o=2):2==o?(i+=O(n),i+=O(r>>2),n=3&r,o=3):(i+=O(n<<2|r>>4),i+=O(15&r),o=0));return 1==o&&(i+=O(n<<2)),i}function x(e){var t,n=w(e),r=new Array;for(t=0;2*t<n.length;++t)r[t]=parseInt(n.substring(2*t,2*t+2),16);return r}function S(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function k(){return new S(null)}"Microsoft Internet Explorer"==r.appName?(S.prototype.am=function(e,t,n,r,i,o){for(var a=32767&t,s=t>>15;--o>=0;){var u=32767&this[e],c=this[e++]>>15,l=s*u+c*a;i=((u=a*u+((32767&l)<<15)+n[r]+(1073741823&i))>>>30)+(l>>>15)+s*c+(i>>>30),n[r++]=1073741823&u}return i},m=30):"Netscape"!=r.appName?(S.prototype.am=function(e,t,n,r,i,o){for(;--o>=0;){var a=t*this[e++]+n[r]+i;i=Math.floor(a/67108864),n[r++]=67108863&a}return i},m=26):(S.prototype.am=function(e,t,n,r,i,o){for(var a=16383&t,s=t>>14;--o>=0;){var u=16383&this[e],c=this[e++]>>14,l=s*u+c*a;i=((u=a*u+((16383&l)<<14)+n[r]+i)>>28)+(l>>14)+s*c,n[r++]=268435455&u}return i},m=28),S.prototype.DB=m,S.prototype.DM=(1<<m)-1,S.prototype.DV=1<<m,S.prototype.FV=Math.pow(2,52),S.prototype.F1=52-m,S.prototype.F2=2*m-52;var E,P,A=new Array;for(E="0".charCodeAt(0),P=0;P<=9;++P)A[E++]=P;for(E="a".charCodeAt(0),P=10;P<36;++P)A[E++]=P;for(E="A".charCodeAt(0),P=10;P<36;++P)A[E++]=P;function O(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function C(e,t){var n=A[e.charCodeAt(t)];return null==n?-1:n}function T(e){var t=k();return t.fromInt(e),t}function L(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function I(e){this.m=e}function j(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function F(e,t){return e&t}function R(e,t){return e|t}function N(e,t){return e^t}function M(e,t){return e&~t}function D(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function U(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function B(){}function H(e){return e}function z(e){this.r2=k(),this.q3=k(),S.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}I.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},I.prototype.revert=function(e){return e},I.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},I.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},I.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},j.prototype.convert=function(e){var t=k();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(S.ZERO)>0&&this.m.subTo(t,t),t},j.prototype.revert=function(e){var t=k();return e.copyTo(t),this.reduce(t),t},j.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},j.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},j.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},S.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},S.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},S.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,o=0;--r>=0;){var a=8==n?255&e[r]:C(e,r);a<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==o?this[this.t++]=a:o+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this[this.t++]=a>>this.DB-o):this[this.t-1]|=a<<o,(o+=n)>=this.DB&&(o-=this.DB))}8==n&&0!=(128&e[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&S.ZERO.subTo(this,this)},S.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},S.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},S.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},S.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,a=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+a+1]=this[n]>>i|s,s=(this[n]&o)<<r;for(n=a-1;n>=0;--n)t[n]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()},S.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&o)<<i,t[a-n]=this[a]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}},S.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},S.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&S.ZERO.subTo(t,t)},S.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},S.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=k());var o=k(),a=this.s,s=e.s,u=this.DB-L(r[r.t-1]);u>0?(r.lShiftTo(u,o),i.lShiftTo(u,n)):(r.copyTo(o),i.copyTo(n));var c=o.t,l=o[c-1];if(0!=l){var f=l*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),d=this.FV/f,h=(1<<this.F1)/f,p=1<<this.F2,g=n.t,v=g-c,y=null==t?k():t;for(o.dlShiftTo(v,y),n.compareTo(y)>=0&&(n[n.t++]=1,n.subTo(y,n)),S.ONE.dlShiftTo(c,y),y.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--v>=0;){var m=n[--g]==l?this.DM:Math.floor(n[g]*d+(n[g-1]+p)*h);if((n[g]+=o.am(0,m,n,v,0,c))<m)for(o.dlShiftTo(v,y),n.subTo(y,n);n[g]<--m;)n.subTo(y,n)}null!=t&&(n.drShiftTo(c,t),a!=s&&S.ZERO.subTo(t,t)),n.t=c,n.clamp(),u>0&&n.rShiftTo(u,n),a<0&&S.ZERO.subTo(n,n)}}},S.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},S.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},S.prototype.exp=function(e,t){if(e>4294967295||e<1)return S.ONE;var n=k(),r=k(),i=t.convert(this),o=L(e)-1;for(i.copyTo(n);--o>=0;)if(t.sqrTo(n,r),(e&1<<o)>0)t.mulTo(r,i,n);else{var a=n;n=r,r=a}return t.revert(n)},S.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(n=this[a]>>s)>0&&(i=!0,o=O(n));a>=0;)s<t?(n=(this[a]&(1<<s)-1)<<t-s,n|=this[--a]>>(s+=this.DB-t)):(n=this[a]>>(s-=t)&r,s<=0&&(s+=this.DB,--a)),n>0&&(i=!0),i&&(o+=O(n));return i?o:"0"},S.prototype.negate=function(){var e=k();return S.ZERO.subTo(this,e),e},S.prototype.abs=function(){return this.s<0?this.negate():this},S.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},S.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+L(this[this.t-1]^this.s&this.DM)},S.prototype.mod=function(e){var t=k();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(S.ZERO)>0&&e.subTo(t,t),t},S.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new I(t):new j(t),this.exp(e,n)},S.ZERO=T(0),S.ONE=T(1),B.prototype.convert=H,B.prototype.revert=H,B.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},B.prototype.sqrTo=function(e,t){e.squareTo(t)},z.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=k();return e.copyTo(t),this.reduce(t),t},z.prototype.revert=function(e){return e},z.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},z.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},z.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var K,V,W,q=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],J=(1<<26)/q[q.length-1];function Z(){this.i=0,this.j=0,this.S=new Array}function G(){!function(e){V[W++]^=255&e,V[W++]^=e>>8&255,V[W++]^=e>>16&255,V[W++]^=e>>24&255,W>=256&&(W-=256)}((new Date).getTime())}if(S.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},S.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=T(n),i=k(),o=k(),a="";for(this.divRemTo(r,i,o);i.signum()>0;)a=(n+o.intValue()).toString(e).substr(1)+a,i.divRemTo(r,i,o);return o.intValue().toString(e)+a},S.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),r=Math.pow(t,n),i=!1,o=0,a=0,s=0;s<e.length;++s){var u=C(e,s);u<0?"-"==e.charAt(s)&&0==this.signum()&&(i=!0):(a=t*a+u,++o>=n&&(this.dMultiply(r),this.dAddOffset(a,0),o=0,a=0))}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(a,0)),i&&S.ZERO.subTo(this,this)},S.prototype.fromNumber=function(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(S.ONE.shiftLeft(e-1),R,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(S.ONE.shiftLeft(e-1),this);else{var r=new Array,i=7&e;r.length=1+(e>>3),t.nextBytes(r),i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}},S.prototype.bitwiseTo=function(e,t,n){var r,i,o=Math.min(e.t,this.t);for(r=0;r<o;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(i=e.s&this.DM,r=o;r<this.t;++r)n[r]=t(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<e.t;++r)n[r]=t(i,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},S.prototype.changeBit=function(e,t){var n=S.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n},S.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},S.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},S.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},S.prototype.multiplyLowerTo=function(e,t,n){var r,i=Math.min(this.t+e.t,t);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,e[i],n,i,0,this.t);for(r=Math.min(e.t,t);i<r;++i)this.am(0,e[i],n,i,0,t-i);n.clamp()},S.prototype.multiplyUpperTo=function(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)},S.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n},S.prototype.millerRabin=function(e){var t=this.subtract(S.ONE),n=t.getLowestSetBit();if(n<=0)return!1;var r=t.shiftRight(n);(e=e+1>>1)>q.length&&(e=q.length);for(var i=k(),o=0;o<e;++o){i.fromInt(q[Math.floor(Math.random()*q.length)]);var a=i.modPow(r,this);if(0!=a.compareTo(S.ONE)&&0!=a.compareTo(t)){for(var s=1;s++<n&&0!=a.compareTo(t);)if(0==(a=a.modPowInt(2,this)).compareTo(S.ONE))return!1;if(0!=a.compareTo(t))return!1}}return!0},S.prototype.clone=function(){var e=k();return this.copyTo(e),e},S.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},S.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},S.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},S.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},S.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,i=0;if(e-- >0)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t},S.prototype.equals=function(e){return 0==this.compareTo(e)},S.prototype.min=function(e){return this.compareTo(e)<0?this:e},S.prototype.max=function(e){return this.compareTo(e)>0?this:e},S.prototype.and=function(e){var t=k();return this.bitwiseTo(e,F,t),t},S.prototype.or=function(e){var t=k();return this.bitwiseTo(e,R,t),t},S.prototype.xor=function(e){var t=k();return this.bitwiseTo(e,N,t),t},S.prototype.andNot=function(e){var t=k();return this.bitwiseTo(e,M,t),t},S.prototype.not=function(){for(var e=k(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},S.prototype.shiftLeft=function(e){var t=k();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},S.prototype.shiftRight=function(e){var t=k();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},S.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+D(this[e]);return this.s<0?this.t*this.DB:-1},S.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=U(this[n]^t);return e},S.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},S.prototype.setBit=function(e){return this.changeBit(e,R)},S.prototype.clearBit=function(e){return this.changeBit(e,M)},S.prototype.flipBit=function(e){return this.changeBit(e,N)},S.prototype.add=function(e){var t=k();return this.addTo(e,t),t},S.prototype.subtract=function(e){var t=k();return this.subTo(e,t),t},S.prototype.multiply=function(e){var t=k();return this.multiplyTo(e,t),t},S.prototype.divide=function(e){var t=k();return this.divRemTo(e,t,null),t},S.prototype.remainder=function(e){var t=k();return this.divRemTo(e,null,t),t},S.prototype.divideAndRemainder=function(e){var t=k(),n=k();return this.divRemTo(e,t,n),new Array(t,n)},S.prototype.modPow=function(e,t){var n,r,i=e.bitLength(),o=T(1);if(i<=0)return o;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new I(t):t.isEven()?new z(t):new j(t);var a=new Array,s=3,u=n-1,c=(1<<n)-1;if(a[1]=r.convert(this),n>1){var l=k();for(r.sqrTo(a[1],l);s<=c;)a[s]=k(),r.mulTo(l,a[s-2],a[s]),s+=2}var f,d,h=e.t-1,p=!0,g=k();for(i=L(e[h])-1;h>=0;){for(i>=u?f=e[h]>>i-u&c:(f=(e[h]&(1<<i+1)-1)<<u-i,h>0&&(f|=e[h-1]>>this.DB+i-u)),s=n;0==(1&f);)f>>=1,--s;if((i-=s)<0&&(i+=this.DB,--h),p)a[f].copyTo(o),p=!1;else{for(;s>1;)r.sqrTo(o,g),r.sqrTo(g,o),s-=2;s>0?r.sqrTo(o,g):(d=o,o=g,g=d),r.mulTo(g,a[f],o)}for(;h>=0&&0==(e[h]&1<<i);)r.sqrTo(o,g),d=o,o=g,g=d,--i<0&&(i=this.DB-1,--h)}return r.revert(o)},S.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return S.ZERO;for(var n=e.clone(),r=this.clone(),i=T(1),o=T(0),a=T(0),s=T(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(i.isEven()&&o.isEven()||(i.addTo(this,i),o.subTo(e,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;r.isEven();)r.rShiftTo(1,r),t?(a.isEven()&&s.isEven()||(a.addTo(this,a),s.subTo(e,s)),a.rShiftTo(1,a)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);n.compareTo(r)>=0?(n.subTo(r,n),t&&i.subTo(a,i),o.subTo(s,o)):(r.subTo(n,r),t&&a.subTo(i,a),s.subTo(o,s))}return 0!=r.compareTo(S.ONE)?S.ZERO:s.compareTo(e)>=0?s.subtract(e):s.signum()<0?(s.addTo(e,s),s.signum()<0?s.add(e):s):s},S.prototype.pow=function(e){return this.exp(e,new B)},S.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),n.rShiftTo(o,n));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n},S.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n[0]<=q[q.length-1]){for(t=0;t<q.length;++t)if(n[0]==q[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<q.length;){for(var r=q[t],i=t+1;i<q.length&&r<J;)r*=q[i++];for(r=n.modInt(r);t<i;)if(r%q[t++]==0)return!1}return n.millerRabin(e)},S.prototype.square=function(){var e=k();return this.squareTo(e),e},Z.prototype.init=function(e){var t,n,r;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,r=this.S[t],this.S[t]=this.S[n],this.S[n]=r;this.i=0,this.j=0},Z.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]},null==V){var Y;if(V=new Array,W=0,void 0!==i&&(void 0!==i.crypto||void 0!==i.msCrypto)){var $=i.crypto||i.msCrypto;if($.getRandomValues){var Q=new Uint8Array(32);for($.getRandomValues(Q),Y=0;Y<32;++Y)V[W++]=Q[Y]}else if("Netscape"==r.appName&&r.appVersion<"5"){var X=i.crypto.random(32);for(Y=0;Y<X.length;++Y)V[W++]=255&X.charCodeAt(Y)}}for(;W<256;)Y=Math.floor(65536*Math.random()),V[W++]=Y>>>8,V[W++]=255&Y;W=0,G()}function ee(){if(null==K){for(G(),(K=new Z).init(V),W=0;W<V.length;++W)V[W]=0;W=0}return K.next()}function te(){}function ne(e,t){return new S(e,t)}function re(e,t,n){for(var r="",i=0;r.length<t;)r+=n(String.fromCharCode.apply(String,e.concat([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i]))),i+=1;return r}function ie(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function oe(e,t){this.x=t,this.q=e}function ae(e,t,n,r){this.curve=e,this.x=t,this.y=n,this.z=null==r?S.ONE:r,this.zinv=null}function se(e,t,n){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(n),this.infinity=new ae(this,null,null)}te.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=ee()},ie.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},ie.prototype.setPublic=function(e,t){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof e)this.n=e,this.e=t;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA public key";this.n=ne(e,16),this.e=parseInt(t,16)}},ie.prototype.encrypt=function(e){var t=function(e,t){if(t<e.length+11)throw"Message too long for RSA";for(var n=new Array,r=e.length-1;r>=0&&t>0;){var i=e.charCodeAt(r--);i<128?n[--t]=i:i>127&&i<2048?(n[--t]=63&i|128,n[--t]=i>>6|192):(n[--t]=63&i|128,n[--t]=i>>6&63|128,n[--t]=i>>12|224)}n[--t]=0;for(var o=new te,a=new Array;t>2;){for(a[0]=0;0==a[0];)o.nextBytes(a);n[--t]=a[0]}return n[--t]=2,n[--t]=0,new S(n)}(e,this.n.bitLength()+7>>3);if(null==t)return null;var n=this.doPublic(t);if(null==n)return null;var r=n.toString(16);return 0==(1&r.length)?r:"0"+r},ie.prototype.encryptOAEP=function(e,t,n){var r=function(e,t,n,r){var i=ce.crypto.MessageDigest,o=ce.crypto.Util,a=null;if(n||(n="sha1"),"string"==typeof n&&(a=i.getCanonicalAlgName(n),r=i.getHashLength(a),n=function(e){return Se(o.hashHex(ke(e),a))}),e.length+2*r+2>t)throw"Message too long for RSA";var s,u="";for(s=0;s<t-e.length-2*r-2;s+=1)u+="\0";var c=n("")+u+"\x01"+e,l=new Array(r);(new te).nextBytes(l);var f=re(l,c.length,n),d=[];for(s=0;s<c.length;s+=1)d[s]=c.charCodeAt(s)^f.charCodeAt(s);var h=re(d,l.length,n),p=[0];for(s=0;s<l.length;s+=1)p[s+1]=l[s]^h.charCodeAt(s);return new S(p.concat(d))}(e,this.n.bitLength()+7>>3,t,n);if(null==r)return null;var i=this.doPublic(r);if(null==i)return null;var o=i.toString(16);return 0==(1&o.length)?o:"0"+o},ie.prototype.type="RSA",oe.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.x.equals(e.x)},oe.prototype.toBigInteger=function(){return this.x},oe.prototype.negate=function(){return new oe(this.q,this.x.negate().mod(this.q))},oe.prototype.add=function(e){return new oe(this.q,this.x.add(e.toBigInteger()).mod(this.q))},oe.prototype.subtract=function(e){return new oe(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))},oe.prototype.multiply=function(e){return new oe(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))},oe.prototype.square=function(){return new oe(this.q,this.x.square().mod(this.q))},oe.prototype.divide=function(e){return new oe(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))},ae.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ae.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ae.prototype.equals=function(e){return e==this||(this.isInfinity()?e.isInfinity():e.isInfinity()?this.isInfinity():!!e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(S.ZERO)&&e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(S.ZERO))},ae.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(S.ZERO)&&!this.y.toBigInteger().equals(S.ZERO)},ae.prototype.negate=function(){return new ae(this.curve,this.x,this.y.negate(),this.z)},ae.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),n=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(S.ZERO.equals(n))return S.ZERO.equals(t)?this.twice():this.curve.getInfinity();var r=new S("3"),i=this.x.toBigInteger(),o=this.y.toBigInteger(),a=(e.x.toBigInteger(),e.y.toBigInteger(),n.square()),s=a.multiply(n),u=i.multiply(a),c=t.square().multiply(this.z),l=c.subtract(u.shiftLeft(1)).multiply(e.z).subtract(s).multiply(n).mod(this.curve.q),f=u.multiply(r).multiply(t).subtract(o.multiply(s)).subtract(c.multiply(t)).multiply(e.z).add(t.multiply(s)).mod(this.curve.q),d=s.multiply(this.z).multiply(e.z).mod(this.curve.q);return new ae(this.curve,this.curve.fromBigInteger(l),this.curve.fromBigInteger(f),d)},ae.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new S("3"),t=this.x.toBigInteger(),n=this.y.toBigInteger(),r=n.multiply(this.z),i=r.multiply(n).mod(this.curve.q),o=this.curve.a.toBigInteger(),a=t.square().multiply(e);S.ZERO.equals(o)||(a=a.add(this.z.square().multiply(o)));var s=(a=a.mod(this.curve.q)).square().subtract(t.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(r).mod(this.curve.q),u=a.multiply(e).multiply(t).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(a.square().multiply(a)).mod(this.curve.q),c=r.square().multiply(r).shiftLeft(3).mod(this.curve.q);return new ae(this.curve,this.curve.fromBigInteger(s),this.curve.fromBigInteger(u),c)},ae.prototype.multiply=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new S("3")),i=this.negate(),o=this,a=this.curve.q.subtract(e),s=a.multiply(new S("3")),u=new ae(this.curve,this.x,this.y),c=u.negate();for(t=r.bitLength()-2;t>0;--t){o=o.twice();var l=r.testBit(t);l!=n.testBit(t)&&(o=o.add(l?this:i))}for(t=s.bitLength()-2;t>0;--t){u=u.twice();var f=s.testBit(t);f!=a.testBit(t)&&(u=u.add(f?u:c))}return o},ae.prototype.multiplyTwo=function(e,t,n){var r;r=e.bitLength()>n.bitLength()?e.bitLength()-1:n.bitLength()-1;for(var i=this.curve.getInfinity(),o=this.add(t);r>=0;)i=i.twice(),e.testBit(r)?i=n.testBit(r)?i.add(o):i.add(this):n.testBit(r)&&(i=i.add(t)),--r;return i},se.prototype.getQ=function(){return this.q},se.prototype.getA=function(){return this.a},se.prototype.getB=function(){return this.b},se.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)},se.prototype.getInfinity=function(){return this.infinity},se.prototype.fromBigInteger=function(e){return new oe(this.q,e)},se.prototype.decodePointHex=function(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;default:return null;case 4:case 6:case 7:var t=(e.length-2)/2,n=e.substr(2,t),r=e.substr(t+2,t);return new ae(this,this.fromBigInteger(new S(n,16)),this.fromBigInteger(new S(r,16)))}},oe.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},ae.prototype.getEncoded=function(e){var t=function(e,t){var n=e.toByteArrayUnsigned();if(t<n.length)n=n.slice(n.length-t);else for(;t>n.length;)n.unshift(0);return n},n=this.getX().toBigInteger(),r=this.getY().toBigInteger(),i=t(n,32);return e?r.isEven()?i.unshift(2):i.unshift(3):(i.unshift(4),i=i.concat(t(r,32))),i},ae.decodeFrom=function(e,t){t[0];var n=t.length-1,r=t.slice(1,1+n/2),i=t.slice(1+n/2,1+n);r.unshift(0),i.unshift(0);var o=new S(r),a=new S(i);return new ae(e,e.fromBigInteger(o),e.fromBigInteger(a))},ae.decodeFromHex=function(e,t){t.substr(0,2);var n=t.length-2,r=t.substr(2,n/2),i=t.substr(2+n/2,n/2),o=new S(r,16),a=new S(i,16);return new ae(e,e.fromBigInteger(o),e.fromBigInteger(a))},ae.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var t=e.x.subtract(this.x),n=e.y.subtract(this.y).divide(t),r=n.square().subtract(this.x).subtract(e.x),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new ae(this.curve,r,i)},ae.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=this.curve.fromBigInteger(S.valueOf(2)),t=this.curve.fromBigInteger(S.valueOf(3)),n=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)),r=n.square().subtract(this.x.multiply(e)),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new ae(this.curve,r,i)},ae.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new S("3")),i=this.negate(),o=this;for(t=r.bitLength()-2;t>0;--t){o=o.twice();var a=r.testBit(t);a!=n.testBit(t)&&(o=o.add2D(a?this:i))}return o},ae.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),t=this.getY().toBigInteger(),n=this.curve.getA().toBigInteger(),r=this.curve.getB().toBigInteger(),i=this.curve.getQ(),o=t.multiply(t).mod(i),a=e.multiply(e).multiply(e).add(n.multiply(e)).add(r).mod(i);return o.equals(a)},ae.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},ae.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),n=this.getY().toBigInteger();if(t.compareTo(S.ONE)<0||t.compareTo(e.subtract(S.ONE))>0)throw new Error("x coordinate out of bounds");if(n.compareTo(S.ONE)<0||n.compareTo(e.subtract(S.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var ue=function(){var e=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),t=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),r={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function i(e,t,n){return t?r[t]:String.fromCharCode(parseInt(n,16))}var o=new String(""),a=Object.hasOwnProperty;return function(r,s){var u,c,l=r.match(e),f=l[0],d=!1;"{"===f?u={}:"["===f?u=[]:(u=[],d=!0);for(var h=[u],p=1-d,g=l.length;p<g;++p){var v;switch((f=l[p]).charCodeAt(0)){default:(v=h[0])[c||v.length]=+f,c=void 0;break;case 34:if(-1!==(f=f.substring(1,f.length-1)).indexOf("\\")&&(f=f.replace(t,i)),v=h[0],!c){if(!(v instanceof Array)){c=f||o;break}c=v.length}v[c]=f,c=void 0;break;case 91:v=h[0],h.unshift(v[c||v.length]=[]),c=void 0;break;case 93:case 125:h.shift();break;case 102:(v=h[0])[c||v.length]=!1,c=void 0;break;case 110:(v=h[0])[c||v.length]=null,c=void 0;break;case 116:(v=h[0])[c||v.length]=!0,c=void 0;break;case 123:v=h[0],h.unshift(v[c||v.length]={}),c=void 0}}if(d){if(1!==h.length)throw new Error;u=u[0]}else if(h.length)throw new Error;return s&&(u=function e(t,r){var i=t[r];if(i&&"object"===(void 0===i?"undefined":n(i))){var o=null;for(var u in i)if(a.call(i,u)&&i!==t){var c=e(i,u);void 0!==c?i[u]=c:(o||(o=[]),o.push(u))}if(o)for(var l=o.length;--l>=0;)delete i[o[l]]}return s.call(t,r,i)}({"":u},"")),u}}();void 0!==ce&&ce||(t.KJUR=ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),ce.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var n=t.substr(1).length;n%2==1?n+=1:t.match(/^[0-7]/)||(n+=2);for(var r="",i=0;i<n;i++)r+="f";t=new S(r,16).xor(e).add(S.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return Oe(e,t)},this.newObject=function(e){var t=ce.asn1,n=t.ASN1Object,r=t.DERBoolean,i=t.DERInteger,o=t.DERBitString,a=t.DEROctetString,s=t.DERNull,u=t.DERObjectIdentifier,c=t.DEREnumerated,l=t.DERUTF8String,f=t.DERNumericString,d=t.DERPrintableString,h=t.DERTeletexString,p=t.DERIA5String,g=t.DERUTCTime,v=t.DERGeneralizedTime,y=t.DERVisibleString,m=t.DERBMPString,_=t.DERSequence,b=t.DERSet,w=t.DERTaggedObject,x=t.ASN1Util.newObject;if(e instanceof t.ASN1Object)return e;var S=Object.keys(e);if(1!=S.length)throw new Error("key of param shall be only one.");var k=S[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+k+":"))throw new Error("undefined key: "+k);if("bool"==k)return new r(e[k]);if("int"==k)return new i(e[k]);if("bitstr"==k)return new o(e[k]);if("octstr"==k)return new a(e[k]);if("null"==k)return new s(e[k]);if("oid"==k)return new u(e[k]);if("enum"==k)return new c(e[k]);if("utf8str"==k)return new l(e[k]);if("numstr"==k)return new f(e[k]);if("prnstr"==k)return new d(e[k]);if("telstr"==k)return new h(e[k]);if("ia5str"==k)return new p(e[k]);if("utctime"==k)return new g(e[k]);if("gentime"==k)return new v(e[k]);if("visstr"==k)return new y(e[k]);if("bmpstr"==k)return new m(e[k]);if("asn1"==k)return new n(e[k]);if("seq"==k){for(var E=e[k],P=[],A=0;A<E.length;A++){var O=x(E[A]);P.push(O)}return new _({array:P})}if("set"==k){for(E=e[k],P=[],A=0;A<E.length;A++)O=x(E[A]),P.push(O);return new b({array:P})}if("tag"==k){var C=e[k];if("[object Array]"===Object.prototype.toString.call(C)&&3==C.length){var T=x(C[2]);return new w({tag:C[0],explicit:C[1],obj:T})}return new w(C)}},this.jsonToASN1HEX=function(e){return this.newObject(e).getEncodedHex()}},ce.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",n=parseInt(e.substr(0,2),16),r=(t=Math.floor(n/40)+"."+n%40,""),i=2;i<e.length;i+=2){var o=("00000000"+parseInt(e.substr(i,2),16).toString(2)).slice(-8);r+=o.substr(1,7),"0"==o.substr(0,1)&&(t=t+"."+new S(r,2).toString(10),r="")}return t},ce.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=new S(e,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var o="",a=0;a<i;a++)o+="0";for(r=o+r,a=0;a<r.length-1;a+=7){var s=r.substr(a,7);a!=r.length-7&&(s="1"+s),n+=t(parseInt(s,2))}return n};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var r="",i=e.split("."),o=40*parseInt(i[0])+parseInt(i[1]);r+=t(o),i.splice(0,2);for(var a=0;a<i.length;a++)r+=n(i[a]);return r},ce.asn1.ASN1Object=function(e){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n="+"".length+",v="+this.hV);var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var n=t.length/2;if(n>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);return(128+n).toString(16)+t},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(e){this.params=e},null!=e&&null!=e.tlv&&(this.hTLV=e.tlv,this.isModified=!1)},ce.asn1.DERAbstractString=function(e){ce.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=we(this.s).toLowerCase()},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?this.setString(e):void 0!==e.str?this.setString(e.str):void 0!==e.hex&&this.setStringHex(e.hex))},o.lang.extend(ce.asn1.DERAbstractString,ce.asn1.ASN1Object),ce.asn1.DERAbstractTime=function(e){ce.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){var t=e.getTime()+6e4*e.getTimezoneOffset();return new Date(t)},this.formatDate=function(e,t,n){var r=this.zeroPadding,i=this.localDateToUTC(e),o=String(i.getFullYear());"utc"==t&&(o=o.substr(2,2));var a=o+r(String(i.getMonth()+1),2)+r(String(i.getDate()),2)+r(String(i.getHours()),2)+r(String(i.getMinutes()),2)+r(String(i.getSeconds()),2);if(!0===n){var s=i.getMilliseconds();if(0!=s){var u=r(String(s),3);a=a+"."+(u=u.replace(/[0]+$/,""))}}return a+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=ve(e)},this.setByDateValue=function(e,t,n,r,i,o){var a=new Date(Date.UTC(e,t-1,n,r,i,o,0));this.setByDate(a)},this.getFreshValueHex=function(){return this.hV}},o.lang.extend(ce.asn1.DERAbstractTime,ce.asn1.ASN1Object),ce.asn1.DERAbstractStructured=function(e){ce.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==e&&void 0!==e.array&&(this.asn1Array=e.array)},o.lang.extend(ce.asn1.DERAbstractStructured,ce.asn1.ASN1Object),ce.asn1.DERBoolean=function(e){ce.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==e?"010100":"0101ff"},o.lang.extend(ce.asn1.DERBoolean,ce.asn1.ASN1Object),ce.asn1.DERInteger=function(e){ce.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ce.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new S(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.bigint?this.setByBigInteger(e.bigint):void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},o.lang.extend(ce.asn1.DERInteger,ce.asn1.ASN1Object),ce.asn1.DERBitString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ce.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}ce.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var n="0"+e;this.hTLV=null,this.isModified=!0,this.hV=n+t},this.setByBinaryString=function(e){var t=8-(e=e.replace(/0+$/,"")).length%8;8==t&&(t=0);for(var n=0;n<=t;n++)e+="0";var r="";for(n=0;n<e.length-1;n+=8){var i=e.substr(n,8),o=parseInt(i,2).toString(16);1==o.length&&(o="0"+o),r+=o}this.hTLV=null,this.isModified=!0,this.hV="0"+t+r},this.setByBooleanArray=function(e){for(var t="",n=0;n<e.length;n++)1==e[n]?t+="1":t+="0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=!1;return t},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):void 0!==e.hex?this.setHexValueIncludingUnusedBits(e.hex):void 0!==e.bin?this.setByBinaryString(e.bin):void 0!==e.array&&this.setByBooleanArray(e.array))},o.lang.extend(ce.asn1.DERBitString,ce.asn1.ASN1Object),ce.asn1.DEROctetString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ce.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}ce.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},o.lang.extend(ce.asn1.DEROctetString,ce.asn1.DERAbstractString),ce.asn1.DERNull=function(){ce.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},o.lang.extend(ce.asn1.DERNull,ce.asn1.ASN1Object),ce.asn1.DERObjectIdentifier=function(e){ce.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){var t=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=parseInt(e,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var o="",a=0;a<i;a++)o+="0";for(r=o+r,a=0;a<r.length-1;a+=7){var s=r.substr(a,7);a!=r.length-7&&(s="1"+s),n+=t(parseInt(s,2))}return n};try{if(!e.match(/^[0-9.]+$/))return null;var r="",i=e.split("."),o=40*parseInt(i[0],10)+parseInt(i[1],10);r+=t(o),i.splice(0,2);for(var a=0;a<i.length;a++)r+=n(i[a]);return r}catch(e){return null}}(e);if(null==t)throw new Error("malformed oid string: "+e);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueName=function(e){var t=ce.asn1.x509.OID.name2oid(e);if(""===t)throw new Error("DERObjectIdentifier oidName undefined: "+e);this.setValueOidString(t)},this.setValueNameOrOid=function(e){e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(e){"string"==typeof e?this.setValueNameOrOid(e):void 0!==e.oid?this.setValueNameOrOid(e.oid):void 0!==e.name?this.setValueNameOrOid(e.name):void 0!==e.hex&&this.setValueHex(e.hex)},void 0!==e&&this.setByParam(e)},o.lang.extend(ce.asn1.DERObjectIdentifier,ce.asn1.ASN1Object),ce.asn1.DEREnumerated=function(e){ce.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ce.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new S(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},o.lang.extend(ce.asn1.DEREnumerated,ce.asn1.ASN1Object),ce.asn1.DERUTF8String=function(e){ce.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},o.lang.extend(ce.asn1.DERUTF8String,ce.asn1.DERAbstractString),ce.asn1.DERNumericString=function(e){ce.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},o.lang.extend(ce.asn1.DERNumericString,ce.asn1.DERAbstractString),ce.asn1.DERPrintableString=function(e){ce.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},o.lang.extend(ce.asn1.DERPrintableString,ce.asn1.DERAbstractString),ce.asn1.DERTeletexString=function(e){ce.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},o.lang.extend(ce.asn1.DERTeletexString,ce.asn1.DERAbstractString),ce.asn1.DERIA5String=function(e){ce.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},o.lang.extend(ce.asn1.DERIA5String,ce.asn1.DERAbstractString),ce.asn1.DERVisibleString=function(e){ce.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="1a"},o.lang.extend(ce.asn1.DERVisibleString,ce.asn1.DERAbstractString),ce.asn1.DERBMPString=function(e){ce.asn1.DERBMPString.superclass.constructor.call(this,e),this.hT="1e"},o.lang.extend(ce.asn1.DERBMPString,ce.asn1.DERAbstractString),ce.asn1.DERUTCTime=function(e){ce.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=ve(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=ve(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date))},o.lang.extend(ce.asn1.DERUTCTime,ce.asn1.DERAbstractTime),ce.asn1.DERGeneralizedTime=function(e){ce.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=ve(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=ve(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date),!0===e.millis&&(this.withMillis=!0))},o.lang.extend(ce.asn1.DERGeneralizedTime,ce.asn1.DERAbstractTime),ce.asn1.DERSequence=function(e){ce.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++)e+=this.asn1Array[t].getEncodedHex();return this.hV=e,this.hV}},o.lang.extend(ce.asn1.DERSequence,ce.asn1.DERAbstractStructured),ce.asn1.DERSet=function(e){ce.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var n=this.asn1Array[t];e.push(n.getEncodedHex())}return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},o.lang.extend(ce.asn1.DERSet,ce.asn1.DERAbstractStructured),ce.asn1.DERTaggedObject=function(e){ce.asn1.DERTaggedObject.superclass.constructor.call(this);var t=ce.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,n){this.hT=t,this.isExplicit=e,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(e){null!=e.tag&&(this.hT=e.tag),null!=e.explicit&&(this.isExplicit=e.explicit),null!=e.tage&&(this.hT=e.tage,this.isExplicit=!0),null!=e.tagi&&(this.hT=e.tagi,this.isExplicit=!1),null!=e.obj&&(e.obj instanceof t.ASN1Object?(this.asn1Object=e.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):"object"==n(e.obj)&&(this.asn1Object=t.ASN1Util.newObject(e.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},null!=e&&this.setByParam(e)},o.lang.extend(ce.asn1.DERTaggedObject,ce.asn1.ASN1Object);var ce,le,fe,de=new function(){};function he(e){for(var t=new Array,n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function pe(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}function ge(e){for(var t="",n=0;n<e.length;n++){var r=e[n].toString(16);1==r.length&&(r="0"+r),t+=r}return t}function ve(e){return ge(he(e))}function ye(e){return(e=(e=e.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function me(e){return e.length%4==2?e+="==":e.length%4==3&&(e+="="),(e=e.replace(/-/g,"+")).replace(/_/g,"/")}function _e(e){return e.length%2==1&&(e="0"+e),ye(b(e))}function be(e){return w(me(e))}function we(e){return Ie(Me(e))}function xe(e){return decodeURIComponent(je(e))}function Se(e){for(var t="",n=0;n<e.length-1;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t}function ke(e){for(var t="",n=0;n<e.length;n++)t+=("0"+e.charCodeAt(n).toString(16)).slice(-2);return t}function Ee(e){return b(e)}function Pe(e){var t=Ee(e).replace(/(.{64})/g,"$1\r\n");return t.replace(/\r\n$/,"")}function Ae(e){return w(e.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Oe(e,t){return"-----BEGIN "+t+"-----\r\n"+Pe(e)+"\r\n-----END "+t+"-----\r\n"}function Ce(e,t){if(-1==e.indexOf("-----BEGIN "))throw"can't find PEM header: "+t;return Ae(e=void 0!==t?(e=e.replace(new RegExp("^[^]*-----BEGIN "+t+"-----"),"")).replace(new RegExp("-----END "+t+"-----[^]*$"),""):(e=e.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Te(e){var t,n,r,i,o,a,s,u,c,l,f;if(f=e.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return u=f[1],t=parseInt(u),2===u.length&&(50<=t&&t<100?t=1900+t:0<=t&&t<50&&(t=2e3+t)),n=parseInt(f[2])-1,r=parseInt(f[3]),i=parseInt(f[4]),o=parseInt(f[5]),a=parseInt(f[6]),s=0,""!==(c=f[7])&&(l=(c.substr(1)+"00").substr(0,3),s=parseInt(l)),Date.UTC(t,n,r,i,o,a,s);throw"unsupported zulu format: "+e}function Le(e){return~~(Te(e)/1e3)}function Ie(e){return e.replace(/%/g,"")}function je(e){return e.replace(/(..)/g,"%$1")}function Fe(e){var t="malformed IPv6 address";if(!e.match(/^[0-9A-Fa-f:]+$/))throw t;var n=(e=e.toLowerCase()).split(":").length-1;if(n<2)throw t;var r=":".repeat(7-n+2),i=(e=e.replace("::",r)).split(":");if(8!=i.length)throw t;for(var o=0;o<8;o++)i[o]=("0000"+i[o]).slice(-4);return i.join("")}function Re(e){if(!e.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var t=(e=e.toLowerCase()).match(/.{1,4}/g),n=0;n<8;n++)t[n]=t[n].replace(/^0+/,""),""==t[n]&&(t[n]="0");var r=(e=":"+t.join(":")+":").match(/:(0:){2,}/g);if(null===r)return e.slice(1,-1);var i="";for(n=0;n<r.length;n++)r[n].length>i.length&&(i=r[n]);return(e=e.replace(i,"::")).slice(1,-1)}function Ne(e){var t="malformed hex value";if(!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw t;if(8!=e.length)return 32==e.length?Re(e):e;try{return parseInt(e.substr(0,2),16)+"."+parseInt(e.substr(2,2),16)+"."+parseInt(e.substr(4,2),16)+"."+parseInt(e.substr(6,2),16)}catch(e){throw t}}function Me(e){for(var t=encodeURIComponent(e),n="",r=0;r<t.length;r++)"%"==t[r]?(n+=t.substr(r,3),r+=2):n=n+"%"+ve(t[r]);return n}function De(e){return!(e.length%2!=0||!e.match(/^[0-9a-f]+$/)&&!e.match(/^[0-9A-F]+$/))}function Ue(e){return e.length%2==1?"0"+e:e.substr(0,1)>"7"?"00"+e:e}de.getLblen=function(e,t){if("8"!=e.substr(t+2,1))return 1;var n=parseInt(e.substr(t+3,1));return 0==n?-1:0<n&&n<10?n+1:-2},de.getL=function(e,t){var n=de.getLblen(e,t);return n<1?"":e.substr(t+2,2*n)},de.getVblen=function(e,t){var n;return""==(n=de.getL(e,t))?-1:("8"===n.substr(0,1)?new S(n.substr(2),16):new S(n,16)).intValue()},de.getVidx=function(e,t){var n=de.getLblen(e,t);return n<0?n:t+2*(n+1)},de.getV=function(e,t){var n=de.getVidx(e,t),r=de.getVblen(e,t);return e.substr(n,2*r)},de.getTLV=function(e,t){return e.substr(t,2)+de.getL(e,t)+de.getV(e,t)},de.getTLVblen=function(e,t){return 2+2*de.getLblen(e,t)+2*de.getVblen(e,t)},de.getNextSiblingIdx=function(e,t){return de.getVidx(e,t)+2*de.getVblen(e,t)},de.getChildIdx=function(e,t){var n,r,i,o=de,a=[];n=o.getVidx(e,t),r=2*o.getVblen(e,t),"03"==e.substr(t,2)&&(n+=2,r-=2),i=0;for(var s=n;i<=r;){var u=o.getTLVblen(e,s);if((i+=u)<=r&&a.push(s),s+=u,i>=r)break}return a},de.getNthChildIdx=function(e,t,n){return de.getChildIdx(e,t)[n]},de.getIdxbyList=function(e,t,n,r){var i,o,a=de;return 0==n.length?void 0!==r&&e.substr(t,2)!==r?-1:t:(i=n.shift())>=(o=a.getChildIdx(e,t)).length?-1:a.getIdxbyList(e,o[i],n,r)},de.getIdxbyListEx=function(e,t,n,r){var i,o,a=de;if(0==n.length)return void 0!==r&&e.substr(t,2)!==r?-1:t;i=n.shift(),o=a.getChildIdx(e,t);for(var s=0,u=0;u<o.length;u++){var c=e.substr(o[u],2);if("number"==typeof i&&!a.isContextTag(c)&&s==i||"string"==typeof i&&a.isContextTag(c,i))return a.getIdxbyListEx(e,o[u],n,r);a.isContextTag(c)||s++}return-1},de.getTLVbyList=function(e,t,n,r){var i=de,o=i.getIdxbyList(e,t,n,r);return-1==o||o>=e.length?null:i.getTLV(e,o)},de.getTLVbyListEx=function(e,t,n,r){var i=de,o=i.getIdxbyListEx(e,t,n,r);return-1==o?null:i.getTLV(e,o)},de.getVbyList=function(e,t,n,r,i){var o,a,s=de;return-1==(o=s.getIdxbyList(e,t,n,r))||o>=e.length?null:(a=s.getV(e,o),!0===i&&(a=a.substr(2)),a)},de.getVbyListEx=function(e,t,n,r,i){var o,a,s=de;return-1==(o=s.getIdxbyListEx(e,t,n,r))?null:(a=s.getV(e,o),"03"==e.substr(o,2)&&!1!==i&&(a=a.substr(2)),a)},de.getInt=function(e,t,n){null==n&&(n=-1);try{var r=e.substr(t,2);if("02"!=r&&"03"!=r)return n;var i=de.getV(e,t);return"02"==r?parseInt(i,16):function(e){try{var t=e.substr(0,2);if("00"==t)return parseInt(e.substr(2),16);var n=parseInt(t,16),r=e.substr(2),i=parseInt(r,16).toString(2);return"0"==i&&(i="00000000"),i=i.slice(0,0-n),parseInt(i,2)}catch(e){return-1}}(i)}catch(e){return n}},de.getOID=function(e,t,n){null==n&&(n=null);try{return"06"!=e.substr(t,2)?n:function(e){if(!De(e))return null;try{var t=[],n=e.substr(0,2),r=parseInt(n,16);t[0]=new String(Math.floor(r/40)),t[1]=new String(r%40);for(var i=e.substr(2),o=[],a=0;a<i.length/2;a++)o.push(parseInt(i.substr(2*a,2),16));var s=[],u="";for(a=0;a<o.length;a++)128&o[a]?u+=Be((127&o[a]).toString(2),7):(u+=Be((127&o[a]).toString(2),7),s.push(new String(parseInt(u,2))),u="");var c=t.join(".");return s.length>0&&(c=c+"."+s.join(".")),c}catch(e){return null}}(de.getV(e,t))}catch(e){return n}},de.getOIDName=function(e,t,n){null==n&&(n=null);try{var r=de.getOID(e,t,n);if(r==n)return n;var i=ce.asn1.x509.OID.oid2name(r);return""==i?r:i}catch(e){return n}},de.getString=function(e,t,n){null==n&&(n=null);try{return Se(de.getV(e,t))}catch(e){return n}},de.hextooidstr=function(e){var t=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},n=[],r=e.substr(0,2),i=parseInt(r,16);n[0]=new String(Math.floor(i/40)),n[1]=new String(i%40);for(var o=e.substr(2),a=[],s=0;s<o.length/2;s++)a.push(parseInt(o.substr(2*s,2),16));var u=[],c="";for(s=0;s<a.length;s++)128&a[s]?c+=t((127&a[s]).toString(2),7):(c+=t((127&a[s]).toString(2),7),u.push(new String(parseInt(c,2))),c="");var l=n.join(".");return u.length>0&&(l=l+"."+u.join(".")),l},de.dump=function(e,t,n,r){var i=de,o=i.getV,a=i.dump,s=i.getChildIdx,u=e;e instanceof ce.asn1.ASN1Object&&(u=e.getEncodedHex());var c=function(e,t){return e.length<=2*t?e:e.substr(0,t)+"..(total "+e.length/2+"bytes).."+e.substr(e.length-t,t)};void 0===t&&(t={ommit_long_octet:32}),void 0===n&&(n=0),void 0===r&&(r="");var l,f=t.ommit_long_octet;if("01"==(l=u.substr(n,2)))return"00"==(d=o(u,n))?r+"BOOLEAN FALSE\n":r+"BOOLEAN TRUE\n";if("02"==l)return r+"INTEGER "+c(d=o(u,n),f)+"\n";if("03"==l){var d=o(u,n);return i.isASN1HEX(d.substr(2))?(w=r+"BITSTRING, encapsulates\n")+a(d.substr(2),t,0,r+"  "):r+"BITSTRING "+c(d,f)+"\n"}if("04"==l)return d=o(u,n),i.isASN1HEX(d)?(w=r+"OCTETSTRING, encapsulates\n")+a(d,t,0,r+"  "):r+"OCTETSTRING "+c(d,f)+"\n";if("05"==l)return r+"NULL\n";if("06"==l){var h=o(u,n),p=ce.asn1.ASN1Util.oidHexToInt(h),g=ce.asn1.x509.OID.oid2name(p),v=p.replace(/\./g," ");return""!=g?r+"ObjectIdentifier "+g+" ("+v+")\n":r+"ObjectIdentifier ("+v+")\n"}if("0a"==l)return r+"ENUMERATED "+parseInt(o(u,n))+"\n";if("0c"==l)return r+"UTF8String '"+xe(o(u,n))+"'\n";if("13"==l)return r+"PrintableString '"+xe(o(u,n))+"'\n";if("14"==l)return r+"TeletexString '"+xe(o(u,n))+"'\n";if("16"==l)return r+"IA5String '"+xe(o(u,n))+"'\n";if("17"==l)return r+"UTCTime "+xe(o(u,n))+"\n";if("18"==l)return r+"GeneralizedTime "+xe(o(u,n))+"\n";if("1a"==l)return r+"VisualString '"+xe(o(u,n))+"'\n";if("1e"==l)return r+"BMPString '"+xe(o(u,n))+"'\n";if("30"==l){if("3000"==u.substr(n,4))return r+"SEQUENCE {}\n";w=r+"SEQUENCE\n";var y=t;if((2==(b=s(u,n)).length||3==b.length)&&"06"==u.substr(b[0],2)&&"04"==u.substr(b[b.length-1],2)){g=i.oidname(o(u,b[0]));var m=JSON.parse(JSON.stringify(t));m.x509ExtName=g,y=m}for(var _=0;_<b.length;_++)w+=a(u,y,b[_],r+"  ");return w}if("31"==l){w=r+"SET\n";var b=s(u,n);for(_=0;_<b.length;_++)w+=a(u,t,b[_],r+"  ");return w}if(0!=(128&(l=parseInt(l,16)))){var w,x=31&l;if(0!=(32&l)){for(w=r+"["+x+"]\n",b=s(u,n),_=0;_<b.length;_++)w+=a(u,t,b[_],r+"  ");return w}return d=o(u,n),de.isASN1HEX(d)?(w=r+"["+x+"]\n")+a(d,t,0,r+"  "):(("68747470"==d.substr(0,8)||"subjectAltName"===t.x509ExtName&&2==x)&&(d=xe(d)),r+"["+x+"] "+d+"\n")}return r+"UNKNOWN("+l+") "+o(u,n)+"\n"},de.isContextTag=function(e,t){var n,r;e=e.toLowerCase();try{n=parseInt(e,16)}catch(e){return-1}if(void 0===t)return 128==(192&n);try{return null!=t.match(/^\[[0-9]+\]$/)&&!((r=parseInt(t.substr(1,t.length-1),10))>31)&&128==(192&n)&&(31&n)==r}catch(e){return!1}},de.isASN1HEX=function(e){var t=de;if(e.length%2==1)return!1;var n=t.getVblen(e,0),r=e.substr(0,2),i=t.getL(e,0);return e.length-r.length-i.length==2*n},de.checkStrictDER=function(e,t,n,r,i){var o=de;if(void 0===n){if("string"!=typeof e)throw new Error("not hex string");if(e=e.toLowerCase(),!ce.lang.String.isHex(e))throw new Error("not hex string");n=e.length,i=(r=e.length/2)<128?1:Math.ceil(r.toString(16))+1}if(o.getL(e,t).length>2*i)throw new Error("L of TLV too long: idx="+t);var a=o.getVblen(e,t);if(a>r)throw new Error("value of L too long than hex: idx="+t);var s=o.getTLV(e,t),u=s.length-2-o.getL(e,t).length;if(u!==2*a)throw new Error("V string length and L's value not the same:"+u+"/"+2*a);if(0===t&&e.length!=s.length)throw new Error("total length and TLV length unmatch:"+e.length+"!="+s.length);var c=e.substr(t,2);if("02"===c){var l=o.getVidx(e,t);if("00"==e.substr(l,2)&&e.charCodeAt(l+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(c,16)){for(var f=o.getVblen(e,t),d=0,h=o.getChildIdx(e,t),p=0;p<h.length;p++)d+=o.getTLV(e,h[p]).length,o.checkStrictDER(e,h[p],n,r,i);if(2*f!=d)throw new Error("sum of children's TLV length and L unmatch: "+2*f+"!="+d)}},de.oidname=function(e){var t=ce.asn1;ce.lang.String.isHex(e)&&(e=t.ASN1Util.oidHexToInt(e));var n=t.x509.OID.oid2name(e);return""===n&&(n=e),n},void 0!==ce&&ce||(t.KJUR=ce={}),void 0!==ce.lang&&ce.lang||(ce.lang={}),ce.lang.String=function(){},"function"==typeof e?(t.utf8tob64u=le=function(t){return ye(e.from(t,"utf8").toString("base64"))},t.b64utoutf8=fe=function(t){return e.from(me(t),"base64").toString("utf8")}):(t.utf8tob64u=le=function(e){return _e(Ie(Me(e)))},t.b64utoutf8=fe=function(e){return decodeURIComponent(je(be(e)))}),ce.lang.String.isInteger=function(e){return!!e.match(/^[0-9]+$/)||!!e.match(/^-[0-9]+$/)},ce.lang.String.isHex=function(e){return De(e)},ce.lang.String.isBase64=function(e){return!(!(e=e.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||e.length%4!=0)},ce.lang.String.isBase64URL=function(e){return!e.match(/[+/=]/)&&(e=me(e),ce.lang.String.isBase64(e))},ce.lang.String.isIntegerArray=function(e){return!!(e=e.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},ce.lang.String.isPrintable=function(e){return null!==e.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},ce.lang.String.isIA5=function(e){return null!==e.match(/^[\x20-\x21\x23-\x7f]*$/)},ce.lang.String.isMail=function(e){return null!==e.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var Be=function(e,t,n){return null==n&&(n="0"),e.length>=t?e:new Array(t-e.length+1).join(n)+e};void 0!==ce&&ce||(t.KJUR=ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:y.algo.MD5,sha1:y.algo.SHA1,sha224:y.algo.SHA224,sha256:y.algo.SHA256,sha384:y.algo.SHA384,sha512:y.algo.SHA512,ripemd160:y.algo.RIPEMD160},this.getDigestInfoHex=function(e,t){if(void 0===this.DIGESTINFOHEAD[t])throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+e},this.getPaddedDigestInfoHex=function(e,t,n){var r=this.getDigestInfoHex(e,t),i=n/4;if(r.length+22>i)throw"key is too short for SigAlg: keylen="+n+","+t;for(var o="0001",a="00"+r,s="",u=i-o.length-a.length,c=0;c<u;c+=2)s+="ff";return o+s+a},this.hashString=function(e,t){return new ce.crypto.MessageDigest({alg:t}).digestString(e)},this.hashHex=function(e,t){return new ce.crypto.MessageDigest({alg:t}).digestHex(e)},this.sha1=function(e){return this.hashString(e,"sha1")},this.sha256=function(e){return this.hashString(e,"sha256")},this.sha256Hex=function(e){return this.hashHex(e,"sha256")},this.sha512=function(e){return this.hashString(e,"sha512")},this.sha512Hex=function(e){return this.hashHex(e,"sha512")},this.isKey=function(e){return e instanceof ie||e instanceof ce.crypto.DSA||e instanceof ce.crypto.ECDSA}},ce.crypto.Util.md5=function(e){return new ce.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(e)},ce.crypto.Util.ripemd160=function(e){return new ce.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(e)},ce.crypto.Util.SECURERANDOMGEN=new te,ce.crypto.Util.getRandomHexOfNbytes=function(e){var t=new Array(e);return ce.crypto.Util.SECURERANDOMGEN.nextBytes(t),ge(t)},ce.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new S(ce.crypto.Util.getRandomHexOfNbytes(e),16)},ce.crypto.Util.getRandomHexOfNbits=function(e){var t=e%8,n=new Array((e-t)/8+1);return ce.crypto.Util.SECURERANDOMGEN.nextBytes(n),n[0]=(255<<t&255^255)&n[0],ge(n)},ce.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new S(ce.crypto.Util.getRandomHexOfNbits(e),16)},ce.crypto.Util.getRandomBigIntegerZeroToMax=function(e){for(var t=e.bitLength();;){var n=ce.crypto.Util.getRandomBigIntegerOfNbits(t);if(-1!=e.compareTo(n))return n}},ce.crypto.Util.getRandomBigIntegerMinToMax=function(e,t){var n=e.compareTo(t);if(1==n)throw"biMin is greater than biMax";if(0==n)return e;var r=t.subtract(e);return ce.crypto.Util.getRandomBigIntegerZeroToMax(r).add(e)},ce.crypto.MessageDigest=function(e){this.setAlgAndProvider=function(e,t){if(null!==(e=ce.crypto.MessageDigest.getCanonicalAlgName(e))&&void 0===t&&(t=ce.crypto.Util.DEFAULTPROVIDER[e]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)&&"cryptojs"==t){try{this.md=ce.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[e].create()}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=y.enc.Hex.parse(e);this.md.update(t)},this.digest=function(){return this.md.finalize().toString(y.enc.Hex)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}if(-1!=":sha256:".indexOf(e)&&"sjcl"==t){try{this.md=new sjcl.hash.sha256}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=sjcl.codec.hex.toBits(e);this.md.update(t)},this.digest=function(){var e=this.md.finalize();return sjcl.codec.hex.fromBits(e)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==e&&void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},ce.crypto.MessageDigest.getCanonicalAlgName=function(e){return"string"==typeof e&&(e=(e=e.toLowerCase()).replace(/-/,"")),e},ce.crypto.MessageDigest.getHashLength=function(e){var t=ce.crypto.MessageDigest,n=t.getCanonicalAlgName(e);if(void 0===t.HASHLENGTH[n])throw"not supported algorithm: "+e;return t.HASHLENGTH[n]},ce.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},ce.crypto.Mac=function(e){this.setAlgAndProvider=function(e,t){if(null==(e=e.toLowerCase())&&(e="hmacsha1"),"hmac"!=(e=e.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+e;void 0===t&&(t=ce.crypto.Util.DEFAULTPROVIDER[e]),this.algProv=e+"/"+t;var n=e.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(n)&&"cryptojs"==t){try{var r=ce.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[n];this.mac=y.algo.HMAC.create(r,this.pass)}catch(e){throw"setAlgAndProvider hash alg set fail hashAlg="+n+"/"+e}this.updateString=function(e){this.mac.update(e)},this.updateHex=function(e){var t=y.enc.Hex.parse(e);this.mac.update(t)},this.doFinal=function(){return this.mac.finalize().toString(y.enc.Hex)},this.doFinalString=function(e){return this.updateString(e),this.doFinal()},this.doFinalHex=function(e){return this.updateHex(e),this.doFinal()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(e){if("string"==typeof e){var t=e;return e.length%2!=1&&e.match(/^[0-9A-Fa-f]+$/)||(t=ke(e)),void(this.pass=y.enc.Hex.parse(t))}if("object"!=(void 0===e?"undefined":n(e)))throw"KJUR.crypto.Mac unsupported password type: "+e;if(t=null,void 0!==e.hex){if(e.hex.length%2!=0||!e.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+e.hex;t=e.hex}if(void 0!==e.utf8&&(t=we(e.utf8)),void 0!==e.rstr&&(t=ke(e.rstr)),void 0!==e.b64&&(t=w(e.b64)),void 0!==e.b64u&&(t=be(e.b64u)),null==t)throw"KJUR.crypto.Mac unsupported password type: "+e;this.pass=y.enc.Hex.parse(t)},void 0!==e&&(void 0!==e.pass&&this.setPassword(e.pass),void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},ce.crypto.Signature=function(e){var t=null;if(this._setAlgNames=function(){var e=this.algName.match(/^(.+)with(.+)$/);e&&(this.mdAlgName=e[1].toLowerCase(),this.pubkeyAlgName=e[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(e,t){for(var n="",r=t/4-e.length,i=0;i<r;i++)n+="0";return n+e},this.setAlgAndProvider=function(e,t){if(this._setAlgNames(),"cryptojs/jsrsa"!=t)throw new Error("provider not supported: "+t);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new ce.crypto.MessageDigest({alg:this.mdAlgName})}catch(e){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+e)}this.init=function(e,t){var n=null;try{n=void 0===t?He.getKey(e):He.getKey(e,t)}catch(e){throw"init failed:"+e}if(!0===n.isPrivate)this.prvKey=n,this.state="SIGN";else{if(!0!==n.isPublic)throw"init failed.:"+n;this.pubKey=n,this.state="VERIFY"}},this.updateString=function(e){this.md.updateString(e)},this.updateHex=function(e){this.md.updateHex(e)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==ce.crypto.ECDSA&&(this.prvKey=new ce.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof ie&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof ie&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof ce.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof ce.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(e){return this.updateString(e),this.sign()},this.signHex=function(e){return this.updateHex(e),this.sign()},this.verify=function(e){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==ce.crypto.ECDSA&&(this.pubKey=new ce.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof ie&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,e,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof ie&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==ce.crypto.ECDSA&&this.pubKey instanceof ce.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==ce.crypto.DSA&&this.pubKey instanceof ce.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(e,t){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(e){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(e){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(e){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(e){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,void 0!==e&&(void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov?this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==e.psssaltlen&&(this.pssSaltLen=e.psssaltlen),void 0!==e.prvkeypem)){if(void 0!==e.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{t=He.getKey(e.prvkeypem),this.init(t)}catch(e){throw"fatal error to load pem private key: "+e}}},ce.crypto.Cipher=function(e){},ce.crypto.Cipher.encrypt=function(e,t,n){if(t instanceof ie&&t.isPublic){var r=ce.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===r)return t.encrypt(e);if("RSAOAEP"===r)return t.encryptOAEP(e,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.encryptOAEP(e,"sha"+i[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.encrypt: unsupported key or algorithm"},ce.crypto.Cipher.decrypt=function(e,t,n){if(t instanceof ie&&t.isPrivate){var r=ce.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===r)return t.decrypt(e);if("RSAOAEP"===r)return t.decryptOAEP(e,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.decryptOAEP(e,"sha"+i[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.decrypt: unsupported key or algorithm"},ce.crypto.Cipher.getAlgByKeyAndName=function(e,t){if(e instanceof ie){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(t))return t;if(null==t)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+t}throw"getAlgByKeyAndName: not supported algorithm name: "+t},ce.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==ce&&ce||(t.KJUR=ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.ECDSA=function(e){var t=Error,r=S,i=ae,o=ce.crypto.ECDSA,a=ce.crypto.ECParameterDB,s=o.getName,u=de,c=u.getVbyListEx,l=u.isASN1HEX,f=new te;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(e){return new r(e.bitLength(),f).mod(e.subtract(r.ONE)).add(r.ONE)},this.setNamedCurve=function(e){this.ecparams=a.getByName(e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=e},this.setPrivateKeyHex=function(e){this.isPrivate=!0,this.prvKeyHex=e},this.setPublicKeyHex=function(e){this.isPublic=!0,this.pubKeyHex=e},this.getPublicKeyXYHex=function(){var e=this.pubKeyHex;if("04"!==e.substr(0,2))throw"this method supports uncompressed format(04) only";var t=this.ecparams.keylen/4;if(e.length!==2+2*t)throw"malformed public key hex length";var n={};return n.x=e.substr(2,t),n.y=e.substr(2+t),n},this.getShortNISTPCurveName=function(){var e=this.curveName;return"secp256r1"===e||"NIST P-256"===e||"P-256"===e||"prime256v1"===e?"P-256":"secp384r1"===e||"NIST P-384"===e||"P-384"===e?"P-384":null},this.generateKeyPairHex=function(){var e=this.ecparams.n,t=this.getBigRandom(e),n=this.ecparams.G.multiply(t),r=n.getX().toBigInteger(),i=n.getY().toBigInteger(),o=this.ecparams.keylen/4,a=("0000000000"+t.toString(16)).slice(-o),s="04"+("0000000000"+r.toString(16)).slice(-o)+("0000000000"+i.toString(16)).slice(-o);return this.setPrivateKeyHex(a),this.setPublicKeyHex(s),{ecprvhex:a,ecpubhex:s}},this.signWithMessageHash=function(e){return this.signHex(e,this.prvKeyHex)},this.signHex=function(e,t){var n=new r(t,16),i=this.ecparams.n,a=new r(e.substring(0,this.ecparams.keylen/4),16);do{var s=this.getBigRandom(i),u=this.ecparams.G.multiply(s).getX().toBigInteger().mod(i)}while(u.compareTo(r.ZERO)<=0);var c=s.modInverse(i).multiply(a.add(n.multiply(u))).mod(i);return o.biRSSigToASN1Sig(u,c)},this.sign=function(e,t){var n=t,i=this.ecparams.n,o=r.fromByteArrayUnsigned(e);do{var a=this.getBigRandom(i),s=this.ecparams.G.multiply(a).getX().toBigInteger().mod(i)}while(s.compareTo(S.ZERO)<=0);var u=a.modInverse(i).multiply(o.add(n.multiply(s))).mod(i);return this.serializeSig(s,u)},this.verifyWithMessageHash=function(e,t){return this.verifyHex(e,t,this.pubKeyHex)},this.verifyHex=function(e,t,n){try{var a,s,u=o.parseSigHex(t);a=u.r,s=u.s;var c=i.decodeFromHex(this.ecparams.curve,n),l=new r(e.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(l,a,s,c)}catch(e){return!1}},this.verify=function(e,t,o){var a,s,u;if(Bitcoin.Util.isArray(t)){var c=this.parseSig(t);a=c.r,s=c.s}else{if("object"!==(void 0===t?"undefined":n(t))||!t.r||!t.s)throw"Invalid value for signature";a=t.r,s=t.s}if(o instanceof ae)u=o;else{if(!Bitcoin.Util.isArray(o))throw"Invalid format for pubkey value, must be byte array or ECPointFp";u=i.decodeFrom(this.ecparams.curve,o)}var l=r.fromByteArrayUnsigned(e);return this.verifyRaw(l,a,s,u)},this.verifyRaw=function(e,t,n,i){var o=this.ecparams.n,a=this.ecparams.G;if(t.compareTo(r.ONE)<0||t.compareTo(o)>=0)return!1;if(n.compareTo(r.ONE)<0||n.compareTo(o)>=0)return!1;var s=n.modInverse(o),u=e.multiply(s).mod(o),c=t.multiply(s).mod(o);return a.multiply(u).add(i.multiply(c)).getX().toBigInteger().mod(o).equals(t)},this.serializeSig=function(e,t){var n=e.toByteArraySigned(),r=t.toByteArraySigned(),i=[];return i.push(2),i.push(n.length),(i=i.concat(n)).push(2),i.push(r.length),(i=i.concat(r)).unshift(i.length),i.unshift(48),i},this.parseSig=function(e){var t;if(48!=e[0])throw new Error("Signature not a valid DERSequence");if(2!=e[t=2])throw new Error("First element in signature must be a DERInteger");var n=e.slice(t+2,t+2+e[t+1]);if(2!=e[t+=2+e[t+1]])throw new Error("Second element in signature must be a DERInteger");var i=e.slice(t+2,t+2+e[t+1]);return t+=2+e[t+1],{r:r.fromByteArrayUnsigned(n),s:r.fromByteArrayUnsigned(i)}},this.parseSigCompact=function(e){if(65!==e.length)throw"Signature has the wrong length";var t=e[0]-27;if(t<0||t>7)throw"Invalid signature type";var n=this.ecparams.n;return{r:r.fromByteArrayUnsigned(e.slice(1,33)).mod(n),s:r.fromByteArrayUnsigned(e.slice(33,65)).mod(n),i:t}},this.readPKCS5PrvKeyHex=function(e){if(!1===l(e))throw new Error("not ASN.1 hex string");var t,n,r;try{t=c(e,0,["[0]",0],"06"),n=c(e,0,[1],"04");try{r=c(e,0,["[1]",0],"03")}catch(e){}}catch(e){throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=s(t),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(r),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(e){if(!1===l(e))throw new t("not ASN.1 hex string");var n,r,i;try{c(e,0,[1,0],"06"),n=c(e,0,[1,1],"06"),r=c(e,0,[2,0,1],"04");try{i=c(e,0,[2,0,"[1]",0],"03")}catch(e){}}catch(e){throw new t("malformed PKCS#8 plain ECC private key")}if(this.curveName=s(n),void 0===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PubKeyHex=function(e){if(!1===l(e))throw new t("not ASN.1 hex string");var n,r;try{c(e,0,[0,0],"06"),n=c(e,0,[0,1],"06"),r=c(e,0,[1],"03")}catch(e){throw new t("malformed PKCS#8 ECC public key")}if(this.curveName=s(n),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(r)},this.readCertPubKeyHex=function(e,n){if(!1===l(e))throw new t("not ASN.1 hex string");var r,i;try{r=c(e,0,[0,5,0,1],"06"),i=c(e,0,[0,5,1],"03")}catch(e){throw new t("malformed X.509 certificate ECC public key")}if(this.curveName=s(r),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i)},void 0!==e&&void 0!==e.curve&&(this.curveName=e.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==e&&(void 0!==e.prv&&this.setPrivateKeyHex(e.prv),void 0!==e.pub&&this.setPublicKeyHex(e.pub))},ce.crypto.ECDSA.parseSigHex=function(e){var t=ce.crypto.ECDSA.parseSigHexInHexRS(e);return{r:new S(t.r,16),s:new S(t.s,16)}},ce.crypto.ECDSA.parseSigHexInHexRS=function(e){var t=de,n=t.getChildIdx,r=t.getV;if(t.checkStrictDER(e,0),"30"!=e.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var i=n(e,0);if(2!=i.length)throw new Error("signature shall have two elements");var o=i[0],a=i[1];if("02"!=e.substr(o,2))throw new Error("1st item not ASN.1 integer");if("02"!=e.substr(a,2))throw new Error("2nd item not ASN.1 integer");return{r:r(e,o),s:r(e,a)}},ce.crypto.ECDSA.asn1SigToConcatSig=function(e){var t=ce.crypto.ECDSA.parseSigHexInHexRS(e),n=t.r,r=t.s;if("00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),"00"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),n.length%32==30&&(n="00"+n),r.length%32==30&&(r="00"+r),n.length%32!=0)throw"unknown ECDSA sig r length error";if(r.length%32!=0)throw"unknown ECDSA sig s length error";return n+r},ce.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var t=e.substr(0,e.length/2),n=e.substr(e.length/2);return ce.crypto.ECDSA.hexRSSigToASN1Sig(t,n)},ce.crypto.ECDSA.hexRSSigToASN1Sig=function(e,t){var n=new S(e,16),r=new S(t,16);return ce.crypto.ECDSA.biRSSigToASN1Sig(n,r)},ce.crypto.ECDSA.biRSSigToASN1Sig=function(e,t){var n=ce.asn1,r=new n.DERInteger({bigint:e}),i=new n.DERInteger({bigint:t});return new n.DERSequence({array:[r,i]}).getEncodedHex()},ce.crypto.ECDSA.getName=function(e){return"2b8104001f"===e?"secp192k1":"2a8648ce3d030107"===e?"secp256r1":"2b8104000a"===e?"secp256k1":"2b81040021"===e?"secp224r1":"2b81040022"===e?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)?"secp256r1":-1!=="|secp256k1|".indexOf(e)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(e)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(e)?"secp384r1":null},void 0!==ce&&ce||(t.KJUR=ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.ECParameterDB=new function(){var e={},t={};function n(e){return new S(e,16)}this.getByName=function(n){var r=n;if(void 0!==t[r]&&(r=t[n]),void 0!==e[r])return e[r];throw"unregistered EC curve name: "+r},this.regist=function(r,i,o,a,s,u,c,l,f,d,h,p){e[r]={};var g=n(o),v=n(a),y=n(s),m=n(u),_=n(c),b=new se(g,v,y),w=b.decodePointHex("04"+l+f);e[r].name=r,e[r].keylen=i,e[r].curve=b,e[r].G=w,e[r].n=m,e[r].h=_,e[r].oid=h,e[r].info=p;for(var x=0;x<d.length;x++)t[d[x]]=r}},ce.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),ce.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),ce.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),ce.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),ce.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),ce.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),ce.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),ce.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),ce.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),ce.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var He=function(){var e=function(e,n,r){return t(y.AES,e,n,r)},t=function(e,t,n,r){var i=y.enc.Hex.parse(t),o=y.enc.Hex.parse(n),a=y.enc.Hex.parse(r),s={};s.key=o,s.iv=a,s.ciphertext=i;var u=e.decrypt(s,o,{iv:a});return y.enc.Hex.stringify(u)},n=function(e,t,n){return r(y.AES,e,t,n)},r=function(e,t,n,r){var i=y.enc.Hex.parse(t),o=y.enc.Hex.parse(n),a=y.enc.Hex.parse(r),s=e.encrypt(i,o,{iv:a}),u=y.enc.Hex.parse(s.toString());return y.enc.Base64.stringify(u)},i={"AES-256-CBC":{proc:e,eproc:n,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:n,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:n,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(e,n,r){return t(y.TripleDES,e,n,r)},eproc:function(e,t,n){return r(y.TripleDES,e,t,n)},keylen:24,ivlen:8},"DES-CBC":{proc:function(e,n,r){return t(y.DES,e,n,r)},eproc:function(e,t,n){return r(y.DES,e,t,n)},keylen:8,ivlen:8}},o=function(e){var t={},n=e.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));n&&(t.cipher=n[1],t.ivsalt=n[2]);var r=e.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));r&&(t.type=r[1]);var i=-1,o=0;-1!=e.indexOf("\r\n\r\n")&&(i=e.indexOf("\r\n\r\n"),o=2),-1!=e.indexOf("\n\n")&&(i=e.indexOf("\n\n"),o=1);var a=e.indexOf("-----END");if(-1!=i&&-1!=a){var s=e.substring(i+2*o,a-o);s=s.replace(/\s+/g,""),t.data=s}return t},a=function(e,t,n){for(var r=n.substring(0,16),o=y.enc.Hex.parse(r),a=y.enc.Utf8.parse(t),s=i[e].keylen+i[e].ivlen,u="",c=null;;){var l=y.algo.MD5.create();if(null!=c&&l.update(c),l.update(a),l.update(o),c=l.finalize(),(u+=y.enc.Hex.stringify(c)).length>=2*s)break}var f={};return f.keyhex=u.substr(0,2*i[e].keylen),f.ivhex=u.substr(2*i[e].keylen,2*i[e].ivlen),f},s=function(e,t,n,r){var o=y.enc.Base64.parse(e),a=y.enc.Hex.stringify(o);return(0,i[t].proc)(a,n,r)};return{version:"1.0.0",parsePKCS5PEM:function(e){return o(e)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(e,t,n){return a(e,t,n)},decryptKeyB64:function(e,t,n,r){return s(e,t,n,r)},getDecryptedKeyHex:function(e,t){var n=o(e),r=(n.type,n.cipher),i=n.ivsalt,u=n.data,c=a(r,t,i).keyhex;return s(u,r,c,i)},getEncryptedPKCS5PEMFromPrvKeyHex:function(e,t,n,r,o){var s="";if(void 0!==r&&null!=r||(r="AES-256-CBC"),void 0===i[r])throw"KEYUTIL unsupported algorithm: "+r;void 0!==o&&null!=o||(o=function(e){var t=y.lib.WordArray.random(e);return y.enc.Hex.stringify(t)}(i[r].ivlen).toUpperCase());var u=function(e,t,n,r){return(0,i[t].eproc)(e,n,r)}(t,r,a(r,n,o).keyhex,o);return s="-----BEGIN "+e+" PRIVATE KEY-----\r\n",s+="Proc-Type: 4,ENCRYPTED\r\n",s+="DEK-Info: "+r+","+o+"\r\n",s+="\r\n",(s+=u.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+e+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(t){var n=de,r=n.getChildIdx,i=n.getV,o={},a=r(t,0);if(2!=a.length)throw"malformed format: SEQUENCE(0).items != 2: "+a.length;o.ciphertext=i(t,a[1]);var s=r(t,a[0]);if(2!=s.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+s.length;if("2a864886f70d01050d"!=i(t,s[0]))throw"this only supports pkcs5PBES2";var u=r(t,s[1]);if(2!=s.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+u.length;var c=r(t,u[1]);if(2!=c.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+c.length;if("2a864886f70d0307"!=i(t,c[0]))throw"this only supports TripleDES";o.encryptionSchemeAlg="TripleDES",o.encryptionSchemeIV=i(t,c[1]);var l=r(t,u[0]);if(2!=l.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+l.length;if("2a864886f70d01050c"!=i(t,l[0]))throw"this only supports pkcs5PBKDF2";var f=r(t,l[1]);if(f.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+f.length;o.pbkdf2Salt=i(t,f[0]);var d=i(t,f[1]);try{o.pbkdf2Iter=parseInt(d,16)}catch(e){throw"malformed format pbkdf2Iter: "+d}return o},getPBKDF2KeyHexFromParam:function(e,t){var n=y.enc.Hex.parse(e.pbkdf2Salt),r=e.pbkdf2Iter,i=y.PBKDF2(t,n,{keySize:6,iterations:r});return y.enc.Hex.stringify(i)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(e,t){var n=Ce(e,"ENCRYPTED PRIVATE KEY"),r=this.parseHexOfEncryptedPKCS8(n),i=He.getPBKDF2KeyHexFromParam(r,t),o={};o.ciphertext=y.enc.Hex.parse(r.ciphertext);var a=y.enc.Hex.parse(i),s=y.enc.Hex.parse(r.encryptionSchemeIV),u=y.TripleDES.decrypt(o,a,{iv:s});return y.enc.Hex.stringify(u)},getKeyFromEncryptedPKCS8PEM:function(e,t){var n=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(e,t);return this.getKeyFromPlainPrivatePKCS8Hex(n)},parsePlainPrivatePKCS8Hex:function(e){var t=de,n=t.getChildIdx,r=t.getV,i={algparam:null};if("30"!=e.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var o=n(e,0);if(3!=o.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=e.substr(o[1],2))throw"malformed PKCS8 private key(code:003)";var a=n(e,o[1]);if(2!=a.length)throw"malformed PKCS8 private key(code:004)";if("06"!=e.substr(a[0],2))throw"malformed PKCS8 private key(code:005)";if(i.algoid=r(e,a[0]),"06"==e.substr(a[1],2)&&(i.algparam=r(e,a[1])),"04"!=e.substr(o[2],2))throw"malformed PKCS8 private key(code:006)";return i.keyidx=t.getVidx(e,o[2]),i},getKeyFromPlainPrivatePKCS8PEM:function(e){var t=Ce(e,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(t)},getKeyFromPlainPrivatePKCS8Hex:function(e){var t,n=this.parsePlainPrivatePKCS8Hex(e);if("2a864886f70d010101"==n.algoid)t=new ie;else if("2a8648ce380401"==n.algoid)t=new ce.crypto.DSA;else{if("2a8648ce3d0201"!=n.algoid)throw"unsupported private key algorithm";t=new ce.crypto.ECDSA}return t.readPKCS8PrvKeyHex(e),t},_getKeyFromPublicPKCS8Hex:function(e){var t,n=de.getVbyList(e,0,[0,0],"06");if("2a864886f70d010101"===n)t=new ie;else if("2a8648ce380401"===n)t=new ce.crypto.DSA;else{if("2a8648ce3d0201"!==n)throw"unsupported PKCS#8 public key hex";t=new ce.crypto.ECDSA}return t.readPKCS8PubKeyHex(e),t},parsePublicRawRSAKeyHex:function(e){var t=de,n=t.getChildIdx,r=t.getV,i={};if("30"!=e.substr(0,2))throw"malformed RSA key(code:001)";var o=n(e,0);if(2!=o.length)throw"malformed RSA key(code:002)";if("02"!=e.substr(o[0],2))throw"malformed RSA key(code:003)";if(i.n=r(e,o[0]),"02"!=e.substr(o[1],2))throw"malformed RSA key(code:004)";return i.e=r(e,o[1]),i},parsePublicPKCS8Hex:function(e){var t=de,n=t.getChildIdx,r=t.getV,i={algparam:null},o=n(e,0);if(2!=o.length)throw"outer DERSequence shall have 2 elements: "+o.length;var a=o[0];if("30"!=e.substr(a,2))throw"malformed PKCS8 public key(code:001)";var s=n(e,a);if(2!=s.length)throw"malformed PKCS8 public key(code:002)";if("06"!=e.substr(s[0],2))throw"malformed PKCS8 public key(code:003)";if(i.algoid=r(e,s[0]),"06"==e.substr(s[1],2)?i.algparam=r(e,s[1]):"30"==e.substr(s[1],2)&&(i.algparam={},i.algparam.p=t.getVbyList(e,s[1],[0],"02"),i.algparam.q=t.getVbyList(e,s[1],[1],"02"),i.algparam.g=t.getVbyList(e,s[1],[2],"02")),"03"!=e.substr(o[1],2))throw"malformed PKCS8 public key(code:004)";return i.key=r(e,o[1]).substr(2),i}}}();He.getKey=function(e,t,n){var r,i=(y=de).getChildIdx,o=(y.getV,y.getVbyList),a=ce.crypto,s=a.ECDSA,u=a.DSA,c=ie,l=Ce,f=He;if(void 0!==c&&e instanceof c)return e;if(void 0!==s&&e instanceof s)return e;if(void 0!==u&&e instanceof u)return e;if(void 0!==e.curve&&void 0!==e.xy&&void 0===e.d)return new s({pub:e.xy,curve:e.curve});if(void 0!==e.curve&&void 0!==e.d)return new s({prv:e.d,curve:e.curve});if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(C=new c).setPublic(e.n,e.e),C;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.co&&void 0===e.qi)return(C=new c).setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co),C;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0===e.p)return(C=new c).setPrivate(e.n,e.e,e.d),C;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0===e.x)return(C=new u).setPublic(e.p,e.q,e.g,e.y),C;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0!==e.x)return(C=new u).setPrivate(e.p,e.q,e.g,e.y,e.x),C;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(C=new c).setPublic(be(e.n),be(e.e)),C;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.qi)return(C=new c).setPrivateEx(be(e.n),be(e.e),be(e.d),be(e.p),be(e.q),be(e.dp),be(e.dq),be(e.qi)),C;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d)return(C=new c).setPrivate(be(e.n),be(e.e),be(e.d)),C;if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0===e.d){var d=(O=new s({curve:e.crv})).ecparams.keylen/4,h="04"+("0000000000"+be(e.x)).slice(-d)+("0000000000"+be(e.y)).slice(-d);return O.setPublicKeyHex(h),O}if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0!==e.d){d=(O=new s({curve:e.crv})).ecparams.keylen/4,h="04"+("0000000000"+be(e.x)).slice(-d)+("0000000000"+be(e.y)).slice(-d);var p=("0000000000"+be(e.d)).slice(-d);return O.setPublicKeyHex(h),O.setPrivateKeyHex(p),O}if("pkcs5prv"===n){var g,v=e,y=de;if(9===(g=i(v,0)).length)(C=new c).readPKCS5PrvKeyHex(v);else if(6===g.length)(C=new u).readPKCS5PrvKeyHex(v);else{if(!(g.length>2&&"04"===v.substr(g[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";(C=new s).readPKCS5PrvKeyHex(v)}return C}if("pkcs8prv"===n)return f.getKeyFromPlainPrivatePKCS8Hex(e);if("pkcs8pub"===n)return f._getKeyFromPublicPKCS8Hex(e);if("x509pub"===n)return qe.getPublicKeyFromCertHex(e);if(-1!=e.indexOf("-END CERTIFICATE-",0)||-1!=e.indexOf("-END X509 CERTIFICATE-",0)||-1!=e.indexOf("-END TRUSTED CERTIFICATE-",0))return qe.getPublicKeyFromCertPEM(e);if(-1!=e.indexOf("-END PUBLIC KEY-")){var m=Ce(e,"PUBLIC KEY");return f._getKeyFromPublicPKCS8Hex(m)}if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var _=l(e,"RSA PRIVATE KEY");return f.getKey(_,null,"pkcs5prv")}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var b=o(r=l(e,"DSA PRIVATE KEY"),0,[1],"02"),w=o(r,0,[2],"02"),x=o(r,0,[3],"02"),k=o(r,0,[4],"02"),E=o(r,0,[5],"02");return(C=new u).setPrivate(new S(b,16),new S(w,16),new S(x,16),new S(k,16),new S(E,16)),C}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED"))return _=l(e,"EC PRIVATE KEY"),f.getKey(_,null,"pkcs5prv");if(-1!=e.indexOf("-END PRIVATE KEY-"))return f.getKeyFromPlainPrivatePKCS8PEM(e);if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var P=f.getDecryptedKeyHex(e,t),A=new ie;return A.readPKCS5PrvKeyHex(P),A}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var O,C=o(r=f.getDecryptedKeyHex(e,t),0,[1],"04"),T=o(r,0,[2,0],"06"),L=o(r,0,[3,0],"03").substr(2);if(void 0===ce.crypto.OID.oidhex2name[T])throw"undefined OID(hex) in KJUR.crypto.OID: "+T;return(O=new s({curve:ce.crypto.OID.oidhex2name[T]})).setPublicKeyHex(L),O.setPrivateKeyHex(C),O.isPublic=!1,O}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED"))return b=o(r=f.getDecryptedKeyHex(e,t),0,[1],"02"),w=o(r,0,[2],"02"),x=o(r,0,[3],"02"),k=o(r,0,[4],"02"),E=o(r,0,[5],"02"),(C=new u).setPrivate(new S(b,16),new S(w,16),new S(x,16),new S(k,16),new S(E,16)),C;if(-1!=e.indexOf("-END ENCRYPTED PRIVATE KEY-"))return f.getKeyFromEncryptedPKCS8PEM(e,t);throw new Error("not supported argument")},He.generateKeypair=function(e,t){if("RSA"==e){var n=t;(a=new ie).generate(n,"10001"),a.isPrivate=!0,a.isPublic=!0;var r=new ie,i=a.n.toString(16),o=a.e.toString(16);return r.setPublic(i,o),r.isPrivate=!1,r.isPublic=!0,(s={}).prvKeyObj=a,s.pubKeyObj=r,s}if("EC"==e){var a,s,u=t,c=new ce.crypto.ECDSA({curve:u}).generateKeyPairHex();return(a=new ce.crypto.ECDSA({curve:u})).setPublicKeyHex(c.ecpubhex),a.setPrivateKeyHex(c.ecprvhex),a.isPrivate=!0,a.isPublic=!1,(r=new ce.crypto.ECDSA({curve:u})).setPublicKeyHex(c.ecpubhex),r.isPrivate=!1,r.isPublic=!0,(s={}).prvKeyObj=a,s.pubKeyObj=r,s}throw"unknown algorithm: "+e},He.getPEM=function(e,t,n,r,i,o){var a=ce,s=a.asn1,u=s.DERObjectIdentifier,c=s.DERInteger,l=s.ASN1Util.newObject,f=s.x509.SubjectPublicKeyInfo,d=a.crypto,h=d.DSA,p=d.ECDSA,g=ie;function v(e){return l({seq:[{int:0},{int:{bigint:e.n}},{int:e.e},{int:{bigint:e.d}},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.dmp1}},{int:{bigint:e.dmq1}},{int:{bigint:e.coeff}}]})}function m(e){return l({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a0",!0,{oid:{name:e.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]})}function _(e){return l({seq:[{int:0},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}},{int:{bigint:e.y}},{int:{bigint:e.x}}]})}if((void 0!==g&&e instanceof g||void 0!==h&&e instanceof h||void 0!==p&&e instanceof p)&&1==e.isPublic&&(void 0===t||"PKCS8PUB"==t))return Oe(S=new f(e).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==t&&void 0!==g&&e instanceof g&&(void 0===n||null==n)&&1==e.isPrivate)return Oe(S=v(e).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==t&&void 0!==p&&e instanceof p&&(void 0===n||null==n)&&1==e.isPrivate){var b=new u({name:e.curveName}).getEncodedHex(),w=m(e).getEncodedHex(),x="";return(x+=Oe(b,"EC PARAMETERS"))+Oe(w,"EC PRIVATE KEY")}if("PKCS1PRV"==t&&void 0!==h&&e instanceof h&&(void 0===n||null==n)&&1==e.isPrivate)return Oe(S=_(e).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==t&&void 0!==g&&e instanceof g&&void 0!==n&&null!=n&&1==e.isPrivate){var S=v(e).getEncodedHex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",S,n,r,o)}if("PKCS5PRV"==t&&void 0!==p&&e instanceof p&&void 0!==n&&null!=n&&1==e.isPrivate)return S=m(e).getEncodedHex(),void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",S,n,r,o);if("PKCS5PRV"==t&&void 0!==h&&e instanceof h&&void 0!==n&&null!=n&&1==e.isPrivate)return S=_(e).getEncodedHex(),void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",S,n,r,o);var k=function(e,t){var n=E(e,t);return new l({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:n.pbkdf2Salt}},{int:n.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:n.encryptionSchemeIV}}]}]}]},{octstr:{hex:n.ciphertext}}]}).getEncodedHex()},E=function(e,t){var n=y.lib.WordArray.random(8),r=y.lib.WordArray.random(8),i=y.PBKDF2(t,n,{keySize:6,iterations:100}),o=y.enc.Hex.parse(e),a=y.TripleDES.encrypt(o,i,{iv:r})+"",s={};return s.ciphertext=a,s.pbkdf2Salt=y.enc.Hex.stringify(n),s.pbkdf2Iter=100,s.encryptionSchemeAlg="DES-EDE3-CBC",s.encryptionSchemeIV=y.enc.Hex.stringify(r),s};if("PKCS8PRV"==t&&null!=g&&e instanceof g&&1==e.isPrivate){var P=v(e).getEncodedHex();return S=l({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:P}}]}).getEncodedHex(),void 0===n||null==n?Oe(S,"PRIVATE KEY"):Oe(w=k(S,n),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==p&&e instanceof p&&1==e.isPrivate)return P=new l({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]}).getEncodedHex(),S=l({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:P}}]}).getEncodedHex(),void 0===n||null==n?Oe(S,"PRIVATE KEY"):Oe(w=k(S,n),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==t&&void 0!==h&&e instanceof h&&1==e.isPrivate)return P=new c({bigint:e.x}).getEncodedHex(),S=l({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:P}}]}).getEncodedHex(),void 0===n||null==n?Oe(S,"PRIVATE KEY"):Oe(w=k(S,n),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},He.getKeyFromCSRPEM=function(e){var t=Ce(e,"CERTIFICATE REQUEST");return He.getKeyFromCSRHex(t)},He.getKeyFromCSRHex=function(e){var t=He.parseCSRHex(e);return He.getKey(t.p8pubkeyhex,null,"pkcs8pub")},He.parseCSRHex=function(e){var t=de,n=t.getChildIdx,r=t.getTLV,i={},o=e;if("30"!=o.substr(0,2))throw"malformed CSR(code:001)";var a=n(o,0);if(a.length<1)throw"malformed CSR(code:002)";if("30"!=o.substr(a[0],2))throw"malformed CSR(code:003)";var s=n(o,a[0]);if(s.length<3)throw"malformed CSR(code:004)";return i.p8pubkeyhex=r(o,s[2]),i},He.getKeyID=function(e){var t=He,n=de;"string"==typeof e&&-1!=e.indexOf("BEGIN ")&&(e=t.getKey(e));var r=Ce(t.getPEM(e)),i=n.getIdxbyList(r,0,[1]),o=n.getV(r,i).substring(2);return ce.crypto.Util.hashHex(o,"sha1")},He.getJWKFromKey=function(e){var t={};if(e instanceof ie&&e.isPrivate)return t.kty="RSA",t.n=_e(e.n.toString(16)),t.e=_e(e.e.toString(16)),t.d=_e(e.d.toString(16)),t.p=_e(e.p.toString(16)),t.q=_e(e.q.toString(16)),t.dp=_e(e.dmp1.toString(16)),t.dq=_e(e.dmq1.toString(16)),t.qi=_e(e.coeff.toString(16)),t;if(e instanceof ie&&e.isPublic)return t.kty="RSA",t.n=_e(e.n.toString(16)),t.e=_e(e.e.toString(16)),t;if(e instanceof ce.crypto.ECDSA&&e.isPrivate){if("P-256"!==(r=e.getShortNISTPCurveName())&&"P-384"!==r)throw"unsupported curve name for JWT: "+r;var n=e.getPublicKeyXYHex();return t.kty="EC",t.crv=r,t.x=_e(n.x),t.y=_e(n.y),t.d=_e(e.prvKeyHex),t}if(e instanceof ce.crypto.ECDSA&&e.isPublic){var r;if("P-256"!==(r=e.getShortNISTPCurveName())&&"P-384"!==r)throw"unsupported curve name for JWT: "+r;return n=e.getPublicKeyXYHex(),t.kty="EC",t.crv=r,t.x=_e(n.x),t.y=_e(n.y),t}throw"not supported key object"},ie.getPosArrayOfChildrenFromHex=function(e){return de.getChildIdx(e,0)},ie.getHexValueArrayOfChildrenFromHex=function(e){var t,n=de.getV,r=n(e,(t=ie.getPosArrayOfChildrenFromHex(e))[0]),i=n(e,t[1]),o=n(e,t[2]),a=n(e,t[3]),s=n(e,t[4]),u=n(e,t[5]),c=n(e,t[6]),l=n(e,t[7]),f=n(e,t[8]);return(t=new Array).push(r,i,o,a,s,u,c,l,f),t},ie.prototype.readPrivateKeyFromPEMString=function(e){var t=Ce(e),n=ie.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])},ie.prototype.readPKCS5PrvKeyHex=function(e){var t=ie.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},ie.prototype.readPKCS8PrvKeyHex=function(e){var t,n,r,i,o,a,s,u,c=de,l=c.getVbyListEx;if(!1===c.isASN1HEX(e))throw new Error("not ASN.1 hex string");try{t=l(e,0,[2,0,1],"02"),n=l(e,0,[2,0,2],"02"),r=l(e,0,[2,0,3],"02"),i=l(e,0,[2,0,4],"02"),o=l(e,0,[2,0,5],"02"),a=l(e,0,[2,0,6],"02"),s=l(e,0,[2,0,7],"02"),u=l(e,0,[2,0,8],"02")}catch(e){throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(t,n,r,i,o,a,s,u)},ie.prototype.readPKCS5PubKeyHex=function(e){var t=de,n=t.getV;if(!1===t.isASN1HEX(e))throw new Error("keyHex is not ASN.1 hex string");var r=t.getChildIdx(e,0);if(2!==r.length||"02"!==e.substr(r[0],2)||"02"!==e.substr(r[1],2))throw new Error("wrong hex for PKCS#5 public key");var i=n(e,r[0]),o=n(e,r[1]);this.setPublic(i,o)},ie.prototype.readPKCS8PubKeyHex=function(e){var t=de;if(!1===t.isASN1HEX(e))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==t.getTLVbyListEx(e,0,[0,0]))throw new Error("not PKCS8 RSA public key");var n=t.getTLVbyListEx(e,0,[1,0]);this.readPKCS5PubKeyHex(n)},ie.prototype.readCertPubKeyHex=function(e,t){var n,r;(n=new qe).readCertHex(e),r=n.getPublicKeyHex(),this.readPKCS8PubKeyHex(r)};var ze=new RegExp("[^0-9a-f]","gi");function Ke(e,t){for(var n="",r=t/4-e.length,i=0;i<r;i++)n+="0";return n+e}function Ve(e,t,n){for(var r="",i=0;r.length<t;)r+=Se(n(ke(e+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return r}function We(e){for(var t in ce.crypto.Util.DIGESTINFOHEAD){var n=ce.crypto.Util.DIGESTINFOHEAD[t],r=n.length;if(e.substring(0,r)==n)return[t,e.substring(r)]}return[]}function qe(e){var t,n=de,r=n.getChildIdx,i=n.getV,o=n.getTLV,a=n.getVbyList,s=n.getVbyListEx,u=n.getTLVbyList,c=n.getTLVbyListEx,l=n.getIdxbyList,f=n.getIdxbyListEx,d=n.getVidx,h=n.oidname,p=n.hextooidstr,g=qe,v=Ce;try{t=ce.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch(e){}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==u(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return s(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var e=c(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(e)},this.getAlgorithmIdentifierName=function(e){for(var n in t)if(e===t[n])return n;return h(s(e,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return u(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return g.hex2dn(this.getIssuerHex())},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return u(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return g.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var e=a(this.hex,0,[0,4+this.foffset,0]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getNotAfter=function(){var e=a(this.hex,0,[0,4+this.foffset,1]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getPublicKeyHex=function(){return n.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return l(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var e=this.getPublicKeyIdx();return l(this.hex,e,[1,0],"30")},this.getPublicKey=function(){return He.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var e=u(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(e)},this.getSignatureValueHex=function(){return a(this.hex,0,[2],"03",!0)},this.verifySignature=function(e){var t=this.getSignatureAlgorithmField(),n=this.getSignatureValueHex(),r=u(this.hex,0,[0],"30"),i=new ce.crypto.Signature({alg:t});return i.init(e),i.updateHex(r),i.verify(n)},this.parseExt=function(e){var t,o,s;if(void 0===e){if(s=this.hex,3!==this.version)return-1;t=l(s,0,[0,7,0],"30"),o=r(s,t)}else{s=Ce(e);var u=l(s,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=i(s,u))return void(this.aExtInfo=new Array);t=l(s,0,[0,3,0,1,0],"30"),o=r(s,t),this.hex=s}this.aExtInfo=new Array;for(var c=0;c<o.length;c++){var f={critical:!1},h=0;3===r(s,o[c]).length&&(f.critical=!0,h=1),f.oid=n.hextooidstr(a(s,o[c],[0],"06"));var p=l(s,o[c],[1+h]);f.vidx=d(s,p),this.aExtInfo.push(f)}},this.getExtInfo=function(e){var t=this.aExtInfo,n=e;if(e.match(/^[0-9.]+$/)||(n=ce.asn1.x509.OID.name2oid(e)),""!==n)for(var r=0;r<t.length;r++)if(t[r].oid===n)return t[r]},this.getExtBasicConstraints=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("basicConstraints");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var r={extname:"basicConstraints"};if(t&&(r.critical=!0),"3000"===e)return r;if("30030101ff"===e)return r.cA=!0,r;if("30060101ff02"===e.substr(0,12)){var a=i(e,10),s=parseInt(a,16);return r.cA=!0,r.pathLen=s,r}throw new Error("hExtV parse error: "+e)},this.getExtKeyUsage=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("keyUsage");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var r={extname:"keyUsage"};return t&&(r.critical=!0),r.names=this.getExtKeyUsageString(e).split(","),r},this.getExtKeyUsageBin=function(e){if(void 0===e){var t=this.getExtInfo("keyUsage");if(void 0===t)return"";e=o(this.hex,t.vidx)}if(8!=e.length&&10!=e.length)throw new Error("malformed key usage value: "+e);var n="000000000000000"+parseInt(e.substr(6),16).toString(2);return 8==e.length&&(n=n.slice(-8)),10==e.length&&(n=n.slice(-16)),""==(n=n.replace(/0+$/,""))&&(n="0"),n},this.getExtKeyUsageString=function(e){for(var t=this.getExtKeyUsageBin(e),n=new Array,r=0;r<t.length;r++)"1"==t.substr(r,1)&&n.push(qe.KEYUSAGE_NAME[r]);return n.join(",")},this.getExtSubjectKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("subjectKeyIdentifier");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var r={extname:"subjectKeyIdentifier"};t&&(r.critical=!0);var a=i(e,0);return r.kid={hex:a},r},this.getExtAuthorityKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("authorityKeyIdentifier");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var a={extname:"authorityKeyIdentifier"};t&&(a.critical=!0);for(var s=r(e,0),u=0;u<s.length;u++){var c=e.substr(s[u],2);if("80"===c&&(a.kid={hex:i(e,s[u])}),"a1"===c){var l=o(e,s[u]),f=this.getGeneralNames(l);a.issuer=f[0].dn}"82"===c&&(a.sn={hex:i(e,s[u])})}return a},this.getExtExtKeyUsage=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("extKeyUsage");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var a={extname:"extKeyUsage",array:[]};t&&(a.critical=!0);for(var s=r(e,0),u=0;u<s.length;u++)a.array.push(h(i(e,s[u])));return a},this.getExtExtKeyUsageName=function(){var e=this.getExtInfo("extKeyUsage");if(void 0===e)return e;var t=new Array,n=o(this.hex,e.vidx);if(""===n)return t;for(var a=r(n,0),s=0;s<a.length;s++)t.push(h(i(n,a[s])));return t},this.getExtSubjectAltName=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("subjectAltName");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var r={extname:"subjectAltName",array:[]};return t&&(r.critical=!0),r.array=this.getGeneralNames(e),r},this.getExtIssuerAltName=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("issuerAltName");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var r={extname:"issuerAltName",array:[]};return t&&(r.critical=!0),r.array=this.getGeneralNames(e),r},this.getGeneralNames=function(e){for(var t=r(e,0),n=[],i=0;i<t.length;i++){var a=this.getGeneralName(o(e,t[i]));void 0!==a&&n.push(a)}return n},this.getGeneralName=function(e){var t=e.substr(0,2),n=i(e,0),r=Se(n);return"81"==t?{rfc822:r}:"82"==t?{dns:r}:"86"==t?{uri:r}:"87"==t?{ip:Ne(n)}:"a4"==t?{dn:this.getX500Name(n)}:void 0},this.getExtSubjectAltName2=function(){var e,t,n,a=this.getExtInfo("subjectAltName");if(void 0===a)return a;for(var s=new Array,u=o(this.hex,a.vidx),c=r(u,0),l=0;l<c.length;l++)n=u.substr(c[l],2),e=i(u,c[l]),"81"===n&&(t=xe(e),s.push(["MAIL",t])),"82"===n&&(t=xe(e),s.push(["DNS",t])),"84"===n&&(t=qe.hex2dn(e,0),s.push(["DN",t])),"86"===n&&(t=xe(e),s.push(["URI",t])),"87"===n&&(t=Ne(e),s.push(["IP",t]));return s},this.getExtCRLDistributionPoints=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("cRLDistributionPoints");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var i={extname:"cRLDistributionPoints",array:[]};t&&(i.critical=!0);for(var a=r(e,0),s=0;s<a.length;s++){var u=o(e,a[s]);i.array.push(this.getDistributionPoint(u))}return i},this.getDistributionPoint=function(e){for(var t={},n=r(e,0),i=0;i<n.length;i++){var a=e.substr(n[i],2),s=o(e,n[i]);"a0"==a&&(t.dpname=this.getDistributionPointName(s))}return t},this.getDistributionPointName=function(e){for(var t={},n=r(e,0),i=0;i<n.length;i++){var a=e.substr(n[i],2),s=o(e,n[i]);"a0"==a&&(t.full=this.getGeneralNames(s))}return t},this.getExtCRLDistributionPointsURI=function(){var e=this.getExtInfo("cRLDistributionPoints");if(void 0===e)return e;for(var t=new Array,n=r(this.hex,e.vidx),i=0;i<n.length;i++)try{var o=xe(a(this.hex,n[i],[0,0,0],"86"));t.push(o)}catch(e){}return t},this.getExtAIAInfo=function(){var e=this.getExtInfo("authorityInfoAccess");if(void 0===e)return e;for(var t={ocsp:[],caissuer:[]},n=r(this.hex,e.vidx),i=0;i<n.length;i++){var o=a(this.hex,n[i],[0],"06"),s=a(this.hex,n[i],[1],"86");"2b06010505073001"===o&&t.ocsp.push(xe(s)),"2b06010505073002"===o&&t.caissuer.push(xe(s))}return t},this.getExtAuthorityInfoAccess=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("authorityInfoAccess");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var i={extname:"authorityInfoAccess",array:[]};t&&(i.critical=!0);for(var u=r(e,0),c=0;c<u.length;c++){var l=s(e,u[c],[0],"06"),f=xe(a(e,u[c],[1],"86"));if("2b06010505073001"==l)i.array.push({ocsp:f});else{if("2b06010505073002"!=l)throw new Error("unknown method: "+l);i.array.push({caissuer:f})}}return i},this.getExtCertificatePolicies=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("certificatePolicies");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var i={extname:"certificatePolicies",array:[]};t&&(i.critical=!0);for(var a=r(e,0),s=0;s<a.length;s++){var u=o(e,a[s]),c=this.getPolicyInformation(u);i.array.push(c)}return i},this.getPolicyInformation=function(e){var t={},n=a(e,0,[0],"06");t.policyoid=h(n);var i=f(e,0,[1],"30");if(-1!=i){t.array=[];for(var s=r(e,i),u=0;u<s.length;u++){var c=o(e,s[u]),l=this.getPolicyQualifierInfo(c);t.array.push(l)}}return t},this.getPolicyQualifierInfo=function(e){var t={},n=a(e,0,[0],"06");if("2b06010505070201"===n){var r=s(e,0,[1],"16");t.cps=Se(r)}else if("2b06010505070202"===n){var i=u(e,0,[1],"30");t.unotice=this.getUserNotice(i)}return t},this.getUserNotice=function(e){for(var t={},n=r(e,0),i=0;i<n.length;i++){var a=o(e,n[i]);"30"!=a.substr(0,2)&&(t.exptext=this.getDisplayText(a))}return t},this.getDisplayText=function(e){var t={};return t.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[e.substr(0,2)],t.str=Se(i(e,0)),t},this.getExtCRLNumber=function(e,t){var n={extname:"cRLNumber"};if(t&&(n.critical=!0),"02"==e.substr(0,2))return n.num={hex:i(e,0)},n;throw new Error("hExtV parse error: "+e)},this.getExtCRLReason=function(e,t){var n={extname:"cRLReason"};if(t&&(n.critical=!0),"0a"==e.substr(0,2))return n.code=parseInt(i(e,0),16),n;throw new Error("hExtV parse error: "+e)},this.getExtOcspNonce=function(e,t){var n={extname:"ocspNonce"};t&&(n.critical=!0);var r=i(e,0);return n.hex=r,n},this.getExtOcspNoCheck=function(e,t){var n={extname:"ocspNoCheck"};return t&&(n.critical=!0),n},this.getExtAdobeTimeStamp=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("adobeTimeStamp");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var i={extname:"adobeTimeStamp"};t&&(i.critical=!0);var a=r(e,0);if(a.length>1){var s=o(e,a[1]),u=this.getGeneralName(s);null!=u.uri&&(i.uri=u.uri)}if(a.length>2){var c=o(e,a[2]);"0101ff"==c&&(i.reqauth=!0),"010100"==c&&(i.reqauth=!1)}return i},this.getX500NameRule=function(e){for(var t=null,n=[],r=0;r<e.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(i[o]);for(r=0;r<n.length;r++){var a=n[r],s=a.ds,u=a.value,c=a.type;if("prn"!=s&&"utf8"!=s&&"ia5"!=s)return"mixed";if("ia5"==s){if("CN"!=c)return"mixed";if(ce.lang.String.isMail(u))continue;return"mixed"}if("C"==c){if("prn"==s)continue;return"mixed"}if(null==t)t=s;else if(t!==s)return"mixed"}return null==t?"prn":t},this.getX500Name=function(e){var t=this.getX500NameArray(e);return{array:t,str:this.dnarraytostr(t)}},this.getX500NameArray=function(e){for(var t=[],n=r(e,0),i=0;i<n.length;i++)t.push(this.getRDN(o(e,n[i])));return t},this.getRDN=function(e){for(var t=[],n=r(e,0),i=0;i<n.length;i++)t.push(this.getAttrTypeAndValue(o(e,n[i])));return t},this.getAttrTypeAndValue=function(e){var t={type:null,value:null,ds:null},n=r(e,0),i=a(e,n[0],[],"06"),o=a(e,n[1],[]),s=ce.asn1.ASN1Util.oidHexToInt(i);return t.type=ce.asn1.x509.OID.oid2atype(s),t.value=Se(o),t.ds=this.HEX2STAG[e.substr(n[1],2)],t},this.readCertPEM=function(e){this.readCertHex(v(e))},this.readCertHex=function(e){this.hex=e,this.getVersion();try{l(this.hex,0,[0,7],"a3"),this.parseExt()}catch(e){}},this.getParam=function(){var e={};return e.version=this.getVersion(),e.serial={hex:this.getSerialNumberHex()},e.sigalg=this.getSignatureAlgorithmField(),e.issuer=this.getIssuer(),e.notbefore=this.getNotBefore(),e.notafter=this.getNotAfter(),e.subject=this.getSubject(),e.sbjpubkey=Oe(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(e.ext=this.getExtParamArray()),e.sighex=this.getSignatureValueHex(),e},this.getExtParamArray=function(e){null==e&&-1!=f(this.hex,0,[0,"[3]"])&&(e=c(this.hex,0,[0,"[3]",0],"30"));for(var t=[],n=r(e,0),i=0;i<n.length;i++){var a=o(e,n[i]),s=this.getExtParam(a);null!=s&&t.push(s)}return t},this.getExtParam=function(e){var t=r(e,0).length;if(2!=t&&3!=t)throw new Error("wrong number elements in Extension: "+t+" "+e);var n=p(a(e,0,[0],"06")),i=!1;3==t&&"0101ff"==u(e,0,[1])&&(i=!0);var o=u(e,0,[t-1,0]),s=void 0;if("2.5.29.14"==n?s=this.getExtSubjectKeyIdentifier(o,i):"2.5.29.15"==n?s=this.getExtKeyUsage(o,i):"2.5.29.17"==n?s=this.getExtSubjectAltName(o,i):"2.5.29.18"==n?s=this.getExtIssuerAltName(o,i):"2.5.29.19"==n?s=this.getExtBasicConstraints(o,i):"2.5.29.31"==n?s=this.getExtCRLDistributionPoints(o,i):"2.5.29.32"==n?s=this.getExtCertificatePolicies(o,i):"2.5.29.35"==n?s=this.getExtAuthorityKeyIdentifier(o,i):"2.5.29.37"==n?s=this.getExtExtKeyUsage(o,i):"1.3.6.1.5.5.7.1.1"==n?s=this.getExtAuthorityInfoAccess(o,i):"2.5.29.20"==n?s=this.getExtCRLNumber(o,i):"2.5.29.21"==n?s=this.getExtCRLReason(o,i):"1.3.6.1.5.5.7.48.1.2"==n?s=this.getExtOcspNonce(o,i):"1.3.6.1.5.5.7.48.1.5"==n?s=this.getExtOcspNoCheck(o,i):"1.2.840.113583.1.1.9.1"==n&&(s=this.getExtAdobeTimeStamp(o,i)),null!=s)return s;var c={extname:n,extn:o};return i&&(c.critical=!0),c},this.findExt=function(e,t){for(var n=0;n<e.length;n++)if(e[n].extname==t)return e[n];return null},this.updateExtCDPFullURI=function(e,t){var n=this.findExt(e,"cRLDistributionPoints");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)if(null!=r[i].dpname&&null!=r[i].dpname.full)for(var o=r[i].dpname.full,a=0;a<o.length;a++){var s=o[i];null!=s.uri&&(s.uri=t)}},this.updateExtAIAOCSP=function(e,t){var n=this.findExt(e,"authorityInfoAccess");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)null!=r[i].ocsp&&(r[i].ocsp=t)},this.updateExtAIACAIssuer=function(e,t){var n=this.findExt(e,"authorityInfoAccess");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)null!=r[i].caissuer&&(r[i].caissuer=t)},this.dnarraytostr=function(e){return"/"+e.map((function(e){return function(e){return e.map((function(e){return function(e){return e.type+"="+e.value}(e)})).join("+")}(e)})).join("/")},this.getInfo=function(){var e,t,n,r=function(e){return JSON.stringify(e.array).replace(/[\[\]\{\}\"]/g,"")},i=function(e){for(var t="",n=e.array,r=0;r<n.length;r++){var i=n[r];if(t+="    policy oid: "+i.policyoid+"\n",void 0!==i.array)for(var o=0;o<i.array.length;o++){var a=i.array[o];void 0!==a.cps&&(t+="    cps: "+a.cps+"\n")}}return t},o=function(t){for(var n="",r=t.array,i=0;i<r.length;i++){var o=r[i];try{void 0!==o.dpname.full[0].uri&&(n+="    "+o.dpname.full[0].uri+"\n")}catch(e){}try{void 0!==o.dname.full[0].dn.hex&&(n+="    "+qe.hex2dn(o.dpname.full[0].dn.hex)+"\n")}catch(e){}}return n},a=function(e){for(var t="",n=e.array,r=0;r<n.length;r++){var i=n[r];void 0!==i.caissuer&&(t+="    caissuer: "+i.caissuer+"\n"),void 0!==i.ocsp&&(t+="    ocsp: "+i.ocsp+"\n")}return t};if(e="Basic Fields\n",e+="  serial number: "+this.getSerialNumberHex()+"\n",e+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",e+="  issuer: "+this.getIssuerString()+"\n",e+="  notBefore: "+this.getNotBefore()+"\n",e+="  notAfter: "+this.getNotAfter()+"\n",e+="  subject: "+this.getSubjectString()+"\n",e+="  subject public key info: \n",e+="    key algorithm: "+(t=this.getPublicKey()).type+"\n","RSA"===t.type&&(e+="    n="+Ue(t.n.toString(16)).substr(0,16)+"...\n",e+="    e="+Ue(t.e.toString(16))+"\n"),null!=(n=this.aExtInfo)){e+="X509v3 Extensions:\n";for(var s=0;s<n.length;s++){var u=n[s],c=ce.asn1.x509.OID.oid2name(u.oid);""===c&&(c=u.oid);var l="";if(!0===u.critical&&(l="CRITICAL"),e+="  "+c+" "+l+":\n","basicConstraints"===c){var f=this.getExtBasicConstraints();void 0===f.cA?e+="    {}\n":(e+="    cA=true",void 0!==f.pathLen&&(e+=", pathLen="+f.pathLen),e+="\n")}else if("keyUsage"===c)e+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===c)e+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"===c){var d=this.getExtAuthorityKeyIdentifier();void 0!==d.kid&&(e+="    kid="+d.kid.hex+"\n")}else"extKeyUsage"===c?e+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"===c?e+="    "+r(this.getExtSubjectAltName())+"\n":"cRLDistributionPoints"===c?e+=o(this.getExtCRLDistributionPoints()):"authorityInfoAccess"===c?e+=a(this.getExtAuthorityInfoAccess()):"certificatePolicies"===c&&(e+=i(this.getExtCertificatePolicies()))}}return(e+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?this.readCertPEM(e):ce.lang.String.isHex(e)&&this.readCertHex(e))}ie.prototype.sign=function(e,t){var n=function(e){return ce.crypto.Util.hashString(e,t)}(e);return this.signWithMessageHash(n,t)},ie.prototype.signWithMessageHash=function(e,t){var n=ne(ce.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength()),16);return Ke(this.doPrivate(n).toString(16),this.n.bitLength())},ie.prototype.signPSS=function(e,t,n){var r=function(e){return ce.crypto.Util.hashHex(e,t)}(ke(e));return void 0===n&&(n=-1),this.signWithMessageHashPSS(r,t,n)},ie.prototype.signWithMessageHashPSS=function(e,t,n){var r,i=Se(e),o=i.length,a=this.n.bitLength()-1,s=Math.ceil(a/8),u=function(e){return ce.crypto.Util.hashHex(e,t)};if(-1===n||void 0===n)n=o;else if(-2===n)n=s-o-2;else if(n<-2)throw new Error("invalid salt length");if(s<o+n+2)throw new Error("data too long");var c="";n>0&&(c=new Array(n),(new te).nextBytes(c),c=String.fromCharCode.apply(String,c));var l=Se(u(ke("\0\0\0\0\0\0\0\0"+i+c))),f=[];for(r=0;r<s-n-o-2;r+=1)f[r]=0;var d=String.fromCharCode.apply(String,f)+"\x01"+c,h=Ve(l,d.length,u),p=[];for(r=0;r<d.length;r+=1)p[r]=d.charCodeAt(r)^h.charCodeAt(r);var g=65280>>8*s-a&255;for(p[0]&=~g,r=0;r<o;r++)p.push(l.charCodeAt(r));return p.push(188),Ke(this.doPrivate(new S(p)).toString(16),this.n.bitLength())},ie.prototype.verify=function(e,t){var n=ne(t=(t=t.replace(ze,"")).replace(/[ \n]+/g,""),16);if(n.bitLength()>this.n.bitLength())return 0;var r=We(this.doPublic(n).toString(16).replace(/^1f+00/,""));if(0==r.length)return!1;var i=r[0];return r[1]==function(e){return ce.crypto.Util.hashString(e,i)}(e)},ie.prototype.verifyWithMessageHash=function(e,t){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var n=ne(t,16);if(n.bitLength()>this.n.bitLength())return 0;var r=We(this.doPublic(n).toString(16).replace(/^1f+00/,""));return 0!=r.length&&(r[0],r[1]==e)},ie.prototype.verifyPSS=function(e,t,n,r){var i=function(e){return ce.crypto.Util.hashHex(e,n)}(ke(e));return void 0===r&&(r=-1),this.verifyWithMessageHashPSS(i,t,n,r)},ie.prototype.verifyWithMessageHashPSS=function(e,t,n,r){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var i,o=new S(t,16),a=function(e){return ce.crypto.Util.hashHex(e,n)},s=Se(e),u=s.length,c=this.n.bitLength()-1,l=Math.ceil(c/8);if(-1===r||void 0===r)r=u;else if(-2===r)r=l-u-2;else if(r<-2)throw new Error("invalid salt length");if(l<u+r+2)throw new Error("data too long");var f=this.doPublic(o).toByteArray();for(i=0;i<f.length;i+=1)f[i]&=255;for(;f.length<l;)f.unshift(0);if(188!==f[l-1])throw new Error("encoded message does not end in 0xbc");var d=(f=String.fromCharCode.apply(String,f)).substr(0,l-u-1),h=f.substr(d.length,u),p=65280>>8*l-c&255;if(0!=(d.charCodeAt(0)&p))throw new Error("bits beyond keysize not zero");var g=Ve(h,d.length,a),v=[];for(i=0;i<d.length;i+=1)v[i]=d.charCodeAt(i)^g.charCodeAt(i);v[0]&=~p;var y=l-u-r-2;for(i=0;i<y;i+=1)if(0!==v[i])throw new Error("leftmost octets not zero");if(1!==v[y])throw new Error("0x01 marker not found");return h===Se(a(ke("\0\0\0\0\0\0\0\0"+s+String.fromCharCode.apply(String,v.slice(-r)))))},ie.SALT_LEN_HLEN=-1,ie.SALT_LEN_MAX=-2,ie.SALT_LEN_RECOVER=-2,qe.hex2dn=function(e,t){if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw new Error("malformed DN");for(var n=new Array,r=de.getChildIdx(e,t),i=0;i<r.length;i++)n.push(qe.hex2rdn(e,r[i]));return"/"+(n=n.map((function(e){return e.replace("/","\\/")}))).join("/")},qe.hex2rdn=function(e,t){if(void 0===t&&(t=0),"31"!==e.substr(t,2))throw new Error("malformed RDN");for(var n=new Array,r=de.getChildIdx(e,t),i=0;i<r.length;i++)n.push(qe.hex2attrTypeValue(e,r[i]));return(n=n.map((function(e){return e.replace("+","\\+")}))).join("+")},qe.hex2attrTypeValue=function(e,t){var n=de,r=n.getV;if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw new Error("malformed attribute type and value");var i=n.getChildIdx(e,t);2!==i.length||e.substr(i[0],2);var o=r(e,i[0]),a=ce.asn1.ASN1Util.oidHexToInt(o);return ce.asn1.x509.OID.oid2atype(a)+"="+Se(r(e,i[1]))},qe.getPublicKeyFromCertHex=function(e){var t=new qe;return t.readCertHex(e),t.getPublicKey()},qe.getPublicKeyFromCertPEM=function(e){var t=new qe;return t.readCertPEM(e),t.getPublicKey()},qe.getPublicKeyInfoPropOfCertPEM=function(e){var t,n,r=de.getVbyList,i={algparam:null};return(t=new qe).readCertPEM(e),n=t.getPublicKeyHex(),i.keyhex=r(n,0,[1],"03").substr(2),i.algoid=r(n,0,[0,0],"06"),"2a8648ce3d0201"===i.algoid&&(i.algparam=r(n,0,[0,1],"06")),i},qe.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==ce&&ce||(t.KJUR=ce={}),void 0!==ce.jws&&ce.jws||(ce.jws={}),ce.jws.JWS=function(){var e=ce.jws.JWS.isSafeJSONString;this.parseJWS=function(t,n){if(void 0===this.parsedJWS||!n&&void 0===this.parsedJWS.sigvalH){var r=t.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==r)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var i=r[1],o=r[2],a=r[3],s=i+"."+o;if(this.parsedJWS={},this.parsedJWS.headB64U=i,this.parsedJWS.payloadB64U=o,this.parsedJWS.sigvalB64U=a,this.parsedJWS.si=s,!n){var u=be(a),c=ne(u,16);this.parsedJWS.sigvalH=u,this.parsedJWS.sigvalBI=c}var l=fe(i),f=fe(o);if(this.parsedJWS.headS=l,this.parsedJWS.payloadS=f,!e(l,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+l}}},ce.jws.JWS.sign=function(e,t,r,i,o){var a,s,u,c=ce,l=c.jws.JWS,f=l.readSafeJSONString,d=l.isSafeJSONString,h=c.crypto,p=(h.ECDSA,h.Mac),g=h.Signature,v=JSON;if("string"!=typeof t&&"object"!=(void 0===t?"undefined":n(t)))throw"spHeader must be JSON string or object: "+t;if("object"==(void 0===t?"undefined":n(t))&&(s=t,a=v.stringify(s)),"string"==typeof t){if(!d(a=t))throw"JWS Head is not safe JSON string: "+a;s=f(a)}if(u=r,"object"==(void 0===r?"undefined":n(r))&&(u=v.stringify(r)),""!=e&&null!=e||void 0===s.alg||(e=s.alg),""!=e&&null!=e&&void 0===s.alg&&(s.alg=e,a=v.stringify(s)),e!==s.alg)throw"alg and sHeader.alg doesn't match: "+e+"!="+s.alg;var y=null;if(void 0===l.jwsalg2sigalg[e])throw"unsupported alg name: "+e;y=l.jwsalg2sigalg[e];var m=le(a)+"."+le(u),_="";if("Hmac"==y.substr(0,4)){if(void 0===i)throw"mac key shall be specified for HS* alg";var b=new p({alg:y,prov:"cryptojs",pass:i});b.updateString(m),_=b.doFinal()}else if(-1!=y.indexOf("withECDSA")){(x=new g({alg:y})).init(i,o),x.updateString(m);var w=x.sign();_=ce.crypto.ECDSA.asn1SigToConcatSig(w)}else{var x;"none"!=y&&((x=new g({alg:y})).init(i,o),x.updateString(m),_=x.sign())}return m+"."+_e(_)},ce.jws.JWS.verify=function(e,t,r){var i,o=ce,a=o.jws.JWS,s=a.readSafeJSONString,u=o.crypto,c=u.ECDSA,l=u.Mac,f=u.Signature;void 0!==n(ie)&&(i=ie);var d=e.split(".");if(3!==d.length)return!1;var h,p=d[0]+"."+d[1],g=be(d[2]),v=s(fe(d[0])),y=null;if(void 0===v.alg)throw"algorithm not specified in header";if(h=(y=v.alg).substr(0,2),null!=r&&"[object Array]"===Object.prototype.toString.call(r)&&r.length>0&&-1==(":"+r.join(":")+":").indexOf(":"+y+":"))throw"algorithm '"+y+"' not accepted in the list";if("none"!=y&&null===t)throw"key shall be specified to verify.";if("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&(t=He.getKey(t)),!("RS"!=h&&"PS"!=h||t instanceof i))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==h&&!(t instanceof c))throw"key shall be a ECDSA obj for ES* algs";var m=null;if(void 0===a.jwsalg2sigalg[v.alg])throw"unsupported alg name: "+y;if("none"==(m=a.jwsalg2sigalg[y]))throw"not supported";if("Hmac"==m.substr(0,4)){if(void 0===t)throw"hexadecimal key shall be specified for HMAC";var _=new l({alg:m,pass:t});return _.updateString(p),g==_.doFinal()}if(-1!=m.indexOf("withECDSA")){var b,w=null;try{w=c.concatSigToASN1Sig(g)}catch(e){return!1}return(b=new f({alg:m})).init(t),b.updateString(p),b.verify(w)}return(b=new f({alg:m})).init(t),b.updateString(p),b.verify(g)},ce.jws.JWS.parse=function(e){var t,n,r,i=e.split("."),o={};if(2!=i.length&&3!=i.length)throw"malformed sJWS: wrong number of '.' splitted elements";return t=i[0],n=i[1],3==i.length&&(r=i[2]),o.headerObj=ce.jws.JWS.readSafeJSONString(fe(t)),o.payloadObj=ce.jws.JWS.readSafeJSONString(fe(n)),o.headerPP=JSON.stringify(o.headerObj,null,"  "),null==o.payloadObj?o.payloadPP=fe(n):o.payloadPP=JSON.stringify(o.payloadObj,null,"  "),void 0!==r&&(o.sigHex=be(r)),o},ce.jws.JWS.verifyJWT=function(e,t,r){var i=ce.jws,o=i.JWS,a=o.readSafeJSONString,s=o.inArray,u=o.includedArray,c=e.split("."),l=c[0],f=c[1],d=(be(c[2]),a(fe(l))),h=a(fe(f));if(void 0===d.alg)return!1;if(void 0===r.alg)throw"acceptField.alg shall be specified";if(!s(d.alg,r.alg))return!1;if(void 0!==h.iss&&"object"===n(r.iss)&&!s(h.iss,r.iss))return!1;if(void 0!==h.sub&&"object"===n(r.sub)&&!s(h.sub,r.sub))return!1;if(void 0!==h.aud&&"object"===n(r.aud))if("string"==typeof h.aud){if(!s(h.aud,r.aud))return!1}else if("object"==n(h.aud)&&!u(h.aud,r.aud))return!1;var p=i.IntDate.getNow();return void 0!==r.verifyAt&&"number"==typeof r.verifyAt&&(p=r.verifyAt),void 0!==r.gracePeriod&&"number"==typeof r.gracePeriod||(r.gracePeriod=0),!(void 0!==h.exp&&"number"==typeof h.exp&&h.exp+r.gracePeriod<p)&&!(void 0!==h.nbf&&"number"==typeof h.nbf&&p<h.nbf-r.gracePeriod)&&!(void 0!==h.iat&&"number"==typeof h.iat&&p<h.iat-r.gracePeriod)&&(void 0===h.jti||void 0===r.jti||h.jti===r.jti)&&!!o.verify(e,t,r.alg)},ce.jws.JWS.includedArray=function(e,t){var r=ce.jws.JWS.inArray;if(null===e)return!1;if("object"!==(void 0===e?"undefined":n(e)))return!1;if("number"!=typeof e.length)return!1;for(var i=0;i<e.length;i++)if(!r(e[i],t))return!1;return!0},ce.jws.JWS.inArray=function(e,t){if(null===t)return!1;if("object"!==(void 0===t?"undefined":n(t)))return!1;if("number"!=typeof t.length)return!1;for(var r=0;r<t.length;r++)if(t[r]==e)return!0;return!1},ce.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},ce.jws.JWS.isSafeJSONString=function(e,t,r){var i=null;try{return"object"!=(void 0===(i=ue(e))?"undefined":n(i))||i.constructor===Array?0:(t&&(t[r]=i),1)}catch(e){return 0}},ce.jws.JWS.readSafeJSONString=function(e){var t=null;try{return"object"!=(void 0===(t=ue(e))?"undefined":n(t))||t.constructor===Array?null:t}catch(e){return null}},ce.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var t=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==t)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return t[1]},ce.jws.JWS.getJWKthumbprint=function(e){if("RSA"!==e.kty&&"EC"!==e.kty&&"oct"!==e.kty)throw"unsupported algorithm for JWK Thumprint";var t="{";if("RSA"===e.kty){if("string"!=typeof e.n||"string"!=typeof e.e)throw"wrong n and e value for RSA key";t+='"e":"'+e.e+'",',t+='"kty":"'+e.kty+'",',t+='"n":"'+e.n+'"}'}else if("EC"===e.kty){if("string"!=typeof e.crv||"string"!=typeof e.x||"string"!=typeof e.y)throw"wrong crv, x and y value for EC key";t+='"crv":"'+e.crv+'",',t+='"kty":"'+e.kty+'",',t+='"x":"'+e.x+'",',t+='"y":"'+e.y+'"}'}else if("oct"===e.kty){if("string"!=typeof e.k)throw"wrong k value for oct(symmetric) key";t+='"kty":"'+e.kty+'",',t+='"k":"'+e.k+'"}'}var n=ke(t);return _e(ce.crypto.Util.hashHex(n,"sha256"))},ce.jws.IntDate={},ce.jws.IntDate.get=function(e){var t=ce.jws.IntDate,n=t.getNow,r=t.getZulu;if("now"==e)return n();if("now + 1hour"==e)return n()+3600;if("now + 1day"==e)return n()+86400;if("now + 1month"==e)return n()+2592e3;if("now + 1year"==e)return n()+31536e3;if(e.match(/Z$/))return r(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e},ce.jws.IntDate.getZulu=function(e){return Le(e)},ce.jws.IntDate.getNow=function(){return~~(new Date/1e3)},ce.jws.IntDate.intDate2UTCString=function(e){return new Date(1e3*e).toUTCString()},ce.jws.IntDate.intDate2Zulu=function(e){var t=new Date(1e3*e);return("0000"+t.getUTCFullYear()).slice(-4)+("00"+(t.getUTCMonth()+1)).slice(-2)+("00"+t.getUTCDate()).slice(-2)+("00"+t.getUTCHours()).slice(-2)+("00"+t.getUTCMinutes()).slice(-2)+("00"+t.getUTCSeconds()).slice(-2)+"Z"},t.SecureRandom=te,t.rng_seed_time=G,t.BigInteger=S,t.RSAKey=ie;var Je=ce.crypto.EDSA;t.EDSA=Je;var Ze=ce.crypto.DSA;t.DSA=Ze;var Ge=ce.crypto.Signature;t.Signature=Ge;var Ye=ce.crypto.MessageDigest;t.MessageDigest=Ye;var $e=ce.crypto.Mac;t.Mac=$e;var Qe=ce.crypto.Cipher;t.Cipher=Qe,t.KEYUTIL=He,t.ASN1HEX=de,t.X509=qe,t.CryptoJS=y,t.b64tohex=w,t.b64toBA=x,t.stoBA=he,t.BAtos=pe,t.BAtohex=ge,t.stohex=ve,t.stob64=function(e){return b(ve(e))},t.stob64u=function(e){return ye(b(ve(e)))},t.b64utos=function(e){return pe(x(me(e)))},t.b64tob64u=ye,t.b64utob64=me,t.hex2b64=b,t.hextob64u=_e,t.b64utohex=be,t.utf8tob64u=le,t.b64utoutf8=fe,t.utf8tob64=function(e){return b(Ie(Me(e)))},t.b64toutf8=function(e){return decodeURIComponent(je(w(e)))},t.utf8tohex=we,t.hextoutf8=xe,t.hextorstr=Se,t.rstrtohex=ke,t.hextob64=Ee,t.hextob64nl=Pe,t.b64nltohex=Ae,t.hextopem=Oe,t.pemtohex=Ce,t.hextoArrayBuffer=function(e){if(e.length%2!=0)throw"input is not even length";if(null==e.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var t=new ArrayBuffer(e.length/2),n=new DataView(t),r=0;r<e.length/2;r++)n.setUint8(r,parseInt(e.substr(2*r,2),16));return t},t.ArrayBuffertohex=function(e){for(var t="",n=new DataView(e),r=0;r<e.byteLength;r++)t+=("00"+n.getUint8(r).toString(16)).slice(-2);return t},t.zulutomsec=Te,t.zulutosec=Le,t.zulutodate=function(e){return new Date(Te(e))},t.datetozulu=function(e,t,n){var r,i=e.getUTCFullYear();if(t){if(i<1950||2049<i)throw"not proper year for UTCTime: "+i;r=(""+i).slice(-2)}else r=("000"+i).slice(-4);if(r+=("0"+(e.getUTCMonth()+1)).slice(-2),r+=("0"+e.getUTCDate()).slice(-2),r+=("0"+e.getUTCHours()).slice(-2),r+=("0"+e.getUTCMinutes()).slice(-2),r+=("0"+e.getUTCSeconds()).slice(-2),n){var o=e.getUTCMilliseconds();0!==o&&(r+="."+(o=(o=("00"+o).slice(-3)).replace(/0+$/g,"")))}return r+"Z"},t.uricmptohex=Ie,t.hextouricmp=je,t.ipv6tohex=Fe,t.hextoipv6=Re,t.hextoip=Ne,t.iptohex=function(e){var t="malformed IP address";if(!(e=e.toLowerCase(e)).match(/^[0-9.]+$/)){if(e.match(/^[0-9a-f:]+$/)&&-1!==e.indexOf(":"))return Fe(e);throw t}var n=e.split(".");if(4!==n.length)throw t;var r="";try{for(var i=0;i<4;i++)r+=("0"+parseInt(n[i]).toString(16)).slice(-2);return r}catch(e){throw t}},t.encodeURIComponentAll=Me,t.newline_toUnix=function(e){return e.replace(/\r\n/gm,"\n")},t.newline_toDos=function(e){return(e=e.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},t.hextoposhex=Ue,t.intarystrtohex=function(e){e=(e=(e=e.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return e.split(/,/).map((function(e,t,n){var r=parseInt(e);if(r<0||255<r)throw"integer not in range 0-255";return("00"+r.toString(16)).slice(-2)})).join("")}catch(e){throw"malformed integer array string: "+e}},t.strdiffidx=function(e,t){var n=e.length;e.length>t.length&&(n=t.length);for(var r=0;r<n;r++)if(e.charCodeAt(r)!=t.charCodeAt(r))return r;return e.length!=t.length?n:-1},t.KJUR=ce;var Xe=ce.crypto;t.crypto=Xe;var et=ce.asn1;t.asn1=et;var tt=ce.jws;t.jws=tt;var nt=ce.lang;t.lang=nt}).call(this,n(28).Buffer)},function(e,t,n){"use strict";(function(e){var r=n(30),i=n(31),o=n(32);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?s(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=s(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(r)return H(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var f=!0,d=0;d<u;d++)if(c(e,o+d)!==c(t,d)){f=!1;break}if(f)return o}return-1}function _(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function b(e,t,n,r){return K(H(t,e.length-n),e,n,r)}function w(e,t,n,r){return K(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return w(e,t,n,r)}function S(e,t,n,r){return K(z(t),e,n,r)}function k(e,t,n,r){return K(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=A));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):g.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(r,i),l=e.slice(t,n),f=0;f<s;++f)if(c[f]!==l[f]){o=c[f],a=l[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function C(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function T(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=B(e[o]);return i}function L(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function I(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function F(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function R(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function N(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,r,o){return o||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function D(e,t,n,r,o){return o||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||j(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||j(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);j(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);j(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=u.isBuffer(e)?e:H(new u(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(29))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),a=r[0],s=r[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[l++]=255&t),1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,u=n-i;s<u;s+=a)o.push(l(e,s,s+a>u?u:s+a));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=c}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+h]=255&a,h+=p,a/=256,c-=8);e[n+h-p]|=128*g}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.jws,n=e.KeyUtil,i=e.X509,o=e.crypto,a=e.hextob64u,s=e.b64tohex,u=e.AllowedSigningAlgs;return function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.parseJwt=function e(n){r.Log.debug("JoseUtil.parseJwt");try{var i=t.JWS.parse(n);return{header:i.headerObj,payload:i.payloadObj}}catch(e){r.Log.error(e)}},e.validateJwt=function(t,o,a,u,c,l,f){r.Log.debug("JoseUtil.validateJwt");try{if("RSA"===o.kty)if(o.e&&o.n)o=n.getKey(o);else{if(!o.x5c||!o.x5c.length)return r.Log.error("JoseUtil.validateJwt: RSA key missing key material",o),Promise.reject(new Error("RSA key missing key material"));var d=s(o.x5c[0]);o=i.getPublicKeyFromCertHex(d)}else{if("EC"!==o.kty)return r.Log.error("JoseUtil.validateJwt: Unsupported key type",o&&o.kty),Promise.reject(new Error(o.kty));if(!(o.crv&&o.x&&o.y))return r.Log.error("JoseUtil.validateJwt: EC key missing key material",o),Promise.reject(new Error("EC key missing key material"));o=n.getKey(o)}return e._validateJwt(t,o,a,u,c,l,f)}catch(e){return r.Log.error(e&&e.message||e),Promise.reject("JWT validation failed")}},e.validateJwtAttributes=function(t,n,i,o,a,s){o||(o=0),a||(a=parseInt(Date.now()/1e3));var u=e.parseJwt(t).payload;if(!u.iss)return r.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(u.iss!==n)return r.Log.error("JoseUtil._validateJwt: Invalid issuer in token",u.iss),Promise.reject(new Error("Invalid issuer in token: "+u.iss));if(!u.aud)return r.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(u.aud===i||Array.isArray(u.aud)&&u.aud.indexOf(i)>=0))return r.Log.error("JoseUtil._validateJwt: Invalid audience in token",u.aud),Promise.reject(new Error("Invalid audience in token: "+u.aud));if(u.azp&&u.azp!==i)return r.Log.error("JoseUtil._validateJwt: Invalid azp in token",u.azp),Promise.reject(new Error("Invalid azp in token: "+u.azp));if(!s){var c=a+o,l=a-o;if(!u.iat)return r.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(c<u.iat)return r.Log.error("JoseUtil._validateJwt: iat is in the future",u.iat),Promise.reject(new Error("iat is in the future: "+u.iat));if(u.nbf&&c<u.nbf)return r.Log.error("JoseUtil._validateJwt: nbf is in the future",u.nbf),Promise.reject(new Error("nbf is in the future: "+u.nbf));if(!u.exp)return r.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(u.exp<l)return r.Log.error("JoseUtil._validateJwt: exp is in the past",u.exp),Promise.reject(new Error("exp is in the past:"+u.exp))}return Promise.resolve(u)},e._validateJwt=function(n,i,o,a,s,c,l){return e.validateJwtAttributes(n,o,a,s,c,l).then((function(e){try{return t.JWS.verify(n,i,u)?e:(r.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(e){return r.Log.error(e&&e.message||e),Promise.reject(new Error("signature validation failed"))}}))},e.hashString=function e(t,n){try{return o.Util.hashString(t,n)}catch(e){r.Log.error(e)}},e.hexToBase64Url=function e(t){try{return a(t)}catch(e){r.Log.error(e)}},e}()};var r=n(0);e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigninResponse=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.SigninResponse=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";o(this,e);var r=i.UrlUtility.parseUrlFragment(t,n);this.error=r.error,this.error_description=r.error_description,this.error_uri=r.error_uri,this.code=r.code,this.state=r.state,this.id_token=r.id_token,this.session_state=r.session_state,this.access_token=r.access_token,this.token_type=r.token_type,this.scope=r.scope,this.profile=void 0,this.expires_in=r.expires_in}return r(e,[{key:"expires_in",get:function(){if(this.expires_at){var e=parseInt(Date.now()/1e3);return this.expires_at-e}},set:function(e){var t=parseInt(e);if("number"==typeof t&&t>0){var n=parseInt(Date.now()/1e3);this.expires_at=n+t}}},{key:"expired",get:function(){var e=this.expires_in;if(void 0!==e)return e<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignoutRequest=void 0;var r=n(0),i=n(3),o=n(9);t.SignoutRequest=function e(t){var n=t.url,a=t.id_token_hint,s=t.post_logout_redirect_uri,u=t.data,c=t.extraQueryParams,l=t.request_type;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!n)throw r.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var f in a&&(n=i.UrlUtility.addQueryParam(n,"id_token_hint",a)),s&&(n=i.UrlUtility.addQueryParam(n,"post_logout_redirect_uri",s),u&&(this.state=new o.State({data:u,request_type:l}),n=i.UrlUtility.addQueryParam(n,"state",this.state.id))),c)n=i.UrlUtility.addQueryParam(n,f,c[f]);this.url=n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignoutResponse=void 0;var r=n(3);t.SignoutResponse=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=r.UrlUtility.parseUrlFragment(t,"?");this.error=n.error,this.error_description=n.error_description,this.error_uri=n.error_uri,this.state=n.state}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryWebStorage=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);t.InMemoryWebStorage=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data={}}return e.prototype.getItem=function(e){return i.Log.debug("InMemoryWebStorage.getItem",e),this._data[e]},e.prototype.setItem=function(e,t){i.Log.debug("InMemoryWebStorage.setItem",e),this._data[e]=t},e.prototype.removeItem=function(e){i.Log.debug("InMemoryWebStorage.removeItem",e),delete this._data[e]},e.prototype.key=function(e){return Object.getOwnPropertyNames(this._data)[e]},r(e,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManager=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=n(10),a=n(39),s=n(15),u=n(45),c=n(47),l=n(18),f=n(8),d=n(20),h=n(11),p=n(4);function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.UserManager=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.SilentRenewService,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.SessionMonitor,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d.TokenRevocationClient,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:h.TokenClient,y=arguments.length>5&&void 0!==arguments[5]?arguments[5]:p.JoseUtil;g(this,t),n instanceof a.UserManagerSettings||(n=new a.UserManagerSettings(n));var m=v(this,e.call(this,n));return m._events=new u.UserManagerEvents(n),m._silentRenewService=new r(m),m.settings.automaticSilentRenew&&(i.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),m.startSilentRenew()),m.settings.monitorSession&&(i.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),m._sessionMonitor=new o(m)),m._tokenRevocationClient=new s(m._settings),m._tokenClient=new f(m._settings),m._joseUtil=y,m}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getUser=function(){var e=this;return this._loadUser().then((function(t){return t?(i.Log.info("UserManager.getUser: user loaded"),e._events.load(t,!1),t):(i.Log.info("UserManager.getUser: user not found in storage"),null)}))},t.prototype.removeUser=function(){var e=this;return this.storeUser(null).then((function(){i.Log.info("UserManager.removeUser: user removed from storage"),e._events.unload()}))},t.prototype.signinRedirect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="si:r";var t={useReplaceToNavigate:e.useReplaceToNavigate};return this._signinStart(e,this._redirectNavigator,t).then((function(){i.Log.info("UserManager.signinRedirect: successful")}))},t.prototype.signinRedirectCallback=function(e){return this._signinEnd(e||this._redirectNavigator.url).then((function(e){return e.profile&&e.profile.sub?i.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinRedirectCallback: no sub"),e}))},t.prototype.signinPopup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="si:p";var t=e.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return t?(e.redirect_uri=t,e.display="popup",this._signin(e,this._popupNavigator,{startUrl:t,popupWindowFeatures:e.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:e.popupWindowTarget||this.settings.popupWindowTarget}).then((function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinPopup: no sub")),e}))):(i.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},t.prototype.signinPopupCallback=function(e){return this._signinCallback(e,this._popupNavigator).then((function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinPopupCallback: no sub")),e})).catch((function(e){i.Log.error(e.message)}))},t.prototype.signinSilent=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=Object.assign({},t),this._loadUser().then((function(n){return n&&n.refresh_token?(t.refresh_token=n.refresh_token,e._useRefreshToken(t)):(t.request_type="si:s",t.id_token_hint=t.id_token_hint||e.settings.includeIdTokenInSilentRenew&&n&&n.id_token,n&&e._settings.validateSubOnSilentRenew&&(i.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",n.profile.sub),t.current_sub=n.profile.sub),e._signinSilentIframe(t))}))},t.prototype._useRefreshToken=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(t).then((function(t){return t?t.access_token?e._loadUser().then((function(n){if(n){var r=Promise.resolve();return t.id_token&&(r=e._validateIdTokenFromTokenRefreshToken(n.profile,t.id_token)),r.then((function(){return i.Log.debug("UserManager._useRefreshToken: refresh token response success"),n.id_token=t.id_token||n.id_token,n.access_token=t.access_token,n.refresh_token=t.refresh_token||n.refresh_token,n.expires_in=t.expires_in,e.storeUser(n).then((function(){return e._events.load(n),n}))}))}return null})):(i.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(i.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))}))},t.prototype._validateIdTokenFromTokenRefreshToken=function(e,t){var n=this;return this._metadataService.getIssuer().then((function(r){return n.settings.getEpochTime().then((function(o){return n._joseUtil.validateJwtAttributes(t,r,n._settings.client_id,n._settings.clockSkew,o).then((function(t){return t?t.sub!==e.sub?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):t.auth_time&&t.auth_time!==e.auth_time?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):t.azp&&t.azp!==e.azp?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!t.azp&&e.azp?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))}))}))}))},t.prototype._signinSilentIframe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return t?(e.redirect_uri=t,e.prompt=e.prompt||"none",this._signin(e,this._iframeNavigator,{startUrl:t,silentRequestTimeout:e.silentRequestTimeout||this.settings.silentRequestTimeout}).then((function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinSilent: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinSilent: no sub")),e}))):(i.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},t.prototype.signinSilentCallback=function(e){return this._signinCallback(e,this._iframeNavigator).then((function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinSilentCallback: no sub")),e}))},t.prototype.signinCallback=function(e){var t=this;return this.readSigninResponseState(e).then((function(n){var r=n.state;return n.response,"si:r"===r.request_type?t.signinRedirectCallback(e):"si:p"===r.request_type?t.signinPopupCallback(e):"si:s"===r.request_type?t.signinSilentCallback(e):Promise.reject(new Error("invalid response_type in state"))}))},t.prototype.signoutCallback=function(e,t){var n=this;return this.readSignoutResponseState(e).then((function(r){var i=r.state,o=r.response;return i?"so:r"===i.request_type?n.signoutRedirectCallback(e):"so:p"===i.request_type?n.signoutPopupCallback(e,t):Promise.reject(new Error("invalid response_type in state")):o}))},t.prototype.querySessionStatus=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).request_type="si:s";var n=t.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return n?(t.redirect_uri=n,t.prompt="none",t.response_type=t.response_type||this.settings.query_status_response_type,t.scope=t.scope||"openid",t.skipUserInfo=!0,this._signinStart(t,this._iframeNavigator,{startUrl:n,silentRequestTimeout:t.silentRequestTimeout||this.settings.silentRequestTimeout}).then((function(t){return e.processSigninResponse(t.url).then((function(e){if(i.Log.debug("UserManager.querySessionStatus: got signin response"),e.session_state&&e.profile.sub)return i.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",e.profile.sub),{session_state:e.session_state,sub:e.profile.sub,sid:e.profile.sid};i.Log.info("querySessionStatus successful, user not authenticated")})).catch((function(t){if(t.session_state&&e.settings.monitorAnonymousSession&&("login_required"==t.message||"consent_required"==t.message||"interaction_required"==t.message||"account_selection_required"==t.message))return i.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:t.session_state};throw t}))}))):(i.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},t.prototype._signin=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signinStart(e,t,r).then((function(t){return n._signinEnd(t.url,e)}))},t.prototype._signinStart=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.prepare(r).then((function(t){return i.Log.debug("UserManager._signinStart: got navigator window handle"),n.createSigninRequest(e).then((function(e){return i.Log.debug("UserManager._signinStart: got signin request"),r.url=e.url,r.id=e.state.id,t.navigate(r)})).catch((function(e){throw t.close&&(i.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),t.close()),e}))}))},t.prototype._signinEnd=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processSigninResponse(e).then((function(e){i.Log.debug("UserManager._signinEnd: got signin response");var r=new s.User(e);if(n.current_sub){if(n.current_sub!==r.profile.sub)return i.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",r.profile.sub),Promise.reject(new Error("login_required"));i.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return t.storeUser(r).then((function(){return i.Log.debug("UserManager._signinEnd: user stored"),t._events.load(r),r}))}))},t.prototype._signinCallback=function(e,t){i.Log.debug("UserManager._signinCallback");var n="query"===this._settings.response_mode||!this._settings.response_mode&&f.SigninRequest.isCode(this._settings.response_type)?"?":"#";return t.callback(e,void 0,n)},t.prototype.signoutRedirect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="so:r";var t=e.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;t&&(e.post_logout_redirect_uri=t);var n={useReplaceToNavigate:e.useReplaceToNavigate};return this._signoutStart(e,this._redirectNavigator,n).then((function(){i.Log.info("UserManager.signoutRedirect: successful")}))},t.prototype.signoutRedirectCallback=function(e){return this._signoutEnd(e||this._redirectNavigator.url).then((function(e){return i.Log.info("UserManager.signoutRedirectCallback: successful"),e}))},t.prototype.signoutPopup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="so:p";var t=e.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return e.post_logout_redirect_uri=t,e.display="popup",e.post_logout_redirect_uri&&(e.state=e.state||{}),this._signout(e,this._popupNavigator,{startUrl:t,popupWindowFeatures:e.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:e.popupWindowTarget||this.settings.popupWindowTarget}).then((function(){i.Log.info("UserManager.signoutPopup: successful")}))},t.prototype.signoutPopupCallback=function(e,t){return void 0===t&&"boolean"==typeof e&&(t=e,e=null),this._popupNavigator.callback(e,t,"?").then((function(){i.Log.info("UserManager.signoutPopupCallback: successful")}))},t.prototype._signout=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signoutStart(e,t,r).then((function(e){return n._signoutEnd(e.url)}))},t.prototype._signoutStart=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,n=arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.prepare(r).then((function(n){return i.Log.debug("UserManager._signoutStart: got navigator window handle"),t._loadUser().then((function(o){return i.Log.debug("UserManager._signoutStart: loaded current user from storage"),(t._settings.revokeAccessTokenOnSignout?t._revokeInternal(o):Promise.resolve()).then((function(){var a=e.id_token_hint||o&&o.id_token;return a&&(i.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),e.id_token_hint=a),t.removeUser().then((function(){return i.Log.debug("UserManager._signoutStart: user removed, creating signout request"),t.createSignoutRequest(e).then((function(e){return i.Log.debug("UserManager._signoutStart: got signout request"),r.url=e.url,e.state&&(r.id=e.state.id),n.navigate(r)}))}))}))})).catch((function(e){throw n.close&&(i.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),n.close()),e}))}))},t.prototype._signoutEnd=function(e){return this.processSignoutResponse(e).then((function(e){return i.Log.debug("UserManager._signoutEnd: got signout response"),e}))},t.prototype.revokeAccessToken=function(){var e=this;return this._loadUser().then((function(t){return e._revokeInternal(t,!0).then((function(n){if(n)return i.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),t.access_token=null,t.refresh_token=null,t.expires_at=null,t.token_type=null,e.storeUser(t).then((function(){i.Log.debug("UserManager.revokeAccessToken: user stored"),e._events.load(t)}))}))})).then((function(){i.Log.info("UserManager.revokeAccessToken: access token revoked successfully")}))},t.prototype._revokeInternal=function(e,t){var n=this;if(e){var r=e.access_token,o=e.refresh_token;return this._revokeAccessTokenInternal(r,t).then((function(e){return n._revokeRefreshTokenInternal(o,t).then((function(t){return e||t||i.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),e||t}))}))}return Promise.resolve(!1)},t.prototype._revokeAccessTokenInternal=function(e,t){return!e||e.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(e,t).then((function(){return!0}))},t.prototype._revokeRefreshTokenInternal=function(e,t){return e?this._tokenRevocationClient.revoke(e,t,"refresh_token").then((function(){return!0})):Promise.resolve(!1)},t.prototype.startSilentRenew=function(){this._silentRenewService.start()},t.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},t.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then((function(e){return e?(i.Log.debug("UserManager._loadUser: user storageString loaded"),s.User.fromStorageString(e)):(i.Log.debug("UserManager._loadUser: no user storageString"),null)}))},t.prototype.storeUser=function(e){if(e){i.Log.debug("UserManager.storeUser: storing user");var t=e.toStorageString();return this._userStore.set(this._userStoreKey,t)}return i.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},r(t,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),t}(o.OidcClient)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManagerSettings=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(n(0),n(5)),o=n(40),a=n(41),s=n(43),u=n(6),c=n(1),l=n(8);function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.UserManagerSettings=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.popup_redirect_uri,i=n.popup_post_logout_redirect_uri,h=n.popupWindowFeatures,p=n.popupWindowTarget,g=n.silent_redirect_uri,v=n.silentRequestTimeout,y=n.automaticSilentRenew,m=void 0!==y&&y,_=n.validateSubOnSilentRenew,b=void 0!==_&&_,w=n.includeIdTokenInSilentRenew,x=void 0===w||w,S=n.monitorSession,k=void 0===S||S,E=n.monitorAnonymousSession,P=void 0!==E&&E,A=n.checkSessionInterval,O=void 0===A?2e3:A,C=n.stopCheckSessionOnError,T=void 0===C||C,L=n.query_status_response_type,I=n.revokeAccessTokenOnSignout,j=void 0!==I&&I,F=n.accessTokenExpiringNotificationTime,R=void 0===F?60:F,N=n.redirectNavigator,M=void 0===N?new o.RedirectNavigator:N,D=n.popupNavigator,U=void 0===D?new a.PopupNavigator:D,B=n.iframeNavigator,H=void 0===B?new s.IFrameNavigator:B,z=n.userStore,K=void 0===z?new u.WebStorageStateStore({store:c.Global.sessionStorage}):z;f(this,t);var V=d(this,e.call(this,arguments[0]));return V._popup_redirect_uri=r,V._popup_post_logout_redirect_uri=i,V._popupWindowFeatures=h,V._popupWindowTarget=p,V._silent_redirect_uri=g,V._silentRequestTimeout=v,V._automaticSilentRenew=m,V._validateSubOnSilentRenew=b,V._includeIdTokenInSilentRenew=x,V._accessTokenExpiringNotificationTime=R,V._monitorSession=k,V._monitorAnonymousSession=P,V._checkSessionInterval=O,V._stopCheckSessionOnError=T,L?V._query_status_response_type=L:arguments[0]&&arguments[0].response_type?V._query_status_response_type=l.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":V._query_status_response_type="id_token",V._revokeAccessTokenOnSignout=j,V._redirectNavigator=M,V._popupNavigator=U,V._iframeNavigator=H,V._userStore=K,V}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),t}(i.OidcClientSettings)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RedirectNavigator=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);t.RedirectNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(){return Promise.resolve(this)},e.prototype.navigate=function(e){return e&&e.url?(e.useReplaceToNavigate?window.location.replace(e.url):window.location=e.url,Promise.resolve()):(i.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},r(e,[{key:"url",get:function(){return window.location.href}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupNavigator=void 0;var r=n(0),i=n(42);t.PopupNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){var t=new i.PopupWindow(e);return Promise.resolve(t)},e.prototype.callback=function e(t,n,o){r.Log.debug("PopupNavigator.callback");try{return i.PopupWindow.notifyOpener(t,n,o),Promise.resolve()}catch(e){return Promise.reject(e)}},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupWindow=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=n(3);t.PopupWindow=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=new Promise((function(e,t){n._resolve=e,n._reject=t}));var r=t.popupWindowTarget||"_blank",o=t.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;";this._popup=window.open("",r,o),this._popup&&(i.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return e.prototype.navigate=function(e){return this._popup?e&&e.url?(i.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=e.id,this._id&&(window["popupCallback_"+e.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=e.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},e.prototype._success=function(e){i.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(e)},e.prototype._error=function(e){i.Log.error("PopupWindow.error: ",e),this._cleanup(),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup(!1)},e.prototype._cleanup=function(e){i.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!e&&this._popup.close(),this._popup=null},e.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},e.prototype._callback=function(e,t){this._cleanup(t),e?(i.Log.debug("PopupWindow.callback success"),this._success({url:e})):(i.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},e.notifyOpener=function(e,t,n){if(window.opener){if(e=e||window.location.href){var r=o.UrlUtility.parseUrlFragment(e,n);if(r.state){var a="popupCallback_"+r.state,s=window.opener[a];s?(i.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),s(e,t)):i.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else i.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else i.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},r(e,[{key:"promise",get:function(){return this._promise}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameNavigator=void 0;var r=n(0),i=n(44);t.IFrameNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){var t=new i.IFrameWindow(e);return Promise.resolve(t)},e.prototype.callback=function e(t){r.Log.debug("IFrameNavigator.callback");try{return i.IFrameWindow.notifyParent(t),Promise.resolve()}catch(e){return Promise.reject(e)}},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameWindow=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);t.IFrameWindow=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=new Promise((function(e,t){n._resolve=e,n._reject=t})),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return e.prototype.navigate=function(e){if(e&&e.url){var t=e.silentRequestTimeout||1e4;i.Log.debug("IFrameWindow.navigate: Using timeout of:",t),this._timer=window.setTimeout(this._timeout.bind(this),t),this._frame.src=e.url}else this._error("No url provided");return this.promise},e.prototype._success=function(e){this._cleanup(),i.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(e)},e.prototype._error=function(e){this._cleanup(),i.Log.error(e),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup()},e.prototype._cleanup=function(){this._frame&&(i.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},e.prototype._timeout=function(){i.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},e.prototype._message=function(e){if(i.Log.debug("IFrameWindow.message"),this._timer&&e.origin===this._origin&&e.source===this._frame.contentWindow&&"string"==typeof e.data&&(e.data.startsWith("http://")||e.data.startsWith("https://"))){var t=e.data;t?this._success({url:t}):this._error("Invalid response from frame")}},e.notifyParent=function(e){i.Log.debug("IFrameWindow.notifyParent"),(e=e||window.location.href)&&(i.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(e,location.protocol+"//"+location.host))},r(e,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManagerEvents=void 0;var r=n(0),i=n(16),o=n(17);t.UserManagerEvents=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r._userLoaded=new o.Event("User loaded"),r._userUnloaded=new o.Event("User unloaded"),r._silentRenewError=new o.Event("Silent renew error"),r._userSignedIn=new o.Event("User signed in"),r._userSignedOut=new o.Event("User signed out"),r._userSessionChanged=new o.Event("User session changed"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.load=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r.Log.debug("UserManagerEvents.load"),e.prototype.load.call(this,t),n&&this._userLoaded.raise(t)},t.prototype.unload=function(){r.Log.debug("UserManagerEvents.unload"),e.prototype.unload.call(this),this._userUnloaded.raise()},t.prototype.addUserLoaded=function(e){this._userLoaded.addHandler(e)},t.prototype.removeUserLoaded=function(e){this._userLoaded.removeHandler(e)},t.prototype.addUserUnloaded=function(e){this._userUnloaded.addHandler(e)},t.prototype.removeUserUnloaded=function(e){this._userUnloaded.removeHandler(e)},t.prototype.addSilentRenewError=function(e){this._silentRenewError.addHandler(e)},t.prototype.removeSilentRenewError=function(e){this._silentRenewError.removeHandler(e)},t.prototype._raiseSilentRenewError=function(e){r.Log.debug("UserManagerEvents._raiseSilentRenewError",e.message),this._silentRenewError.raise(e)},t.prototype.addUserSignedIn=function(e){this._userSignedIn.addHandler(e)},t.prototype.removeUserSignedIn=function(e){this._userSignedIn.removeHandler(e)},t.prototype._raiseUserSignedIn=function(){r.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},t.prototype.addUserSignedOut=function(e){this._userSignedOut.addHandler(e)},t.prototype.removeUserSignedOut=function(e){this._userSignedOut.removeHandler(e)},t.prototype._raiseUserSignedOut=function(){r.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},t.prototype.addUserSessionChanged=function(e){this._userSessionChanged.addHandler(e)},t.prototype.removeUserSessionChanged=function(e){this._userSessionChanged.removeHandler(e)},t.prototype._raiseUserSessionChanged=function(){r.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},t}(i.AccessTokenEvents)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=n(1),a=n(17);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.Timer=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Global.timer,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;s(this,t);var a=u(this,e.call(this,n));return a._timer=r,a._nowFunc=i||function(){return Date.now()/1e3},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.init=function(e){e<=0&&(e=1),e=parseInt(e);var t=this.now+e;if(this.expiration===t&&this._timerHandle)i.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),i.Log.debug("Timer.init timer "+this._name+" for duration:",e),this._expiration=t;var n=5;e<n&&(n=e),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*n)}},t.prototype.cancel=function(){this._timerHandle&&(i.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},t.prototype._callback=function(){var t=this._expiration-this.now;i.Log.debug("Timer.callback; "+this._name+" timer expires in:",t),this._expiration<=this.now&&(this.cancel(),e.prototype.raise.call(this))},r(t,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),t}(a.Event)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SilentRenewService=void 0;var r=n(0);t.SilentRenewService=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userManager=t}return e.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then((function(e){})).catch((function(e){r.Log.error("SilentRenewService.start: Error from getUser:",e.message)})))},e.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},e.prototype._tokenExpiring=function(){var e=this;this._userManager.signinSilent().then((function(e){r.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")}),(function(t){r.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",t.message),e._userManager.events._raiseSilentRenewError(t)}))},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaPopupNavigator=void 0;var r=n(21);t.CordovaPopupNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){var t=new r.CordovaPopupWindow(e);return Promise.resolve(t)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaIFrameNavigator=void 0;var r=n(21);t.CordovaIFrameNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){e.popupWindowFeatures="hidden=yes";var t=new r.CordovaPopupWindow(e);return Promise.resolve(t)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Version="1.11.5"}])},e.exports=r()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(14);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){!function(e){"use strict";var t="1.7.1";function n(e){var t,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(t in i=arguments[n])e[t]=i[t];return e}var r=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function i(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var r=n.call(arguments,2);return function(){return e.apply(t,r.length?r.concat(n.call(arguments)):arguments)}}var o=0;function a(e){return e._leaflet_id=e._leaflet_id||++o,e._leaflet_id}function s(e,t,n){var r,i,o,a;return a=function(){r=!1,i&&(o.apply(n,i),i=!1)},o=function(){r?i=arguments:(e.apply(n,arguments),setTimeout(a,t),r=!0)},o}function u(e,t,n){var r=t[1],i=t[0],o=r-i;return e===r&&n?e:((e-i)%o+o)%o+i}function c(){return!1}function l(e,t){var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function f(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function d(e){return f(e).split(/\s+/)}function h(e,t){for(var n in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?r(e.options):{}),t)e.options[n]=t[n];return e.options}function p(e,t,n){var r=[];for(var i in e)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(e[i]));return(t&&-1!==t.indexOf("?")?"&":"?")+r.join("&")}var g=/\{ *([\w_-]+) *\}/g;function v(e,t){return e.replace(g,(function(e,n){var r=t[n];if(void 0===r)throw new Error("No value provided for variable "+e);return"function"===typeof r&&(r=r(t)),r}))}var y=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function m(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var _="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function b(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var w=0;function x(e){var t=+new Date,n=Math.max(0,16-(t-w));return w=t+n,window.setTimeout(e,n)}var S=window.requestAnimationFrame||b("RequestAnimationFrame")||x,k=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function E(e,t,n){if(!n||S!==x)return S.call(window,i(e,t));e.call(t)}function P(e){e&&k.call(window,e)}var A={extend:n,create:r,bind:i,lastId:o,stamp:a,throttle:s,wrapNum:u,falseFn:c,formatNum:l,trim:f,splitWords:d,setOptions:h,getParamString:p,template:v,isArray:y,indexOf:m,emptyImageUrl:_,requestFn:S,cancelFn:k,requestAnimFrame:E,cancelAnimFrame:P};function O(){}function C(e){if("undefined"!==typeof L&&L&&L.Mixin){e=y(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}O.extend=function(e){var t=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=t.__super__=this.prototype,o=r(i);for(var a in o.constructor=t,t.prototype=o,this)Object.prototype.hasOwnProperty.call(this,a)&&"prototype"!==a&&"__super__"!==a&&(t[a]=this[a]);return e.statics&&(n(t,e.statics),delete e.statics),e.includes&&(C(e.includes),n.apply(null,[o].concat(e.includes)),delete e.includes),o.options&&(e.options=n(r(o.options),e.options)),n(o,e),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=o._initHooks.length;e<t;e++)o._initHooks[e].call(this)}},t},O.include=function(e){return n(this.prototype,e),this},O.mergeOptions=function(e){return n(this.prototype.options,e),this},O.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"===typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var T={on:function(e,t,n){if("object"===typeof e)for(var r in e)this._on(r,e[r],t);else for(var i=0,o=(e=d(e)).length;i<o;i++)this._on(e[i],t,n);return this},off:function(e,t,n){if(e)if("object"===typeof e)for(var r in e)this._off(r,e[r],t);else for(var i=0,o=(e=d(e)).length;i<o;i++)this._off(e[i],t,n);else delete this._events;return this},_on:function(e,t,n){this._events=this._events||{};var r=this._events[e];r||(r=[],this._events[e]=r),n===this&&(n=void 0);for(var i={fn:t,ctx:n},o=r,a=0,s=o.length;a<s;a++)if(o[a].fn===t&&o[a].ctx===n)return;o.push(i)},_off:function(e,t,n){var r,i,o;if(this._events&&(r=this._events[e]))if(t){if(n===this&&(n=void 0),r)for(i=0,o=r.length;i<o;i++){var a=r[i];if(a.ctx===n&&a.fn===t)return a.fn=c,this._firingCount&&(this._events[e]=r=r.slice()),void r.splice(i,1)}}else{for(i=0,o=r.length;i<o;i++)r[i].fn=c;delete this._events[e]}},fire:function(e,t,r){if(!this.listens(e,r))return this;var i=n({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var o=this._events[e];if(o){this._firingCount=this._firingCount+1||1;for(var a=0,s=o.length;a<s;a++){var u=o[a];u.fn.call(u.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens:function(e,t){var n=this._events&&this._events[e];if(n&&n.length)return!0;if(t)for(var r in this._eventParents)if(this._eventParents[r].listens(e,t))return!0;return!1},once:function(e,t,n){if("object"===typeof e){for(var r in e)this.once(r,e[r],t);return this}var o=i((function(){this.off(e,t,n).off(e,o,n)}),this);return this.on(e,t,n).on(e,o,n)},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[a(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[a(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,n({layer:e.target,propagatedFrom:e.target},e),!0)}};T.addEventListener=T.on,T.removeEventListener=T.clearAllEventListeners=T.off,T.addOneTimeEventListener=T.once,T.fireEvent=T.fire,T.hasEventListeners=T.listens;var I=O.extend(T);function j(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var F=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function R(e,t,n){return e instanceof j?e:y(e)?new j(e[0],e[1]):void 0===e||null===e?e:"object"===typeof e&&"x"in e&&"y"in e?new j(e.x,e.y):new j(e,t,n)}function N(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function M(e,t){return!e||e instanceof N?e:new N(e,t)}function D(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function U(e,t){return e instanceof D?e:new D(e,t)}function B(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function H(e,t,n){return e instanceof B?e:y(e)&&"object"!==typeof e[0]?3===e.length?new B(e[0],e[1],e[2]):2===e.length?new B(e[0],e[1]):null:void 0===e||null===e?e:"object"===typeof e&&"lat"in e?new B(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new B(e,t,n)}j.prototype={clone:function(){return new j(this.x,this.y)},add:function(e){return this.clone()._add(R(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(R(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new j(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new j(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=F(this.x),this.y=F(this.y),this},distanceTo:function(e){var t=(e=R(e)).x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return(e=R(e)).x===this.x&&e.y===this.y},contains:function(e){return e=R(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+l(this.x)+", "+l(this.y)+")"}},N.prototype={extend:function(e){return e=R(e),this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)):(this.min=e.clone(),this.max=e.clone()),this},getCenter:function(e){return new j((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new j(this.min.x,this.max.y)},getTopRight:function(){return new j(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return(e="number"===typeof e[0]||e instanceof j?R(e):M(e))instanceof N?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=M(e);var t=this.min,n=this.max,r=e.min,i=e.max,o=i.x>=t.x&&r.x<=n.x,a=i.y>=t.y&&r.y<=n.y;return o&&a},overlaps:function(e){e=M(e);var t=this.min,n=this.max,r=e.min,i=e.max,o=i.x>t.x&&r.x<n.x,a=i.y>t.y&&r.y<n.y;return o&&a},isValid:function(){return!(!this.min||!this.max)}},D.prototype={extend:function(e){var t,n,r=this._southWest,i=this._northEast;if(e instanceof B)t=e,n=e;else{if(!(e instanceof D))return e?this.extend(H(e)||U(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return r||i?(r.lat=Math.min(t.lat,r.lat),r.lng=Math.min(t.lng,r.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new B(t.lat,t.lng),this._northEast=new B(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,r=Math.abs(t.lat-n.lat)*e,i=Math.abs(t.lng-n.lng)*e;return new D(new B(t.lat-r,t.lng-i),new B(n.lat+r,n.lng+i))},getCenter:function(){return new B((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new B(this.getNorth(),this.getWest())},getSouthEast:function(){return new B(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"===typeof e[0]||e instanceof B||"lat"in e?H(e):U(e);var t,n,r=this._southWest,i=this._northEast;return e instanceof D?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=r.lat&&n.lat<=i.lat&&t.lng>=r.lng&&n.lng<=i.lng},intersects:function(e){e=U(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),o=i.lat>=t.lat&&r.lat<=n.lat,a=i.lng>=t.lng&&r.lng<=n.lng;return o&&a},overlaps:function(e){e=U(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),o=i.lat>t.lat&&r.lat<n.lat,a=i.lng>t.lng&&r.lng<n.lng;return o&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=U(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},B.prototype={equals:function(e,t){return!!e&&(e=H(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+l(this.lat,e)+", "+l(this.lng,e)+")"},distanceTo:function(e){return K.distance(this,H(e))},wrap:function(){return K.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return U([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new B(this.lat,this.lng,this.alt)}};var z={latLngToPoint:function(e,t){var n=this.projection.project(e),r=this.scale(t);return this.transformation._transform(n,r)},pointToLatLng:function(e,t){var n=this.scale(t),r=this.transformation.untransform(e,n);return this.projection.unproject(r)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new N(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?u(e.lng,this.wrapLng,!0):e.lng;return new B(this.wrapLat?u(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),r=t.lat-n.lat,i=t.lng-n.lng;if(0===r&&0===i)return e;var o=e.getSouthWest(),a=e.getNorthEast();return new D(new B(o.lat-r,o.lng-i),new B(a.lat-r,a.lng-i))}},K=n({},z,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,r=e.lat*n,i=t.lat*n,o=Math.sin((t.lat-e.lat)*n/2),a=Math.sin((t.lng-e.lng)*n/2),s=o*o+Math.cos(r)*Math.cos(i)*a*a,u=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*u}}),V=6378137,W={R:V,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,e.lat),-n),i=Math.sin(r*t);return new j(this.R*e.lng*t,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(e){var t=180/Math.PI;return new B((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=V*Math.PI;return new N([-e,-e],[e,e])}()};function q(e,t,n,r){if(y(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=r}function J(e,t,n,r){return new q(e,t,n,r)}q.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new j((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var Z=n({},K,{code:"EPSG:3857",projection:W,transformation:function(){var e=.5/(Math.PI*W.R);return J(e,.5,-e,.5)}()}),G=n({},Z,{code:"EPSG:900913"});function Y(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function $(e,t){var n,r,i,o,a,s,u="";for(n=0,i=e.length;n<i;n++){for(r=0,o=(a=e[n]).length;r<o;r++)u+=(r?"L":"M")+(s=a[r]).x+" "+s.y;u+=t?Ce?"z":"x":""}return u||"M0 0"}var Q=document.documentElement.style,X="ActiveXObject"in window,ee=X&&!document.addEventListener,te="msLaunchUri"in navigator&&!("documentMode"in document),ne=Le("webkit"),re=Le("android"),ie=Le("android 2")||Le("android 3"),oe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ae=re&&Le("Google")&&oe<537&&!("AudioNode"in window),se=!!window.opera,ue=!te&&Le("chrome"),ce=Le("gecko")&&!ne&&!se&&!X,le=!ue&&Le("safari"),fe=Le("phantom"),de="OTransition"in Q,he=0===navigator.platform.indexOf("Win"),pe=X&&"transition"in Q,ge="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ie,ve="MozPerspective"in Q,ye=!window.L_DISABLE_3D&&(pe||ge||ve)&&!de&&!fe,me="undefined"!==typeof orientation||Le("mobile"),_e=me&&ne,be=me&&ge,we=!window.PointerEvent&&window.MSPointerEvent,xe=!(!window.PointerEvent&&!we),Se=!window.L_NO_TOUCH&&(xe||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),ke=me&&se,Ee=me&&ce,Pe=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ae=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",c,t),window.removeEventListener("testPassiveEventSupport",c,t)}catch(n){}return e}(),Oe=!!document.createElement("canvas").getContext,Ce=!(!document.createElementNS||!Y("svg").createSVGRect),Te=!Ce&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"===typeof t.adj}catch(n){return!1}}();function Le(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Ie={ie:X,ielt9:ee,edge:te,webkit:ne,android:re,android23:ie,androidStock:ae,opera:se,chrome:ue,gecko:ce,safari:le,phantom:fe,opera12:de,win:he,ie3d:pe,webkit3d:ge,gecko3d:ve,any3d:ye,mobile:me,mobileWebkit:_e,mobileWebkit3d:be,msPointer:we,pointer:xe,touch:Se,mobileOpera:ke,mobileGecko:Ee,retina:Pe,passiveEvents:Ae,canvas:Oe,svg:Ce,vml:Te},je=we?"MSPointerDown":"pointerdown",Fe=we?"MSPointerMove":"pointermove",Re=we?"MSPointerUp":"pointerup",Ne=we?"MSPointerCancel":"pointercancel",Me={},De=!1;function Ue(e,t,n,r){return"touchstart"===t?He(e,n,r):"touchmove"===t?qe(e,n,r):"touchend"===t&&Je(e,n,r),this}function Be(e,t,n){var r=e["_leaflet_"+t+n];return"touchstart"===t?e.removeEventListener(je,r,!1):"touchmove"===t?e.removeEventListener(Fe,r,!1):"touchend"===t&&(e.removeEventListener(Re,r,!1),e.removeEventListener(Ne,r,!1)),this}function He(e,t,n){var r=i((function(e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&Kt(e),We(e,t)}));e["_leaflet_touchstart"+n]=r,e.addEventListener(je,r,!1),De||(document.addEventListener(je,ze,!0),document.addEventListener(Fe,Ke,!0),document.addEventListener(Re,Ve,!0),document.addEventListener(Ne,Ve,!0),De=!0)}function ze(e){Me[e.pointerId]=e}function Ke(e){Me[e.pointerId]&&(Me[e.pointerId]=e)}function Ve(e){delete Me[e.pointerId]}function We(e,t){for(var n in e.touches=[],Me)e.touches.push(Me[n]);e.changedTouches=[e],t(e)}function qe(e,t,n){var r=function(e){e.pointerType===(e.MSPOINTER_TYPE_MOUSE||"mouse")&&0===e.buttons||We(e,t)};e["_leaflet_touchmove"+n]=r,e.addEventListener(Fe,r,!1)}function Je(e,t,n){var r=function(e){We(e,t)};e["_leaflet_touchend"+n]=r,e.addEventListener(Re,r,!1),e.addEventListener(Ne,r,!1)}var Ze=we?"MSPointerDown":xe?"pointerdown":"touchstart",Ge=we?"MSPointerUp":xe?"pointerup":"touchend",Ye="_leaflet_";function $e(e,t,n){var r,i,o=!1,a=250;function s(e){if(xe){if(!e.isPrimary)return;if("mouse"===e.pointerType)return}else if(e.touches.length>1)return;var t=Date.now(),n=t-(r||t);i=e.touches?e.touches[0]:e,o=n>0&&n<=a,r=t}function u(e){if(o&&!i.cancelBubble){if(xe){if("mouse"===e.pointerType)return;var n,a,s={};for(a in i)n=i[a],s[a]=n&&n.bind?n.bind(i):n;i=s}i.type="dblclick",i.button=0,t(i),r=null}}return e[Ye+Ze+n]=s,e[Ye+Ge+n]=u,e[Ye+"dblclick"+n]=t,e.addEventListener(Ze,s,!!Ae&&{passive:!1}),e.addEventListener(Ge,u,!!Ae&&{passive:!1}),e.addEventListener("dblclick",t,!1),this}function Qe(e,t){var n=e[Ye+Ze+t],r=e[Ye+Ge+t],i=e[Ye+"dblclick"+t];return e.removeEventListener(Ze,n,!!Ae&&{passive:!1}),e.removeEventListener(Ge,r,!!Ae&&{passive:!1}),e.removeEventListener("dblclick",i,!1),this}var Xe,et,tt,nt,rt,it=wt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ot=wt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),at="webkitTransition"===ot||"OTransition"===ot?ot+"End":"transitionend";function st(e){return"string"===typeof e?document.getElementById(e):e}function ut(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(e,null);n=r?r[t]:null}return"auto"===n?null:n}function ct(e,t,n){var r=document.createElement(e);return r.className=t||"",n&&n.appendChild(r),r}function lt(e){var t=e.parentNode;t&&t.removeChild(e)}function ft(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function dt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function ht(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function pt(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=mt(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function gt(e,t){if(void 0!==e.classList)for(var n=d(t),r=0,i=n.length;r<i;r++)e.classList.add(n[r]);else if(!pt(e,t)){var o=mt(e);yt(e,(o?o+" ":"")+t)}}function vt(e,t){void 0!==e.classList?e.classList.remove(t):yt(e,f((" "+mt(e)+" ").replace(" "+t+" "," ")))}function yt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function mt(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function _t(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&bt(e,t)}function bt(e,t){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(r)}catch(i){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+r+"(opacity="+t+")"}function wt(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function xt(e,t,n){var r=t||new j(0,0);e.style[it]=(pe?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function St(e,t){e._leaflet_pos=t,ye?xt(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function kt(e){return e._leaflet_pos||new j(0,0)}if("onselectstart"in document)Xe=function(){jt(window,"selectstart",Kt)},et=function(){Rt(window,"selectstart",Kt)};else{var Et=wt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Xe=function(){if(Et){var e=document.documentElement.style;tt=e[Et],e[Et]="none"}},et=function(){Et&&(document.documentElement.style[Et]=tt,tt=void 0)}}function Pt(){jt(window,"dragstart",Kt)}function At(){Rt(window,"dragstart",Kt)}function Ot(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(Ct(),nt=e,rt=e.style.outline,e.style.outline="none",jt(window,"keydown",Ct))}function Ct(){nt&&(nt.style.outline=rt,nt=void 0,rt=void 0,Rt(window,"keydown",Ct))}function Tt(e){do{e=e.parentNode}while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Lt(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var It={TRANSFORM:it,TRANSITION:ot,TRANSITION_END:at,get:st,getStyle:ut,create:ct,remove:lt,empty:ft,toFront:dt,toBack:ht,hasClass:pt,addClass:gt,removeClass:vt,setClass:yt,getClass:mt,setOpacity:_t,testProp:wt,setTransform:xt,setPosition:St,getPosition:kt,disableTextSelection:Xe,enableTextSelection:et,disableImageDrag:Pt,enableImageDrag:At,preventOutline:Ot,restoreOutline:Ct,getSizedParentNode:Tt,getScale:Lt};function jt(e,t,n,r){if("object"===typeof t)for(var i in t)Dt(e,i,t[i],n);else for(var o=0,a=(t=d(t)).length;o<a;o++)Dt(e,t[o],n,r);return this}var Ft="_leaflet_events";function Rt(e,t,n,r){if("object"===typeof t)for(var i in t)Ut(e,i,t[i],n);else if(t)for(var o=0,a=(t=d(t)).length;o<a;o++)Ut(e,t[o],n,r);else{for(var s in e[Ft])Ut(e,s,e[Ft][s]);delete e[Ft]}return this}function Nt(){if(xe)return!(te||le)}var Mt={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Dt(e,t,n,r){var i=t+a(n)+(r?"_"+a(r):"");if(e[Ft]&&e[Ft][i])return this;var o=function(t){return n.call(r||e,t||window.event)},s=o;xe&&0===t.indexOf("touch")?Ue(e,t,o,i):Se&&"dblclick"===t&&!Nt()?$e(e,o,i):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(Mt[t]||t,o,!!Ae&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(o=function(t){t=t||window.event,$t(e,t)&&s(t)},e.addEventListener(Mt[t],o,!1)):e.addEventListener(t,s,!1):"attachEvent"in e&&e.attachEvent("on"+t,o),e[Ft]=e[Ft]||{},e[Ft][i]=o}function Ut(e,t,n,r){var i=t+a(n)+(r?"_"+a(r):""),o=e[Ft]&&e[Ft][i];if(!o)return this;xe&&0===t.indexOf("touch")?Be(e,t,i):Se&&"dblclick"===t&&!Nt()?Qe(e,i):"removeEventListener"in e?e.removeEventListener(Mt[t]||t,o,!1):"detachEvent"in e&&e.detachEvent("on"+t,o),e[Ft][i]=null}function Bt(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,Yt(e),this}function Ht(e){return Dt(e,"wheel",Bt),this}function zt(e){return jt(e,"mousedown touchstart dblclick",Bt),Dt(e,"click",Gt),this}function Kt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Vt(e){return Kt(e),Bt(e),this}function Wt(e,t){if(!t)return new j(e.clientX,e.clientY);var n=Lt(t),r=n.boundingClientRect;return new j((e.clientX-r.left)/n.x-t.clientLeft,(e.clientY-r.top)/n.y-t.clientTop)}var qt=he&&ue?2*window.devicePixelRatio:ce?window.devicePixelRatio:1;function Jt(e){return te?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/qt:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}var Zt={};function Gt(e){Zt[e.type]=!0}function Yt(e){var t=Zt[e.type];return Zt[e.type]=!1,t}function $t(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(r){return!1}return n!==e}var Qt={on:jt,off:Rt,stopPropagation:Bt,disableScrollPropagation:Ht,disableClickPropagation:zt,preventDefault:Kt,stop:Vt,getMousePosition:Wt,getWheelDelta:Jt,fakeStop:Gt,skipped:Yt,isExternalTarget:$t,addListener:jt,removeListener:Rt},Xt=I.extend({run:function(e,t,n,r){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=kt(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=E(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),St(this._el,n),this.fire("step")},_complete:function(){P(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),en=I.extend({options:{crs:Z,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=h(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(H(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ot&&ye&&!ke&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),jt(this._proxy,at,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,r){return t=void 0===t?this._zoom:this._limitZoom(t),e=this._limitCenter(H(e),t,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r&&(void 0!==r.animate&&(r.zoom=n({animate:r.animate},r.zoom),r.pan=n({animate:r.animate,duration:r.duration},r.pan)),this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,r.zoom):this._tryAnimatedPan(e,r.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,t),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(ye?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(ye?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var r=this.getZoomScale(t),i=this.getSize().divideBy(2),o=(e instanceof j?e:this.latLngToContainerPoint(e)).subtract(i).multiplyBy(1-1/r),a=this.containerPointToLatLng(i.add(o));return this.setView(a,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():U(e);var n=R(t.paddingTopLeft||t.padding||[0,0]),r=R(t.paddingBottomRight||t.padding||[0,0]),i=this.getBoundsZoom(e,!1,n.add(r));if((i="number"===typeof t.maxZoom?Math.min(t.maxZoom,i):i)===1/0)return{center:e.getCenter(),zoom:i};var o=r.subtract(n).divideBy(2),a=this.project(e.getSouthWest(),i),s=this.project(e.getNorthEast(),i);return{center:this.unproject(a.add(s).divideBy(2).add(o),i),zoom:i}},fitBounds:function(e,t){if(!(e=U(e)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=R(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Xt,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){gt(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){if(!1===(n=n||{}).animate||!ye)return this.setView(e,t,n);this._stop();var r=this.project(this.getCenter()),i=this.project(e),o=this.getSize(),a=this._zoom;e=H(e),t=void 0===t?a:t;var s=Math.max(o.x,o.y),u=s*this.getZoomScale(a,t),c=i.distanceTo(r)||1,l=1.42,f=l*l;function d(e){var t=(u*u-s*s+(e?-1:1)*f*f*c*c)/(2*(e?u:s)*f*c),n=Math.sqrt(t*t+1)-t;return n<1e-9?-18:Math.log(n)}function h(e){return(Math.exp(e)-Math.exp(-e))/2}function p(e){return(Math.exp(e)+Math.exp(-e))/2}function g(e){return h(e)/p(e)}var v=d(0);function y(e){return s*(p(v)/p(v+l*e))}function m(e){return s*(p(v)*g(v+l*e)-h(v))/f}function _(e){return 1-Math.pow(1-e,1.5)}var b=Date.now(),w=(d(1)-v)/l,x=n.duration?1e3*n.duration:1e3*w*.8;function S(){var n=(Date.now()-b)/x,o=_(n)*w;n<=1?(this._flyToFrame=E(S,this),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(m(o)/c)),a),this.getScaleZoom(s/y(o),a),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),S.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return(e=U(e)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,U(e));return n.equals(r)||this.panTo(r,t),this._enforcingBounds=!1,this},panInside:function(e,t){var n=R((t=t||{}).paddingTopLeft||t.padding||[0,0]),r=R(t.paddingBottomRight||t.padding||[0,0]),i=this.getCenter(),o=this.project(i),a=this.project(e),s=this.getPixelBounds(),u=s.getSize().divideBy(2),c=M([s.min.add(n),s.max.subtract(r)]);if(!c.contains(a)){this._enforcingBounds=!0;var l=o.subtract(a),f=R(a.x+l.x,a.y+l.y);(a.x<c.min.x||a.x>c.max.x)&&(f.x=o.x-l.x,l.x>0?f.x+=u.x-n.x:f.x-=u.x-r.x),(a.y<c.min.y||a.y>c.max.y)&&(f.y=o.y-l.y,l.y>0?f.y+=u.y-n.y:f.y-=u.y-r.y),this.panTo(this.unproject(f),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=n({animate:!1,pan:!0},!0===e?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),o=t.divideBy(2).round(),a=r.divideBy(2).round(),s=o.subtract(a);return s.x||s.y?(e.animate&&e.pan?this.panBy(s):(e.pan&&this._rawPanBy(s),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=n({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=i(this._handleGeolocationResponse,this),r=i(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,r,e):navigator.geolocation.getCurrentPosition(t,r,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(e){var t=new B(e.coords.latitude,e.coords.longitude),n=t.toBounds(2*e.coords.accuracy),r=this._locateOptions;if(r.setView){var i=this.getBoundsZoom(n);this.setView(t,r.maxZoom?Math.min(i,r.maxZoom):i)}var o={latlng:t,bounds:n,timestamp:e.timestamp};for(var a in e.coords)"number"===typeof e.coords[a]&&(o[a]=e.coords[a]);this.fire("locationfound",o)},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),lt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(P(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)lt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=ct("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new D(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=U(e),n=R(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),o=this.getMaxZoom(),a=e.getNorthWest(),s=e.getSouthEast(),u=this.getSize().subtract(n),c=M(this.project(s,r),this.project(a,r)).getSize(),l=ye?this.options.zoomSnap:1,f=u.x/c.x,d=u.y/c.y,h=t?Math.max(f,d):Math.min(f,d);return r=this.getScaleZoom(h,r),l&&(r=Math.round(r/(l/100))*(l/100),r=t?Math.ceil(r/l)*l:Math.floor(r/l)*l),Math.max(i,Math.min(o,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new j(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new N(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"===typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var r=n.zoom(e*n.scale(t));return isNaN(r)?1/0:r},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(H(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(R(e),t)},layerPointToLatLng:function(e){var t=R(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(H(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(H(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(U(e))},distance:function(e,t){return this.options.crs.distance(H(e),H(t))},containerPointToLayerPoint:function(e){return R(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return R(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(R(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(H(e)))},mouseEventToContainerPoint:function(e){return Wt(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=st(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");jt(t,"scroll",this._onScroll,this),this._containerId=a(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&ye,gt(e,"leaflet-container"+(Se?" leaflet-touch":"")+(Pe?" leaflet-retina":"")+(ee?" leaflet-oldie":"")+(le?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=ut(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),St(this._mapPane,new j(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(gt(e.markerPane,"leaflet-zoom-hide"),gt(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t){St(this._mapPane,new j(0,0));var n=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var r=this._zoom!==t;this._moveStart(r,!1)._move(e,t)._moveEnd(r),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n){void 0===t&&(t=this._zoom);var r=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),(r||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return P(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){St(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[a(this._container)]=this;var t=e?Rt:jt;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),ye&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){P(this._resizeRequest),this._resizeRequest=E((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,r=[],i="mouseout"===t||"mouseover"===t,o=e.target||e.srcElement,s=!1;o;){if((n=this._targets[a(o)])&&("click"===t||"preclick"===t)&&!e._simulated&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(t,!0)){if(i&&!$t(o,e))break;if(r.push(n),i)break}if(o===this._container)break;o=o.parentNode}return r.length||s||i||!$t(o,e)||(r=[this]),r},_handleDOMEvent:function(e){if(this._loaded&&!Yt(e)){var t=e.type;"mousedown"!==t&&"keypress"!==t&&"keyup"!==t&&"keydown"!==t||Ot(e.target||e.srcElement),this._fireDOMEvent(e,t)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,r){if("click"===e.type){var i=n({},e);i.type="preclick",this._fireDOMEvent(i,i.type,r)}if(!e._stopped&&(r=(r||[]).concat(this._findEventTargets(e,t))).length){var o=r[0];"contextmenu"===t&&o.listens(t,!0)&&Kt(e);var a={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var s=o.getLatLng&&(!o._radius||o._radius<=10);a.containerPoint=s?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(e),a.layerPoint=this.containerPointToLayerPoint(a.containerPoint),a.latlng=s?o.getLatLng():this.layerPointToLatLng(a.layerPoint)}for(var u=0;u<r.length;u++)if(r[u].fire(t,a,!0),a.originalEvent._stopped||!1===r[u].options.bubblingMouseEvents&&-1!==m(this._mouseEvents,t))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return kt(this._mapPane)||new j(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(r)},_latLngBoundsToNewLayerBounds:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return M([this.project(e.getSouthWest(),t)._subtract(r),this.project(e.getNorthWest(),t)._subtract(r),this.project(e.getSouthEast(),t)._subtract(r),this.project(e.getNorthEast(),t)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var r=this.project(e,t),i=this.getSize().divideBy(2),o=new N(r.subtract(i),r.add(i)),a=this._getBoundsOffset(o,n,t);return a.round().equals([0,0])?e:this.unproject(r.add(a),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),r=new N(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(r,t))},_getBoundsOffset:function(e,t,n){var r=M(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),i=r.min.subtract(e.min),o=r.max.subtract(e.max);return new j(this._rebound(i.x,-o.x),this._rebound(i.y,-o.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),r=ye?this.options.zoomSnap:1;return r&&(e=Math.round(e/r)*r),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){vt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n))&&(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=ct("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",(function(e){var t=it,n=this._proxy.style[t];xt(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){lt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();xt(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(t),i=this._getCenterOffset(e)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(i))&&(E((function(){this._moveStart(!0,!1)._animateZoom(e,t,!0)}),this),!0)},_animateZoom:function(e,t,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,gt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:r}),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&vt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),E((function(){this._moveEnd(!0)}),this))}});function tn(e,t){return new en(e,t)}var nn=O.extend({options:{position:"topright"},initialize:function(e){h(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),r=e._controlCorners[n];return gt(t,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(t,r.firstChild):r.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(lt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),rn=function(e){return new nn(e)};en.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=this._controlContainer=ct("div",t+"control-container",this._container);function r(r,i){var o=t+r+" "+t+i;e[r+i]=ct("div",o,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)lt(this._controlCorners[e]);lt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var on=nn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,r){return n<r?-1:r<n?1:0}},initialize:function(e,t,n){for(var r in h(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,e)this._addLayer(e[r],r);for(r in t)this._addLayer(t[r],r,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return nn.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(a(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){gt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(gt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):vt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return vt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=ct("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),zt(t),Ht(t);var r=this._section=ct("section",e+"-list");n&&(this._map.on("click",this.collapse,this),re||jt(t,{mouseenter:this.expand,mouseleave:this.collapse},this));var i=this._layersLink=ct("a",e+"-toggle",t);i.href="#",i.title="Layers",Se?(jt(i,"click",Vt),jt(i,"click",this.expand,this)):jt(i,"focus",this.expand,this),n||this.expand(),this._baseLayersList=ct("div",e+"-base",r),this._separator=ct("div",e+"-separator",r),this._overlaysList=ct("div",e+"-overlays",r),t.appendChild(r)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&a(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(i((function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)}),this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ft(this._baseLayersList),ft(this._overlaysList),this._layerControlInputs=[];var e,t,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),t=t||r.overlay,e=e||!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(e=e&&i>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(a(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(e){var t,n=document.createElement("label"),r=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=r):t=this._createRadioElement("leaflet-base-layers_"+a(this),r),this._layerControlInputs.push(t),t.layerId=a(e.layer),jt(t,"click",this._onInputClick,this);var i=document.createElement("span");i.innerHTML=" "+e.name;var o=document.createElement("div");return n.appendChild(o),o.appendChild(t),o.appendChild(i),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var e,t,n=this._layerControlInputs,r=[],i=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)e=n[o],t=this._getLayer(e.layerId).layer,e.checked?r.push(t):e.checked||i.push(t);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])&&this._map.removeLayer(i[o]);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])||this._map.addLayer(r[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,r=this._map.getZoom(),i=n.length-1;i>=0;i--)e=n[i],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&r<t.options.minZoom||void 0!==t.options.maxZoom&&r>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),an=function(e,t,n){return new on(e,t,n)},sn=nn.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=ct("div",t+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,r,i){var o=ct("a",n,r);return o.innerHTML=e,o.href="#",o.title=t,o.setAttribute("role","button"),o.setAttribute("aria-label",t),zt(o),jt(o,"click",Vt),jt(o,"click",i,this),jt(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";vt(this._zoomInButton,t),vt(this._zoomOutButton,t),(this._disabled||e._zoom===e.getMinZoom())&&gt(this._zoomOutButton,t),(this._disabled||e._zoom===e.getMaxZoom())&&gt(this._zoomInButton,t)}});en.mergeOptions({zoomControl:!0}),en.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new sn,this.addControl(this.zoomControl))}));var un=function(e){return new sn(e)},cn=nn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=ct("div",t),r=this.options;return this._addScales(r,t+"-line",n),e.on(r.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=ct("div",t,n)),e.imperial&&(this._iScale=ct("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,r,i=3.2808399*e;i>5280?(t=i/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),ln=function(e){return new cn(e)},fn=nn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(e){h(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=ct("div","leaflet-control-attribution"),zt(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),this._container},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(" | ")}}});en.mergeOptions({attributionControl:!0}),en.addInitHook((function(){this.options.attributionControl&&(new fn).addTo(this)}));var dn=function(e){return new fn(e)};nn.Layers=on,nn.Zoom=sn,nn.Scale=cn,nn.Attribution=fn,rn.layers=an,rn.zoom=un,rn.scale=ln,rn.attribution=dn;var hn=O.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});hn.addTo=function(e,t){return e.addHandler(t,this),this};var pn,gn={Events:T},vn=Se?"touchstart mousedown":"mousedown",yn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},mn={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},_n=I.extend({options:{clickTolerance:3},initialize:function(e,t,n,r){h(this,r),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(jt(this._dragStartTarget,vn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(_n._dragging===this&&this.finishDrag(),Rt(this._dragStartTarget,vn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(!e._simulated&&this._enabled&&(this._moved=!1,!pt(this._element,"leaflet-zoom-anim")&&!(_n._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches)&&(_n._dragging=this,this._preventOutline&&Ot(this._element),Pt(),Xe(),!this._moving))){this.fire("down");var t=e.touches?e.touches[0]:e,n=Tt(this._element);this._startPoint=new j(t.clientX,t.clientY),this._parentScale=Lt(n),jt(document,mn[e.type],this._onMove,this),jt(document,yn[e.type],this._onUp,this)}},_onMove:function(e){if(!e._simulated&&this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new j(t.clientX,t.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Kt(e),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=kt(this._element).subtract(n),gt(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),gt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,P(this._animRequest),this._lastEvent=e,this._animRequest=E(this._updatePosition,this,!0)))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),St(this._element,this._newPos),this.fire("drag",e)},_onUp:function(e){!e._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var e in vt(document.body,"leaflet-dragging"),this._lastTarget&&(vt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),mn)Rt(document,mn[e],this._onMove,this),Rt(document,yn[e],this._onUp,this);At(),et(),this._moved&&this._moving&&(P(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,_n._dragging=!1}});function bn(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=Sn(e=En(e,n),n)}function wn(e,t,n){return Math.sqrt(Tn(e,t,n,!0))}function xn(e,t,n){return Tn(e,t,n)}function Sn(e,t){var n=e.length,r=new(typeof Uint8Array!==void 0+""?Uint8Array:Array)(n);r[0]=r[n-1]=1,kn(e,r,t,0,n-1);var i,o=[];for(i=0;i<n;i++)r[i]&&o.push(e[i]);return o}function kn(e,t,n,r,i){var o,a,s,u=0;for(a=r+1;a<=i-1;a++)(s=Tn(e[a],e[r],e[i],!0))>u&&(o=a,u=s);u>n&&(t[o]=1,kn(e,t,n,r,o),kn(e,t,n,o,i))}function En(e,t){for(var n=[e[0]],r=1,i=0,o=e.length;r<o;r++)Cn(e[r],e[i])>t&&(n.push(e[r]),i=r);return i<o-1&&n.push(e[o-1]),n}function Pn(e,t,n,r,i){var o,a,s,u=r?pn:On(e,n),c=On(t,n);for(pn=c;;){if(!(u|c))return[e,t];if(u&c)return!1;s=On(a=An(e,t,o=u||c,n,i),n),o===u?(e=a,u=s):(t=a,c=s)}}function An(e,t,n,r,i){var o,a,s=t.x-e.x,u=t.y-e.y,c=r.min,l=r.max;return 8&n?(o=e.x+s*(l.y-e.y)/u,a=l.y):4&n?(o=e.x+s*(c.y-e.y)/u,a=c.y):2&n?(o=l.x,a=e.y+u*(l.x-e.x)/s):1&n&&(o=c.x,a=e.y+u*(c.x-e.x)/s),new j(o,a,i)}function On(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function Cn(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function Tn(e,t,n,r){var i,o=t.x,a=t.y,s=n.x-o,u=n.y-a,c=s*s+u*u;return c>0&&((i=((e.x-o)*s+(e.y-a)*u)/c)>1?(o=n.x,a=n.y):i>0&&(o+=s*i,a+=u*i)),s=e.x-o,u=e.y-a,r?s*s+u*u:new j(o,a)}function Ln(e){return!y(e[0])||"object"!==typeof e[0][0]&&"undefined"!==typeof e[0][0]}function In(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ln(e)}var jn={simplify:bn,pointToSegmentDistance:wn,closestPointOnSegment:xn,clipSegment:Pn,_getEdgeIntersection:An,_getBitCode:On,_sqClosestPointOnSegment:Tn,isFlat:Ln,_flat:In};function Fn(e,t,n){var r,i,o,a,s,u,c,l,f,d=[1,4,2,8];for(i=0,c=e.length;i<c;i++)e[i]._code=On(e[i],t);for(a=0;a<4;a++){for(l=d[a],r=[],i=0,o=(c=e.length)-1;i<c;o=i++)s=e[i],u=e[o],s._code&l?u._code&l||((f=An(u,s,l,t,n))._code=On(f,t),r.push(f)):(u._code&l&&((f=An(u,s,l,t,n))._code=On(f,t),r.push(f)),r.push(s));e=r}return e}var Rn={clipPolygon:Fn},Nn={project:function(e){return new j(e.lng,e.lat)},unproject:function(e){return new B(e.y,e.x)},bounds:new N([-180,-90],[180,90])},Mn={R:6378137,R_MINOR:6356752.314245179,bounds:new N([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,r=e.lat*t,i=this.R_MINOR/n,o=Math.sqrt(1-i*i),a=o*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/Math.pow((1-a)/(1+a),o/2);return r=-n*Math.log(Math.max(s,1e-10)),new j(e.lng*t*n,r)},unproject:function(e){for(var t,n=180/Math.PI,r=this.R,i=this.R_MINOR/r,o=Math.sqrt(1-i*i),a=Math.exp(-e.y/r),s=Math.PI/2-2*Math.atan(a),u=0,c=.1;u<15&&Math.abs(c)>1e-7;u++)t=o*Math.sin(s),t=Math.pow((1-t)/(1+t),o/2),s+=c=Math.PI/2-2*Math.atan(a*t)-s;return new B(s*n,e.x*n/r)}},Dn={LonLat:Nn,Mercator:Mn,SphericalMercator:W},Un=n({},K,{code:"EPSG:3395",projection:Mn,transformation:function(){var e=.5/(Math.PI*Mn.R);return J(e,.5,-e,.5)}()}),Bn=n({},K,{code:"EPSG:4326",projection:Nn,transformation:J(1/180,1,-1/180,.5)}),Hn=n({},z,{projection:Nn,transformation:J(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)},infinite:!0});z.Earth=K,z.EPSG3395=Un,z.EPSG3857=Z,z.EPSG900913=G,z.EPSG4326=Bn,z.Simple=Hn;var zn=I.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[a(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[a(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",(function(){t.off(n,this)}),this)}this.onAdd(t),this.getAttribution&&t.attributionControl&&t.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),t.fire("layeradd",{layer:this})}}});en.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=a(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=a(e);return this._layers[t]?(this._loaded&&e.onRemove(this),e.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(e.getAttribution()),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return!!e&&a(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){for(var t=0,n=(e=e?y(e)?e:[e]:[]).length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){!isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[a(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=a(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;e=void 0===i.minZoom?e:Math.min(e,i.minZoom),t=void 0===i.maxZoom?t:Math.max(t,i.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Kn=zn.extend({initialize:function(e,t){var n,r;if(h(this,t),this._layers={},e)for(n=0,r=e.length;n<r;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return!!e&&("number"===typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,r=Array.prototype.slice.call(arguments,1);for(t in this._layers)(n=this._layers[t])[e]&&n[e].apply(n,r);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return a(e)}}),Vn=function(e,t){return new Kn(e,t)},Wn=Kn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Kn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Kn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new D;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),qn=function(e,t){return new Wn(e,t)},Jn=O.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(e){h(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(r,e),r},_setIconStyles:function(e,t){var n=this.options,r=n[t+"Size"];"number"===typeof r&&(r=[r,r]);var i=R(r),o=R("shadow"===t&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),o&&(e.style.marginLeft=-o.x+"px",e.style.marginTop=-o.y+"px"),i&&(e.style.width=i.x+"px",e.style.height=i.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return Pe&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Zn(e){return new Jn(e)}var Gn=Jn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return Gn.imagePath||(Gn.imagePath=this._detectIconPath()),(this.options.imagePath||Gn.imagePath)+Jn.prototype._getIconUrl.call(this,e)},_detectIconPath:function(){var e=ct("div","leaflet-default-icon-path",document.body),t=ut(e,"background-image")||ut(e,"backgroundImage");return document.body.removeChild(e),t=null===t||0!==t.indexOf("url")?"":t.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Yn=hn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new _n(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),gt(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&vt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,o=kt(t._icon),a=n.getPixelBounds(),s=n.getPixelOrigin(),u=M(a.min._subtract(s).add(i),a.max._subtract(s).subtract(i));if(!u.contains(o)){var c=R((Math.max(u.max.x,o.x)-u.max.x)/(a.max.x-u.max.x)-(Math.min(u.min.x,o.x)-u.min.x)/(a.min.x-u.min.x),(Math.max(u.max.y,o.y)-u.max.y)/(a.max.y-u.max.y)-(Math.min(u.min.y,o.y)-u.min.y)/(a.min.y-u.min.y)).multiplyBy(r);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),St(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=E(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(P(this._panRequest),this._panRequest=E(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,r=kt(t._icon),i=t._map.layerPointToLatLng(r);n&&St(n,r),t._latlng=i,e.latlng=i,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){P(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),$n=zn.extend({options:{icon:new Gn,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){h(this,t),this._latlng=H(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=H(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),gt(n,t),e.keyboard&&(n.tabIndex="0"),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var i=e.icon.createShadow(this._shadow),o=!1;i!==this._shadow&&(this._removeShadow(),o=!0),i&&(gt(i,t),i.alt=""),this._shadow=i,e.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&o&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),lt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&lt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&St(this._icon,e),this._shadow&&St(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(gt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Yn)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Yn(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&_t(this._icon,e),this._shadow&&_t(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Qn(e,t){return new $n(e,t)}var Xn=zn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return h(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),er=Xn.extend({options:{fill:!0,radius:10},initialize:function(e,t){h(this,t),this._latlng=H(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=H(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return Xn.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),r=[e+n,t+n];this._pxBounds=new N(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function tr(e,t){return new er(e,t)}var nr=er.extend({initialize:function(e,t,r){if("number"===typeof t&&(t=n({},r,{radius:t})),h(this,t),this._latlng=H(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new D(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Xn.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===K.distance){var i=Math.PI/180,o=this._mRadius/K.R/i,a=n.project([t+o,e]),s=n.project([t-o,e]),u=a.add(s).divideBy(2),c=n.unproject(u).lat,l=Math.acos((Math.cos(o*i)-Math.sin(t*i)*Math.sin(c*i))/(Math.cos(t*i)*Math.cos(c*i)))/i;(isNaN(l)||0===l)&&(l=o/Math.cos(Math.PI/180*t)),this._point=u.subtract(n.getPixelOrigin()),this._radius=isNaN(l)?0:u.x-n.project([c,e-l]).x,this._radiusY=u.y-a.y}else{var f=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(f).x}this._updateBounds()}});function rr(e,t,n){return new nr(e,t,n)}var ir=Xn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){h(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,r=1/0,i=null,o=Tn,a=0,s=this._parts.length;a<s;a++)for(var u=this._parts[a],c=1,l=u.length;c<l;c++){var f=o(e,t=u[c-1],n=u[c],!0);f<r&&(r=f,i=o(e,t,n))}return i&&(i.distance=Math.sqrt(r)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,r,i,o,a,s=this._rings[0],u=s.length;if(!u)return null;for(e=0,t=0;e<u-1;e++)t+=s[e].distanceTo(s[e+1])/2;if(0===t)return this._map.layerPointToLatLng(s[0]);for(e=0,r=0;e<u-1;e++)if(i=s[e],o=s[e+1],(r+=n=i.distanceTo(o))>t)return a=(r-t)/n,this._map.layerPointToLatLng([o.x-a*(o.x-i.x),o.y-a*(o.y-i.y)])},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=H(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new D,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Ln(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=Ln(e),r=0,i=e.length;r<i;r++)n?(t[r]=H(e[r]),this._bounds.extend(t[r])):t[r]=this._convertLatLngs(e[r]);return t},_project:function(){var e=new N;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new j(e,e);this._pxBounds=new N([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)])},_projectLatlngs:function(e,t,n){var r,i,o=e[0]instanceof B,a=e.length;if(o){for(i=[],r=0;r<a;r++)i[r]=this._map.latLngToLayerPoint(e[r]),n.extend(i[r]);t.push(i)}else for(r=0;r<a;r++)this._projectLatlngs(e[r],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,r,i,o,a,s,u=this._parts;for(t=0,r=0,i=this._rings.length;t<i;t++)for(n=0,o=(s=this._rings[t]).length;n<o-1;n++)(a=Pn(s[n],s[n+1],e,n,!0))&&(u[r]=u[r]||[],u[r].push(a[0]),a[1]===s[n+1]&&n!==o-2||(u[r].push(a[1]),r++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,r=e.length;n<r;n++)e[n]=bn(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,r,i,o,a,s,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,o=this._parts.length;n<o;n++)for(r=0,i=(a=(s=this._parts[n]).length)-1;r<a;i=r++)if((t||0!==r)&&wn(e,s[i],s[r])<=u)return!0;return!1}});function or(e,t){return new ir(e,t)}ir._flat=In;var ar=ir.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,r,i,o,a,s,u,c=this._rings[0],l=c.length;if(!l)return null;for(o=a=s=0,e=0,t=l-1;e<l;t=e++)n=c[e],r=c[t],i=n.y*r.x-r.y*n.x,a+=(n.x+r.x)*i,s+=(n.y+r.y)*i,o+=3*i;return u=0===o?c[0]:[a/o,s/o],this._map.layerPointToLatLng(u)},_convertLatLngs:function(e){var t=ir.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof B&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){ir.prototype._setLatLngs.call(this,e),Ln(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ln(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new j(t,t);if(e=new N(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var r,i=0,o=this._rings.length;i<o;i++)(r=Fn(this._rings[i],e,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,r,i,o,a,s,u,c=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(i=0,s=this._parts.length;i<s;i++)for(o=0,a=(u=(t=this._parts[i]).length)-1;o<u;a=o++)n=t[o],r=t[a],n.y>e.y!==r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x&&(c=!c);return c||ir.prototype._containsPoint.call(this,e,!0)}});function sr(e,t){return new ar(e,t)}var ur=Wn.extend({initialize:function(e,t){h(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,r,i=y(e)?e:e.features;if(i){for(t=0,n=i.length;t<n;t++)((r=i[t]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var o=this.options;if(o.filter&&!o.filter(e))return this;var a=cr(e,o);return a?(a.feature=vr(e),a.defaultOptions=a.options,this.resetStyle(a),o.onEachFeature&&o.onEachFeature(e,a),this.addLayer(a)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=n({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer((function(t){this._setLayerStyle(t,e)}),this)},_setLayerStyle:function(e,t){e.setStyle&&("function"===typeof t&&(t=t(e.feature)),e.setStyle(t))}});function cr(e,t){var n,r,i,o,a="Feature"===e.type?e.geometry:e,s=a?a.coordinates:null,u=[],c=t&&t.pointToLayer,l=t&&t.coordsToLatLng||fr;if(!s&&!a)return null;switch(a.type){case"Point":return lr(c,e,n=l(s),t);case"MultiPoint":for(i=0,o=s.length;i<o;i++)n=l(s[i]),u.push(lr(c,e,n,t));return new Wn(u);case"LineString":case"MultiLineString":return r=dr(s,"LineString"===a.type?0:1,l),new ir(r,t);case"Polygon":case"MultiPolygon":return r=dr(s,"Polygon"===a.type?1:2,l),new ar(r,t);case"GeometryCollection":for(i=0,o=a.geometries.length;i<o;i++){var f=cr({geometry:a.geometries[i],type:"Feature",properties:e.properties},t);f&&u.push(f)}return new Wn(u);default:throw new Error("Invalid GeoJSON object.")}}function lr(e,t,n,r){return e?e(t,n):new $n(n,r&&r.markersInheritOptions&&r)}function fr(e){return new B(e[1],e[0],e[2])}function dr(e,t,n){for(var r,i=[],o=0,a=e.length;o<a;o++)r=t?dr(e[o],t-1,n):(n||fr)(e[o]),i.push(r);return i}function hr(e,t){return t="number"===typeof t?t:6,void 0!==e.alt?[l(e.lng,t),l(e.lat,t),l(e.alt,t)]:[l(e.lng,t),l(e.lat,t)]}function pr(e,t,n,r){for(var i=[],o=0,a=e.length;o<a;o++)i.push(t?pr(e[o],t-1,n,r):hr(e[o],r));return!t&&n&&i.push(i[0]),i}function gr(e,t){return e.feature?n({},e.feature,{geometry:t}):vr(t)}function vr(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var yr={toGeoJSON:function(e){return gr(this,{type:"Point",coordinates:hr(this.getLatLng(),e)})}};function mr(e,t){return new ur(e,t)}$n.include(yr),nr.include(yr),er.include(yr),ir.include({toGeoJSON:function(e){var t=!Ln(this._latlngs);return gr(this,{type:(t?"Multi":"")+"LineString",coordinates:pr(this._latlngs,t?1:0,!1,e)})}}),ar.include({toGeoJSON:function(e){var t=!Ln(this._latlngs),n=t&&!Ln(this._latlngs[0]),r=pr(this._latlngs,n?2:t?1:0,!0,e);return t||(r=[r]),gr(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),Kn.include({toMultiPoint:function(e){var t=[];return this.eachLayer((function(n){t.push(n.toGeoJSON(e).geometry.coordinates)})),gr(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,r=[];return this.eachLayer((function(t){if(t.toGeoJSON){var i=t.toGeoJSON(e);if(n)r.push(i.geometry);else{var o=vr(i);"FeatureCollection"===o.type?r.push.apply(r,o.features):r.push(o)}}})),n?gr(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var _r=mr,br=zn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=U(t),h(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(gt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){lt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&dt(this._image),this},bringToBack:function(){return this._map&&ht(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=U(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:ct("img");gt(t,"leaflet-image-layer"),this._zoomAnimated&&gt(t,"leaflet-zoom-animated"),this.options.className&&gt(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onload=i(this.fire,this,"load"),t.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;xt(this._image,n,t)},_reset:function(){var e=this._image,t=new N(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();St(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){_t(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)}}),wr=function(e,t,n){return new br(e,t,n)},xr=br.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:ct("video");if(gt(t,"leaflet-image-layer"),this._zoomAnimated&&gt(t,"leaflet-zoom-animated"),this.options.className&&gt(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onloadeddata=i(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),r=[],o=0;o<n.length;o++)r.push(n[o].src);this._url=n.length>0?r:[t.src]}else{y(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted;for(var a=0;a<this._url.length;a++){var s=ct("source");s.src=this._url[a],t.appendChild(s)}}}});function Sr(e,t,n){return new xr(e,t,n)}var kr=br.extend({_initImage:function(){var e=this._image=this._url;gt(e,"leaflet-image-layer"),this._zoomAnimated&&gt(e,"leaflet-zoom-animated"),this.options.className&&gt(e,this.options.className),e.onselectstart=c,e.onmousemove=c}});function Er(e,t,n){return new kr(e,t,n)}var Pr=zn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(e,t){h(this,e),this._source=t},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&_t(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&_t(this._container,1),this.bringToFront()},onRemove:function(e){e._fadeAnimated?(_t(this._container,0),this._removeTimeout=setTimeout(i(lt,void 0,this._container),200)):lt(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=H(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&dt(this._container),this},bringToBack:function(){return this._map&&ht(this._container),this},_prepareOpen:function(e,t,n){if(t instanceof zn||(n=t,t=e),t instanceof Wn)for(var r in e._layers){t=e._layers[r];break}if(!n)if(t.getCenter)n=t.getCenter();else{if(!t.getLatLng)throw new Error("Unable to get source layer LatLng.");n=t.getLatLng()}return this._source=t,this.update(),n},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=R(this.options.offset),n=this._getAnchor();this._zoomAnimated?St(this._container,e.add(n)):t=t.add(e).add(n);var r=this._containerBottom=-t.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=r+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}}),Ar=Pr.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e.openPopup(this),this},onAdd:function(e){Pr.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Xn||this._source.on("preclick",Bt))},onRemove:function(e){Pr.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Xn||this._source.off("preclick",Bt))},getEvents:function(){var e=Pr.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this._close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var e="leaflet-popup",t=this._container=ct("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=ct("div",e+"-content-wrapper",t);if(this._contentNode=ct("div",e+"-content",n),zt(t),Ht(this._contentNode),jt(t,"contextmenu",Bt),this._tipContainer=ct("div",e+"-tip-container",t),this._tip=ct("div",e+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=ct("a",e+"-close-button",t);r.href="#close",r.innerHTML="&#215;",jt(r,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var r=e.offsetHeight,i=this.options.maxHeight,o="leaflet-popup-scrolled";i&&r>i?(t.height=i+"px",gt(e,o)):vt(e,o),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();St(this._container,t.add(n))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var e=this._map,t=parseInt(ut(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,r=this._containerWidth,i=new j(this._containerLeft,-n-this._containerBottom);i._add(kt(this._container));var o=e.layerPointToContainerPoint(i),a=R(this.options.autoPanPadding),s=R(this.options.autoPanPaddingTopLeft||a),u=R(this.options.autoPanPaddingBottomRight||a),c=e.getSize(),l=0,f=0;o.x+r+u.x>c.x&&(l=o.x+r-c.x+u.x),o.x-l-s.x<0&&(l=o.x-s.x),o.y+n+u.y>c.y&&(f=o.y+n-c.y+u.y),o.y-f-s.y<0&&(f=o.y-s.y),(l||f)&&e.fire("autopanstart").panBy([l,f])}},_onCloseButtonClick:function(e){this._close(),Vt(e)},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Or=function(e,t){return new Ar(e,t)};en.mergeOptions({closePopupOnClick:!0}),en.include({openPopup:function(e,t,n){return e instanceof Ar||(e=new Ar(n).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=e,this.addLayer(e))},closePopup:function(e){return e&&e!==this._popup||(e=this._popup,this._popup=null),e&&this.removeLayer(e),this}}),zn.include({bindPopup:function(e,t){return e instanceof Ar?(h(e,t),this._popup=e,e._source=this):(this._popup&&!t||(this._popup=new Ar(t,this)),this._popup.setContent(e)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e,t){return this._popup&&this._map&&(t=this._popup._prepareOpen(this,e,t),this._map.openPopup(this._popup,t)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(e){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(e)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){var t=e.layer||e.target;this._popup&&this._map&&(Vt(e),t instanceof Xn?this.openPopup(e.layer||e.target,e.latlng):this._map.hasLayer(this._popup)&&this._popup._source===t?this.closePopup():this.openPopup(t,e.latlng))},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Cr=Pr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(e){Pr.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(e){Pr.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var e=Pr.prototype.getEvents.call(this);return Se&&!this.options.permanent&&(e.preclick=this._close),e},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ct("div",e)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,n,r=this._map,i=this._container,o=r.latLngToContainerPoint(r.getCenter()),a=r.layerPointToContainerPoint(e),s=this.options.direction,u=i.offsetWidth,c=i.offsetHeight,l=R(this.options.offset),f=this._getAnchor();"top"===s?(t=u/2,n=c):"bottom"===s?(t=u/2,n=0):"center"===s?(t=u/2,n=c/2):"right"===s?(t=0,n=c/2):"left"===s?(t=u,n=c/2):a.x<o.x?(s="right",t=0,n=c/2):(s="left",t=u+2*(l.x+f.x),n=c/2),e=e.subtract(R(t,n,!0)).add(l).add(f),vt(i,"leaflet-tooltip-right"),vt(i,"leaflet-tooltip-left"),vt(i,"leaflet-tooltip-top"),vt(i,"leaflet-tooltip-bottom"),gt(i,"leaflet-tooltip-"+s),St(i,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&_t(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Tr=function(e,t){return new Cr(e,t)};en.include({openTooltip:function(e,t,n){return e instanceof Cr||(e=new Cr(n).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:this.addLayer(e)},closeTooltip:function(e){return e&&this.removeLayer(e),this}}),zn.include({bindTooltip:function(e,t){return e instanceof Cr?(h(e,t),this._tooltip=e,e._source=this):(this._tooltip&&!t||(this._tooltip=new Cr(t,this)),this._tooltip.setContent(e)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),Se&&(n.click=this._openTooltip)),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e,t){return this._tooltip&&this._map&&(t=this._tooltip._prepareOpen(this,e,t),this._map.openTooltip(this._tooltip,t),this._tooltip.options.interactive&&this._tooltip._container&&(gt(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(vt(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(e){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(e)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_openTooltip:function(e){var t=e.layer||e.target;this._tooltip&&this._map&&this.openTooltip(t,this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,n,r=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var Lr=Jn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(n.html instanceof Element?(ft(t),t.appendChild(n.html)):t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=R(n.bgPos);t.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function Ir(e){return new Lr(e)}Jn.Default=Gn;var jr=zn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:me,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){h(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),lt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(dt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ht(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof j?e:new j(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,r=-e(-1/0,1/0),i=0,o=n.length;i<o;i++)t=n[i].style.zIndex,n[i]!==this._container&&t&&(r=e(r,+t));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ee){_t(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(i.current&&i.loaded){var o=Math.min(1,(e-i.loaded)/200);_t(i.el,o),o<1?t=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(P(this._fadeFrame),this._fadeFrame=E(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=ct("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(lt(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[e],i=this._map;return r||((r=this._levels[e]={}).el=ct("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=t,r.origin=i.project(i.unproject(i.getPixelOrigin()),e).round(),r.zoom=e,this._setZoomTransform(r,i.getCenter(),i.getZoom()),c(r.el.offsetWidth),this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var r=t.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)lt(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,r){var i=Math.floor(e/2),o=Math.floor(t/2),a=n-1,s=new j(+i,+o);s.z=+a;var u=this._tileCoordsToKey(s),c=this._tiles[u];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),a>r&&this._retainParent(i,o,a,r))},_retainChildren:function(e,t,n,r){for(var i=2*e;i<2*e+2;i++)for(var o=2*t;o<2*t+2;o++){var a=new j(i,o);a.z=n+1;var s=this._tileCoordsToKey(a),u=this._tiles[s];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<r&&this._retainChildren(i,o,n+1,r))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,r){var i=Math.round(t);i=void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom?void 0:this._clampZoom(i);var o=this.options.updateWhenZooming&&i!==this._tileZoom;r&&!o||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var r=this._map.getZoomScale(n,e.zoom),i=e.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(t,n)).round();ye?xt(e.el,i,r):St(e.el,i)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),r=t.getZoomScale(n,this._tileZoom),i=t.project(e,this._tileZoom).floor(),o=t.getSize().divideBy(2*r);return new N(i.subtract(o),i.add(o))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(e),i=this._pxBoundsToTileRange(r),o=i.getCenter(),a=[],s=this.options.keepBuffer,u=new N(i.getBottomLeft().subtract([s,-s]),i.getTopRight().add([s,-s]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var l=this._tiles[c].coords;l.z===this._tileZoom&&u.contains(new j(l.x,l.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(e,n);else{for(var f=i.min.y;f<=i.max.y;f++)for(var d=i.min.x;d<=i.max.x;d++){var h=new j(d,f);if(h.z=this._tileZoom,this._isValidTile(h)){var p=this._tiles[this._tileCoordsToKey(h)];p?p.current=!0:a.push(h)}}if(a.sort((function(e,t){return e.distanceTo(o)-t.distanceTo(o)})),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var g=document.createDocumentFragment();for(d=0;d<a.length;d++)this._addTile(a[d],g);this._level.el.appendChild(g)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(e);return U(this.options.bounds).overlaps(r)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),r=e.scaleBy(n),i=r.add(n);return[t.unproject(r,e.z),t.unproject(i,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new D(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new j(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(lt(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){gt(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=c,e.onmousemove=c,ee&&this.options.opacity<1&&_t(e,this.options.opacity),re&&!ie&&(e.style.WebkitBackfaceVisibility="hidden")},_addTile:function(e,t){var n=this._getTilePos(e),r=this._tileCoordsToKey(e),o=this.createTile(this._wrapCoords(e),i(this._tileReady,this,e));this._initTile(o),this.createTile.length<2&&E(i(this._tileReady,this,e,null,o)),St(o,n),this._tiles[r]={el:o,coords:e,current:!0},t.appendChild(o),this.fire("tileloadstart",{tile:o,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var r=this._tileCoordsToKey(e);(n=this._tiles[r])&&(n.loaded=+new Date,this._map._fadeAnimated?(_t(n.el,0),P(this._fadeFrame),this._fadeFrame=E(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(gt(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ee||!this._map._fadeAnimated?E(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new j(this._wrapX?u(e.x,this._wrapX):e.x,this._wrapY?u(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new N(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Fr(e){return new jr(e)}var Rr=jr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(e,t){this._url=e,(t=h(this,t)).detectRetina&&Pe&&t.maxZoom>0&&(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom++):(t.zoomOffset++,t.maxZoom--),t.minZoom=Math.max(0,t.minZoom)),"string"===typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),re||this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return jt(n,"load",i(this._tileOnLoad,this,t,n)),jt(n,"error",i(this._tileOnError,this,t,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(e),n},getTileUrl:function(e){var t={r:Pe?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=r),t["-y"]=r}return v(this._url,n(t,this.options))},_tileOnLoad:function(e,t){ee?setTimeout(i(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var r=this.options.errorTileUrl;r&&t.getAttribute("src")!==r&&(t.src=r),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=c,t.onerror=c,t.complete||(t.src=_,lt(t),delete this._tiles[e]))},_removeTile:function(e){var t=this._tiles[e];if(t)return ae||t.el.setAttribute("src",_),jr.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(this._map&&(!n||n.getAttribute("src")!==_))return jr.prototype._tileReady.call(this,e,t,n)}});function Nr(e,t){return new Rr(e,t)}var Mr=Rr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var r=n({},this.defaultWmsParams);for(var i in t)i in this.options||(r[i]=t[i]);var o=(t=h(this,t)).detectRetina&&Pe?2:1,a=this.getTileSize();r.width=a.x*o,r.height=a.y*o,this.wmsParams=r},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,Rr.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,r=M(n.project(t[0]),n.project(t[1])),i=r.min,o=r.max,a=(this._wmsVersion>=1.3&&this._crs===Bn?[i.y,i.x,o.y,o.x]:[i.x,i.y,o.x,o.y]).join(","),s=Rr.prototype.getTileUrl.call(this,e);return s+p(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(e,t){return n(this.wmsParams,e),t||this.redraw(),this}});function Dr(e,t){return new Mr(e,t)}Rr.WMS=Mr,Nr.wms=Dr;var Ur=zn.extend({options:{padding:.1,tolerance:0},initialize:function(e){h(this,e),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&gt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),r=kt(this._container),i=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,t),a=this._map.project(e,t).subtract(o),s=i.multiplyBy(-n).add(r).add(i).subtract(a);ye?xt(this._container,s,n):St(this._container,s)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new N(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Br=Ur.extend({getEvents:function(){var e=Ur.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ur.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");jt(e,"mousemove",this._onMouseMove,this),jt(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),jt(e,"mouseout",this._handleMouseOut,this),this._ctx=e.getContext("2d")},_destroyContainer:function(){P(this._redrawRequest),delete this._ctx,lt(this._container),Rt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Ur.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),r=Pe?2:1;St(t,e.min),t.width=r*n.x,t.height=r*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",Pe&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Ur.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[a(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,r=t.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete e._order,delete this._layers[a(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"===typeof e.options.dashArray){var t,n,r=e.options.dashArray.split(/[, ]+/),i=[];for(n=0;n<r.length;n++){if(t=Number(r[n]),isNaN(t))return;i.push(t)}e.options._dashArray=i}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||E(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new N,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)e=r.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,r,i,o,a=e._parts,s=a.length,u=this._ctx;if(s){for(u.beginPath(),n=0;n<s;n++){for(r=0,i=a[n].length;r<i;r++)o=a[n][r],u[r?"lineTo":"moveTo"](o.x,o.y);t&&u.closePath()}this._fillStroke(u,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,r=Math.max(Math.round(e._radius),1),i=(Math.max(Math.round(e._radiusY),1)||r)/r;1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(t.x,t.y/i,r,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,r=this._map.mouseEventToLayerPoint(e),i=this._drawFirst;i;i=i.next)(t=i.layer).options.interactive&&t._containsPoint(r)&&("click"!==e.type&&"preclick"===e.type||!this._map._draggableMoved(t))&&(n=t);n&&(Gt(e),this._fireEvent([n],e))},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(vt(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,r,o=this._drawFirst;o;o=o.next)(n=o.layer).options.interactive&&n._containsPoint(t)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(e),r&&(gt(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseover"),this._hoveredLayer=r)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(i((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function Hr(e){return Oe?new Br(e):null}var zr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),Kr={_initContainer:function(){this._container=ct("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ur.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=zr("shape");gt(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=zr("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[a(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;lt(t),e.removeInteractiveTarget(t),delete this._layers[a(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,r=e.options,i=e._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(t||(t=e._stroke=zr("stroke")),i.appendChild(t),t.weight=r.weight+"px",t.color=r.color,t.opacity=r.opacity,r.dashArray?t.dashStyle=y(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=r.lineCap.replace("butt","flat"),t.joinstyle=r.lineJoin):t&&(i.removeChild(t),e._stroke=null),r.fill?(n||(n=e._fill=zr("fill")),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),r=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+r+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){dt(e._container)},_bringToBack:function(e){ht(e._container)}},Vr=Te?zr:Y,Wr=Ur.extend({getEvents:function(){var e=Ur.prototype.getEvents.call(this);return e.zoomstart=this._onZoomStart,e},_initContainer:function(){this._container=Vr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Vr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){lt(this._container),Rt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){Ur.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),St(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=Vr("path");e.options.className&&gt(t,e.options.className),e.options.interactive&&gt(t,"leaflet-interactive"),this._updateStyle(e),this._layers[a(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){lt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[a(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,$(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),r="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",i=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(e,i)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){dt(e._path)},_bringToBack:function(e){ht(e._path)}});function qr(e){return Ce||Te?new Wr(e):null}Te&&Wr.include(Kr),en.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&Hr(e)||qr(e)}});var Jr=ar.extend({initialize:function(e,t){ar.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=U(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Zr(e,t){return new Jr(e,t)}Wr.create=Vr,Wr.pointsToPath=$,ur.geometryToLayer=cr,ur.coordsToLatLng=fr,ur.coordsToLatLngs=dr,ur.latLngToCoords=hr,ur.latLngsToCoords=pr,ur.getFeature=gr,ur.asFeature=vr,en.mergeOptions({boxZoom:!0});var Gr=hn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){jt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Rt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){lt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),Xe(),Pt(),this._startPoint=this._map.mouseEventToContainerPoint(e),jt(document,{contextmenu:Vt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=ct("div","leaflet-zoom-box",this._container),gt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new N(this._point,this._startPoint),n=t.getSize();St(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(lt(this._box),vt(this._container,"leaflet-crosshair")),et(),At(),Rt(document,{contextmenu:Vt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var t=new D(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&this._finish()}});en.addInitHook("addHandler","boxZoom",Gr),en.mergeOptions({doubleClickZoom:!0});var Yr=hn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),r=t.options.zoomDelta,i=e.originalEvent.shiftKey?n-r:n+r;"center"===t.options.doubleClickZoom?t.setZoom(i):t.setZoomAround(e.containerPoint,i)}});en.addInitHook("addHandler","doubleClickZoom",Yr),en.mergeOptions({dragging:!0,inertia:!ie,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var $r=hn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new _n(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}gt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){vt(this._map._container,"leaflet-grab"),vt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=U(this._map.options.maxBounds);this._offsetLimit=M(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-t+n)%e+t-n,o=(r+t+n)%e-t-n,a=Math.abs(i+n)<Math.abs(o+n)?i:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(e){var t=this._map,n=t.options,r=!n.inertia||this._times.length<2;if(t.fire("dragend",e),r)t.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=i.multiplyBy(a/o),u=s.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,u),l=s.multiplyBy(c/u),f=c/(n.inertiaDeceleration*a),d=l.multiplyBy(-f/2).round();d.x||d.y?(d=t._limitOffset(d,t.options.maxBounds),E((function(){t.panBy(d,{duration:f,easeLinearity:a,noMoveStart:!0,animate:!0})}))):t.fire("moveend")}}});en.addInitHook("addHandler","dragging",$r),en.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Qr=hn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),jt(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Rt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,r=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,r=this._panKeys={},i=this.keyCodes;for(t=0,n=i.left.length;t<n;t++)r[i.left[t]]=[-1*e,0];for(t=0,n=i.right.length;t<n;t++)r[i.right[t]]=[e,0];for(t=0,n=i.down.length;t<n;t++)r[i.down[t]]=[0,e];for(t=0,n=i.up.length;t<n;t++)r[i.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,r=this._zoomKeys={},i=this.keyCodes;for(t=0,n=i.zoomIn.length;t<n;t++)r[i.zoomIn[t]]=e;for(t=0,n=i.zoomOut.length;t<n;t++)r[i.zoomOut[t]]=-e},_addHooks:function(){jt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Rt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,r=this._map;if(n in this._panKeys)r._panAnim&&r._panAnim._inProgress||(t=this._panKeys[n],e.shiftKey&&(t=R(t).multiplyBy(3)),r.panBy(t),r.options.maxBounds&&r.panInsideBounds(r.options.maxBounds));else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}Vt(e)}}});en.addInitHook("addHandler","keyboard",Qr),en.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Xr=hn.extend({addHooks:function(){jt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Rt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=Jt(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),r),Vt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,o=n?Math.ceil(i/n)*n:i,a=e._limitZoom(t+(this._delta>0?o:-o))-t;this._delta=0,this._startTime=null,a&&("center"===e.options.scrollWheelZoom?e.setZoom(t+a):e.setZoomAround(this._lastMousePos,t+a))}});en.addInitHook("addHandler","scrollWheelZoom",Xr),en.mergeOptions({tap:!0,tapTolerance:15});var ei=hn.extend({addHooks:function(){jt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Rt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(e.touches){if(Kt(e),this._fireClick=!0,e.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var t=e.touches[0],n=t.target;this._startPos=this._newPos=new j(t.clientX,t.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&gt(n,"leaflet-active"),this._holdTimeout=setTimeout(i((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",t))}),this),1e3),this._simulateEvent("mousedown",t),jt(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(e){if(clearTimeout(this._holdTimeout),Rt(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&e&&e.changedTouches){var t=e.changedTouches[0],n=t.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&vt(n,"leaflet-active"),this._simulateEvent("mouseup",t),this._isTapValid()&&this._simulateEvent("click",t)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(e){var t=e.touches[0];this._newPos=new j(t.clientX,t.clientY),this._simulateEvent("mousemove",t)},_simulateEvent:function(e,t){var n=document.createEvent("MouseEvents");n._simulated=!0,t.target._simulatedClick=!0,n.initMouseEvent(e,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}});!Se||xe&&!le||en.addInitHook("addHandler","tap",ei),en.mergeOptions({touchZoom:Se&&!ie,bounceAtZoomLimits:!0});var ti=hn.extend({addHooks:function(){gt(this._map._container,"leaflet-touch-zoom"),jt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){vt(this._map._container,"leaflet-touch-zoom"),Rt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),jt(document,"touchmove",this._onTouchMove,this),jt(document,"touchend",this._onTouchEnd,this),Kt(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]),o=n.distanceTo(r)/this._startDist;if(this._zoom=t.getScaleZoom(o,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&o<1||this._zoom>t.getMaxZoom()&&o>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var a=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===a.x&&0===a.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),P(this._animRequest);var s=i(t._move,t,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=E(s,this,!0),Kt(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,P(this._animRequest),Rt(document,"touchmove",this._onTouchMove,this),Rt(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});en.addInitHook("addHandler","touchZoom",ti),en.BoxZoom=Gr,en.DoubleClickZoom=Yr,en.Drag=$r,en.Keyboard=Qr,en.ScrollWheelZoom=Xr,en.Tap=ei,en.TouchZoom=ti,e.version=t,e.Control=nn,e.control=rn,e.Browser=Ie,e.Evented=I,e.Mixin=gn,e.Util=A,e.Class=O,e.Handler=hn,e.extend=n,e.bind=i,e.stamp=a,e.setOptions=h,e.DomEvent=Qt,e.DomUtil=It,e.PosAnimation=Xt,e.Draggable=_n,e.LineUtil=jn,e.PolyUtil=Rn,e.Point=j,e.point=R,e.Bounds=N,e.bounds=M,e.Transformation=q,e.transformation=J,e.Projection=Dn,e.LatLng=B,e.latLng=H,e.LatLngBounds=D,e.latLngBounds=U,e.CRS=z,e.GeoJSON=ur,e.geoJSON=mr,e.geoJson=_r,e.Layer=zn,e.LayerGroup=Kn,e.layerGroup=Vn,e.FeatureGroup=Wn,e.featureGroup=qn,e.ImageOverlay=br,e.imageOverlay=wr,e.VideoOverlay=xr,e.videoOverlay=Sr,e.SVGOverlay=kr,e.svgOverlay=Er,e.DivOverlay=Pr,e.Popup=Ar,e.popup=Or,e.Tooltip=Cr,e.tooltip=Tr,e.Icon=Jn,e.icon=Zn,e.DivIcon=Lr,e.divIcon=Ir,e.Marker=$n,e.marker=Qn,e.TileLayer=Rr,e.tileLayer=Nr,e.GridLayer=jr,e.gridLayer=Fr,e.SVG=Wr,e.svg=qr,e.Renderer=Ur,e.Canvas=Br,e.canvas=Hr,e.Path=Xn,e.CircleMarker=er,e.circleMarker=tr,e.Circle=nr,e.circle=rr,e.Polyline=ir,e.polyline=or,e.Polygon=ar,e.polygon=sr,e.Rectangle=Jr,e.rectangle=Zr,e.Map=en,e.map=tn;var ni=window.L;e.noConflict=function(){return window.L=ni,this},window.L=e}(t)},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return _}));var r=n(2),i=n.n(r),o={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=i.a.createContext&&i.a.createContext(o),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)},u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function c(e){return e&&e.map((function(e,t){return i.a.createElement(e.tag,s({key:t},e.attr),c(e.child))}))}function l(e){return function(t){return i.a.createElement(f,s({attr:s({},e.attr)},t),c(e.child))}}function f(e){var t=function(t){var n,r=e.attr,o=e.size,a=e.title,c=u(e,["attr","size","title"]),l=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),i.a.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,c,{className:n,style:s(s({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&i.a.createElement("title",null,a),e.children)};return void 0!==a?i.a.createElement(a.Consumer,null,(function(e){return t(e)})):t(o)}function d(e){return l({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"}}]})(e)}function h(e){return l({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(e)}function p(e){return l({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 117.66v346.32c0 11.32 11.43 19.06 21.94 14.86L160 416V32L20.12 87.95A32.006 32.006 0 0 0 0 117.66zM192 416l192 64V96L192 32v384zM554.06 33.16L416 96v384l139.88-55.95A31.996 31.996 0 0 0 576 394.34V48.02c0-11.32-11.43-19.06-21.94-14.86z"}}]})(e)}function g(e){return l({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256c0 90.1 48.2 168.7 120 212.1V288c0-8.8 7.2-16 16-16s16 7.2 16 16v196.7c29.5 12.4 62 19.3 96 19.3s66.5-6.9 96-19.3V288c0-8.8 7.2-16 16-16s16 7.2 16 16v180.1C447.8 424.7 496 346 496 256 496 119 385 8 248 8zm-65.5 216.5c-14.8-13.2-46.2-13.2-61 0L112 233c-3.8 3.3-9.3 4-13.7 1.6-4.4-2.4-6.9-7.4-6.1-12.4 4-25.2 34.2-42.1 59.9-42.1S208 197 212 222.2c.8 5-1.7 10-6.1 12.4-5.8 3.1-11.2.7-13.7-1.6l-9.7-8.5zM248 416c-26.5 0-48-28.7-48-64s21.5-64 48-64 48 28.7 48 64-21.5 64-48 64zm149.8-181.5c-5.8 3.1-11.2.7-13.7-1.6l-9.5-8.5c-14.8-13.2-46.2-13.2-61 0L304 233c-3.8 3.3-9.3 4-13.7 1.6-4.4-2.4-6.9-7.4-6.1-12.4 4-25.2 34.2-42.1 59.9-42.1S400 197 404 222.2c.6 4.9-1.8 9.9-6.2 12.3z"}}]})(e)}function v(e){return l({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"}}]})(e)}function y(e){return l({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function m(e){return l({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function _(e){return l({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return C})),n.d(t,"d",(function(){return L})),n.d(t,"c",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"e",(function(){return p}));var r=n(10);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&i(e),u=t&&i(t),c=s||u;if(e&&i(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,d=a.length;d>=0;d--){var h=a[d];"."===h?o(a,d):".."===h?(o(a,d),f++):f&&(o(a,d),f--)}if(!c)for(;f--;f)a.unshift("..");!c||""===a[0]||a[0]&&i(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var u=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=s(t),i=s(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},c=n(25);function l(e){return"/"===e.charAt(0)?e:"/"+e}function f(e){return"/"===e.charAt(0)?e.substr(1):e}function d(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function h(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function g(e,t,n,i){var o;"string"===typeof e?(o=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),o.state=t):(void 0===(o=Object(r.a)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function v(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&u(e.state,t.state)}function y(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var m=!("undefined"===typeof window||!window.document||!window.document.createElement);function _(e,t){t(window.confirm(e))}var b="popstate",w="hashchange";function x(){try{return window.history.state||{}}catch(e){return{}}}function S(e){void 0===e&&(e={}),m||Object(c.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,f=void 0===u?_:u,v=o.keyLength,S=void 0===v?6:v,k=e.basename?h(l(e.basename)):"";function E(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return k&&(o=d(o,k)),g(o,r,n)}function P(){return Math.random().toString(36).substr(2,S)}var A=y();function O(e){Object(r.a)(B,e),B.length=t.length,A.notifyListeners(B.location,B.action)}function C(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||I(E(e.state))}function T(){I(E(x()))}var L=!1;function I(e){if(L)L=!1,O();else{A.confirmTransitionTo(e,"POP",f,(function(t){t?O({action:"POP",location:e}):function(e){var t=B.location,n=F.indexOf(t.key);-1===n&&(n=0);var r=F.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(L=!0,N(i))}(e)}))}}var j=E(x()),F=[j.key];function R(e){return k+p(e)}function N(e){t.go(e)}var M=0;function D(e){1===(M+=e)&&1===e?(window.addEventListener(b,C),i&&window.addEventListener(w,T)):0===M&&(window.removeEventListener(b,C),i&&window.removeEventListener(w,T))}var U=!1;var B={length:t.length,action:"POP",location:j,createHref:R,push:function(e,r){var i="PUSH",o=g(e,r,P(),B.location);A.confirmTransitionTo(o,i,f,(function(e){if(e){var r=R(o),a=o.key,u=o.state;if(n)if(t.pushState({key:a,state:u},null,r),s)window.location.href=r;else{var c=F.indexOf(B.location.key),l=F.slice(0,c+1);l.push(o.key),F=l,O({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=g(e,r,P(),B.location);A.confirmTransitionTo(o,i,f,(function(e){if(e){var r=R(o),a=o.key,u=o.state;if(n)if(t.replaceState({key:a,state:u},null,r),s)window.location.replace(r);else{var c=F.indexOf(B.location.key);-1!==c&&(F[c]=o.key),O({action:i,location:o})}else window.location.replace(r)}}))},go:N,goBack:function(){N(-1)},goForward:function(){N(1)},block:function(e){void 0===e&&(e=!1);var t=A.setPrompt(e);return U||(D(1),U=!0),function(){return U&&(U=!1,D(-1)),t()}},listen:function(e){var t=A.appendListener(e);return D(1),function(){D(-1),t()}}};return B}var k="hashchange",E={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+f(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:l},slash:{encodePath:l,decodePath:l}};function P(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function A(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function O(e){window.location.replace(P(window.location.href)+"#"+e)}function C(e){void 0===e&&(e={}),m||Object(c.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,o=void 0===i?_:i,a=n.hashType,s=void 0===a?"slash":a,u=e.basename?h(l(e.basename)):"",f=E[s],v=f.encodePath,b=f.decodePath;function w(){var e=b(A());return u&&(e=d(e,u)),g(e)}var x=y();function S(e){Object(r.a)(B,e),B.length=t.length,x.notifyListeners(B.location,B.action)}var C=!1,T=null;function L(){var e,t,n=A(),r=v(n);if(n!==r)O(r);else{var i=w(),a=B.location;if(!C&&(t=i,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(T===p(i))return;T=null,function(e){if(C)C=!1,S();else{var t="POP";x.confirmTransitionTo(e,t,o,(function(n){n?S({action:t,location:e}):function(e){var t=B.location,n=R.lastIndexOf(p(t));-1===n&&(n=0);var r=R.lastIndexOf(p(e));-1===r&&(r=0);var i=n-r;i&&(C=!0,N(i))}(e)}))}}(i)}}var I=A(),j=v(I);I!==j&&O(j);var F=w(),R=[p(F)];function N(e){t.go(e)}var M=0;function D(e){1===(M+=e)&&1===e?window.addEventListener(k,L):0===M&&window.removeEventListener(k,L)}var U=!1;var B={length:t.length,action:"POP",location:F,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=P(window.location.href)),n+"#"+v(u+p(e))},push:function(e,t){var n="PUSH",r=g(e,void 0,void 0,B.location);x.confirmTransitionTo(r,n,o,(function(e){if(e){var t=p(r),i=v(u+t);if(A()!==i){T=t,function(e){window.location.hash=e}(i);var o=R.lastIndexOf(p(B.location)),a=R.slice(0,o+1);a.push(t),R=a,S({action:n,location:r})}else S()}}))},replace:function(e,t){var n="REPLACE",r=g(e,void 0,void 0,B.location);x.confirmTransitionTo(r,n,o,(function(e){if(e){var t=p(r),i=v(u+t);A()!==i&&(T=t,O(i));var o=R.indexOf(p(B.location));-1!==o&&(R[o]=t),S({action:n,location:r})}}))},go:N,goBack:function(){N(-1)},goForward:function(){N(1)},block:function(e){void 0===e&&(e=!1);var t=x.setPrompt(e);return U||(D(1),U=!0),function(){return U&&(U=!1,D(-1)),t()}},listen:function(e){var t=x.appendListener(e);return D(1),function(){D(-1),t()}}};return B}function T(e,t,n){return Math.min(Math.max(e,t),n)}function L(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,s=void 0===a?0:a,u=t.keyLength,c=void 0===u?6:u,l=y();function f(e){Object(r.a)(b,e),b.length=b.entries.length,l.notifyListeners(b.location,b.action)}function d(){return Math.random().toString(36).substr(2,c)}var h=T(s,0,o.length-1),v=o.map((function(e){return g(e,void 0,"string"===typeof e?d():e.key||d())})),m=p;function _(e){var t=T(b.index+e,0,b.entries.length-1),r=b.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var b={length:v.length,action:"POP",location:v[h],index:h,entries:v,createHref:m,push:function(e,t){var r="PUSH",i=g(e,t,d(),b.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=b.index+1,n=b.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),f({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=g(e,t,d(),b.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(b.entries[b.index]=i,f({action:r,location:i}))}))},go:_,goBack:function(){_(-1)},goForward:function(){_(1)},canGo:function(e){var t=b.index+e;return t>=0&&t<b.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return b}},function(e,t,n){"use strict";var r="Invariant failed";t.a=function(e,t){if(!e)throw new Error(r)}},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",(function(){return i}))},function(e,t,n){var r=n(82);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(102),i=n(103),o=n(151);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}}},function(e,t,n){"use strict";var r={};e.exports=r,r.isArray=Array.isArray,r.isBoolean=function(e){return"boolean"===typeof e||"[object Boolean]"===Object.prototype.toString.call(e)},r.isDouble=function(e){return r.isNumber(e)&&(-1!==String(e).indexOf(".")||Math.abs(e)>=1e21)},r.isEmptyObject=function(e){return r.isObject(e)&&0===Object.keys(e).length},r.isNumber=function(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)},r.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},r.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},r.isString=function(e){return"string"===typeof e||"[object String]"===Object.prototype.toString.call(e)},r.isUndefined=function(e){return"undefined"===typeof e}},function(e,t,n){var r=n(65);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){"use strict";var r=n(38),i=n(18),o=n(39),a=n(29),s=n(86).IdentifierIssuer,u=n(32),c=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,l=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,f=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,d={accept:"application/ld+json, application/json"},h={};function p(e,t){if(a.isArray(t))for(var n=0;n<t.length;++n)t[n]=p(e,t[n]);else if(o.isList(t))t["@list"]=p(e,t["@list"]);else if(a.isObject(t)){o.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));for(var r=Object.keys(t).sort(),i=0;i<r.length;++i){var s=r[i];"@id"!==s&&(t[s]=p(e,t[s]))}}return t}e.exports=h,h.IdentifierIssuer=s,h.clone=function(e){if(e&&"object"===typeof e){var t;if(a.isArray(e)){t=[];for(var n=0;n<e.length;++n)t[n]=h.clone(e[n])}else if(e instanceof Map){t=new Map;var o,s=i(e);try{for(s.s();!(o=s.n()).done;){var u=r(o.value,2),c=u[0],l=u[1];t.set(c,h.clone(l))}}catch(v){s.e(v)}finally{s.f()}}else if(e instanceof Set){t=new Set;var f,d=i(e);try{for(d.s();!(f=d.n()).done;){var p=f.value;t.add(h.clone(p))}}catch(v){d.e(v)}finally{d.f()}}else if(a.isObject(e))for(var g in t={},e)t[g]=h.clone(e[g]);else t=e.toString();return t}return e},h.asArray=function(e){return Array.isArray(e)?e:[e]},h.buildHeaders=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e).some((function(e){return"accept"===e.toLowerCase()}));if(t)throw new RangeError('Accept header may not be specified; only "'+d.accept+'" is supported.');return Object.assign({Accept:d.accept},e)},h.parseLinkHeader=function(e){for(var t={},n=e.match(c),r=0;r<n.length;++r){var i=n[r].match(l);if(i){for(var o={target:i[1]},a=i[2];i=f.exec(a);)o[i[1]]=void 0===i[2]?i[3]:i[2];var s=o.rel||"";Array.isArray(t[s])?t[s].push(o):t.hasOwnProperty(s)?t[s]=[t[s],o]:t[s]=o}}return t},h.validateTypeValue=function(e,t){if(!a.isString(e)&&(!a.isArray(e)||!e.every((function(e){return a.isString(e)})))){if(t&&a.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&h.asArray(e["@default"]).every((function(e){return a.isString(e)})))return}throw new u('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}},h.hasProperty=function(e,t){if(e.hasOwnProperty(t)){var n=e[t];return!a.isArray(n)||n.length>0}return!1},h.hasValue=function(e,t,n){if(h.hasProperty(e,t)){var r=e[t],i=o.isList(r);if(a.isArray(r)||i){i&&(r=r["@list"]);for(var s=0;s<r.length;++s)if(h.compareValues(n,r[s]))return!0}else if(!a.isArray(n))return h.compareValues(n,r)}return!1},h.addValue=function(e,t,n,r){if("propertyIsArray"in(r=r||{})||(r.propertyIsArray=!1),"valueIsArray"in r||(r.valueIsArray=!1),"allowDuplicate"in r||(r.allowDuplicate=!0),"prependValue"in r||(r.prependValue=!1),r.valueIsArray)e[t]=n;else if(a.isArray(n)){0===n.length&&r.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),r.prependValue&&(n=n.concat(e[t]),e[t]=[]);for(var i=0;i<n.length;++i)h.addValue(e,t,n[i],r)}else if(e.hasOwnProperty(t)){var o=!r.allowDuplicate&&h.hasValue(e,t,n);a.isArray(e[t])||o&&!r.propertyIsArray||(e[t]=[e[t]]),o||(r.prependValue?e[t].unshift(n):e[t].push(n))}else e[t]=r.propertyIsArray?[n]:n},h.getValues=function(e,t){return[].concat(e[t]||[])},h.removeProperty=function(e,t){delete e[t]},h.removeValue=function(e,t,n,r){"propertyIsArray"in(r=r||{})||(r.propertyIsArray=!1);var i=h.getValues(e,t).filter((function(e){return!h.compareValues(e,n)}));0===i.length?h.removeProperty(e,t):1!==i.length||r.propertyIsArray?e[t]=i:e[t]=i[0]},h.relabelBlankNodes=function(e,t){return p((t=t||{}).issuer||new s("_:b"),e)},h.compareValues=function(e,t){return e===t||(!(!o.isValue(e)||!o.isValue(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(a.isObject(e)&&"@id"in e&&a.isObject(t)&&"@id"in t)&&e["@id"]===t["@id"])},h.compareShortestLeast=function(e,t){return e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1}},function(e,t,n){"use strict";var r=n(6),i=n(27),o=n(28),a=n(49);e.exports=function(e){i(n,e);var t=o(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"An unspecified JSON-LD error occurred.",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"jsonld.Error",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r(this,n),(e=t.call(this,i)).name=o,e.message=i,e.details=a,e}return n}(a(Error))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(57);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(62),i=n(77),o=n(115);function a(e){var t=Object(i.a)();return function(){var n,i=Object(r.a)(e);if(t){var a=Object(r.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(o.a)(this,n)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l}));var r=n(5),i=n(2),o=n.n(i),a=n(51),s=n(17);function u(e){function t(t,n){var r=e(t).current,a=r.instance,u=r.context;return Object(i.useImperativeHandle)(n,(function(){return a})),null==t.children?null:o.a.createElement(s.c,{value:u},t.children)}return Object(i.forwardRef)(t)}function c(e){function t(t,n){var o=Object(i.useState)(!1),s=Object(r.a)(o,2),u=s[0],c=s[1],l=e(t,c).current.instance;Object(i.useImperativeHandle)(n,(function(){return l})),Object(i.useEffect)((function(){u&&l.update()}),[l,u,t.children]);var f=l._contentNode;return f?Object(a.createPortal)(t.children,f):null}return Object(i.forwardRef)(t)}function l(e){function t(t,n){var r=e(t).current.instance;return Object(i.useImperativeHandle)(n,(function(){return r})),null}return Object(i.forwardRef)(t)}},function(e,t,n){var r=n(154),i=n(105),o=n(66),a=n(155);e.exports=function(e){return r(e)||i(e)||o(e)||a()}},function(e,t,n){var r=n(107),i=n(159),o=n(66),a=n(108);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()}},function(e,t,n){"use strict";var r=n(29),i={};e.exports=i,i.isSubject=function(e){return!(!r.isObject(e)||"@value"in e||"@set"in e||"@list"in e)&&(Object.keys(e).length>1||!("@id"in e))},i.isSubjectReference=function(e){return r.isObject(e)&&1===Object.keys(e).length&&"@id"in e},i.isValue=function(e){return r.isObject(e)&&"@value"in e},i.isList=function(e){return r.isObject(e)&&"@list"in e},i.isGraph=function(e){return r.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter((function(e){return"@id"!==e&&"@index"!==e})).length},i.isSimpleGraph=function(e){return i.isGraph(e)&&!("@id"in e)},i.isBlankNode=function(e){return!!r.isObject(e)&&("@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return h}));var r=n(36),i=n(74),o=n(48),a=n(45),s=n(75),u=n(59);function c(e){var t=Object(o.a)((function(t,n){return{instance:e(t),context:n}})),n=Object(i.a)(t);return Object(r.c)(n)}function l(e,t){var n=Object(o.a)(e,t),i=Object(a.a)(n);return Object(r.a)(i)}function f(e,t){var n=Object(o.a)(e),i=Object(s.a)(n,t);return Object(r.b)(i)}function d(e,t){var n=Object(o.a)(e,t),i=Object(u.a)(n);return Object(r.a)(i)}function h(e,t){var n=Object(o.a)(e,t),i=Object(a.a)(n);return Object(r.c)(i)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(20);function i(e,t){var n,i=null!==(n=e.pane)&&void 0!==n?n:t.pane;return i?Object(r.a)(Object(r.a)({},e),{},{pane:i}):e}},function(e,t,n){"use strict";var r=n(29),i={};e.exports=i,i.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},i.parse=function(e,t){for(var n={},r=i.parsers[t||"full"],o=r.regex.exec(e),a=r.keys.length;a--;)n[r.keys[a]]=void 0===o[a]?null:o[a];return("https"===n.scheme&&"443"===n.port||"http"===n.scheme&&"80"===n.port)&&(n.href=n.href.replace(":"+n.port,""),n.authority=n.authority.replace(":"+n.port,""),n.port=null),n.normalizedPath=i.removeDotSegments(n.path),n},i.prependBase=function(e,t){if(null===e)return t;if(i.isAbsolute(t))return t;e&&!r.isString(e)||(e=i.parse(e||""));var n=i.parse(t),o={protocol:e.protocol||""};if(null!==n.authority)o.authority=n.authority,o.path=n.path,o.query=n.query;else if(o.authority=e.authority,""===n.path)o.path=e.path,null!==n.query?o.query=n.query:o.query=e.query;else{if(0===n.path.indexOf("/"))o.path=n.path;else{var a=e.path;((a=a.substr(0,a.lastIndexOf("/")+1)).length>0||e.authority)&&"/"!==a.substr(-1)&&(a+="/"),a+=n.path,o.path=a}o.query=n.query}""!==n.path&&(o.path=i.removeDotSegments(o.path));var s=o.protocol;return null!==o.authority&&(s+="//"+o.authority),s+=o.path,null!==o.query&&(s+="?"+o.query),null!==n.fragment&&(s+="#"+n.fragment),""===s&&(s="./"),s},i.removeBase=function(e,t){if(null===e)return t;e&&!r.isString(e)||(e=i.parse(e||""));var n="";if(""!==e.href?n+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(n+="//"),0!==t.indexOf(n))return t;for(var o=i.parse(t.substr(n.length)),a=e.normalizedPath.split("/"),s=o.normalizedPath.split("/"),u=o.fragment||o.query?0:1;a.length>0&&s.length>u&&a[0]===s[0];)a.shift(),s.shift();var c="";if(a.length>0){a.pop();for(var l=0;l<a.length;++l)c+="../"}return c+=s.join("/"),null!==o.query&&(c+="?"+o.query),null!==o.fragment&&(c+="#"+o.fragment),""===c&&(c="./"),c},i.removeDotSegments=function(e){if(0===e.length)return"";for(var t=e.split("/"),n=[];t.length>0;){var r=t.shift(),i=0===t.length;"."!==r?".."!==r?n.push(r):(n.pop(),i&&n.push("")):i&&n.push("")}return"/"===e[0]&&n.length>0&&""!==n[0]&&n.unshift(""),1===n.length&&""===n[0]?"/":n.join("/")};var o=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;i.isAbsolute=function(e){return r.isString(e)&&o.test(e)},i.isRelative=function(e){return r.isString(e)}},function(e,t,n){e.exports=n(146)()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2);function i(e,t){var n=Object(r.useRef)();Object(r.useEffect)((function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}}),[e,t])}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return c}));var r=n(2),i=n(55),o=n(17),a=n(44),s=n(41);function u(e,t){Object(r.useEffect)((function(){var n;return(null!==(n=t.layerContainer)&&void 0!==n?n:t.map).addLayer(e.instance),function(){var n;null==(n=t.layerContainer)||n.removeLayer(e.instance),t.map.removeLayer(e.instance)}}),[t,e])}function c(e){return function(t){var n=Object(o.d)(),r=e(Object(s.a)(t,n),n);return Object(i.a)(n.map,t.attribution),Object(a.a)(r.current,t.eventHandlers),u(r.current,n),r}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return y}));var r=n(12),i=n(26),o=n(2),a=n.n(o),s=n(24),u=(n(43),n(10)),c=n(22),l=n(25),f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.a)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return a.a.createElement(r.b,{history:this.history,children:this.props.children})},t}(a.a.Component);a.a.Component;var d=function(e,t){return"function"===typeof e?e(t):e},h=function(e,t){return"string"===typeof e?Object(s.c)(e,null,null,t):e},p=function(e){return e},g=a.a.forwardRef;"undefined"===typeof g&&(g=p);var v=g((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=Object(c.a)(e,["innerRef","navigate","onClick"]),s=o.target,l=Object(u.a)({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=p!==g&&t||n,a.a.createElement("a",l)}));var y=g((function(e,t){var n=e.component,i=void 0===n?v:n,o=e.replace,f=e.to,y=e.innerRef,m=Object(c.a)(e,["component","replace","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,(function(e){e||Object(l.a)(!1);var n=e.history,r=h(d(f,e.location),e.location),c=r?n.createHref(r):"",v=Object(u.a)({},m,{href:c,navigate:function(){var t=d(f,e.location),r=Object(s.e)(e.location)===Object(s.e)(h(t));(o||r?n.replace:n.push)(t)}});return p!==g?v.ref=t||y:v.innerRef=y,a.a.createElement(i,v)}))})),m=function(e){return e},_=a.a.forwardRef;"undefined"===typeof _&&(_=m);_((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,o=e.activeClassName,s=void 0===o?"active":o,f=e.activeStyle,p=e.className,g=e.exact,v=e.isActive,b=e.location,w=e.sensitive,x=e.strict,S=e.style,k=e.to,E=e.innerRef,P=Object(c.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,(function(e){e||Object(l.a)(!1);var n=b||e.location,o=h(d(k,n),n),c=o.pathname,A=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),O=A?Object(r.e)(n.pathname,{path:A,exact:g,sensitive:w,strict:x}):null,C=!!(v?v(O,n):O),T="function"===typeof p?p(C):p,L="function"===typeof S?S(C):S;C&&(T=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(T,s),L=Object(u.a)({},L,f));var I=Object(u.a)({"aria-current":C&&i||null,className:T,style:L,to:o},P);return m!==_?I.ref=t||E:I.innerRef=E,a.a.createElement(y,I)}))}))},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2);function i(e,t){return null==t?function(t,n){return Object(r.useRef)(e(t,n))}:function(n,i){var o=Object(r.useRef)(e(n,i)),a=Object(r.useRef)(n),s=o.current.instance;return Object(r.useEffect)((function(){a.current!==n&&(t(s,n,a.current),a.current=n)}),[s,n,i]),o}}},function(e,t,n){var r=n(102),i=n(82),o=n(156),a=n(157);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},s(t)}e.exports=s},function(e,t,n){"use strict";var r=n(37),i=n(0),o=n(38),a=n(18),s=n(8),u=n(31),c=n(32),l=n(29),f=l.isArray,d=l.isObject,h=l.isString,p=l.isUndefined,g=n(42),v=g.isAbsolute,y=g.isRelative,m=g.prependBase,_=n(31),b=_.asArray,w=_.compareShortestLeast,x=new Map,S=/^@[a-zA-Z]+$/,k={};function E(e,t,n,r,i,o){if(null===t||!h(t)||k.isKeyword(t))return t;if(t.match(S))return null;if(r&&r.hasOwnProperty(t)&&!0!==i.get(t)&&k.createTermDefinition({activeCtx:e,localCtx:r,term:t,defined:i,options:o}),(n=n||{}).vocab){var a=e.mappings.get(t);if(null===a)return null;if(d(a)&&"@id"in a)return a["@id"]}var s=t.indexOf(":");if(s>0){var u=t.substr(0,s),c=t.substr(s+1);if("_"===u||0===c.indexOf("//"))return t;r&&r.hasOwnProperty(u)&&k.createTermDefinition({activeCtx:e,localCtx:r,term:u,defined:i,options:o});var l=e.mappings.get(u);if(l&&l._prefix)return l["@id"]+c;if(v(t))return t}if(n.vocab&&"@vocab"in e)return e["@vocab"]+t;if(n.base&&"@base"in e){if(e["@base"])return m(m(o.base,e["@base"]),t)}else if(n.base)return m(o.base,t);return t}function P(e,t){if(!e||"object"!==typeof e||!t||"object"!==typeof t)return e===t;var n=Array.isArray(e);if(n!==Array.isArray(t))return!1;if(n){if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!P(e[r],t[r]))return!1;return!0}var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(var a in e){var s=e[a],u=t[a];if("@container"===a&&Array.isArray(s)&&Array.isArray(u)&&(s=s.slice().sort(),u=u.slice().sort()),!P(s,u))return!1}return!0}e.exports=k,k.process=function(){var e=s(i.mark((function e(t){var n,r,s,l,p,g,_,w,x,S,P,A,O,C,T,L,I,j,F,R,N,M,D,U,B,H,z,K,V,W,q,J,Z,G,Y,$,Q,X;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.activeCtx,r=t.localCtx,s=t.options,l=t.propagate,p=void 0===l||l,g=t.overrideProtected,_=void 0!==g&&g,w=t.cycles,x=void 0===w?new Set:w,d(r)&&"@context"in r&&f(r["@context"])&&(r=r["@context"]),0!==b(r).length){e.next=5;break}return e.abrupt("return",n);case 5:return e.next=7,s.contextResolver.resolve({activeCtx:n,context:r,documentLoader:s.documentLoader,base:s.base});case 7:S=e.sent,d(S[0].document)&&"boolean"===typeof S[0].document["@propagate"]&&(p=S[0].document["@propagate"]),P=n,p||P.previousContext||((P=P.clone()).previousContext=n),A=a(S),e.prev=12,A.s();case 14:if((O=A.n()).done){e.next=164;break}if(C=O.value,T=C.document,n=P,null!==T){e.next=40;break}if(_||0===Object.keys(n.protected).length){e.next=38;break}if("error"!==(L=s&&s.protectedMode||"error")){e.next=25;break}throw new c("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});case 25:if("warn"!==L){e.next=37;break}if(console.warn("WARNING: invalid context nullification"),!(I=C.getProcessed(n))){e.next=31;break}return P=n=I,e.abrupt("continue",162);case 31:for(j=n,P=n=k.getInitialContext(s).clone(),F=0,R=Object.entries(j.protected);F<R.length;F++)N=o(R[F],2),M=N[0],N[1]&&(n.mappings[M]=u.clone(j.mappings[M]));return n.protected=u.clone(j.protected),C.setProcessed(j,P),e.abrupt("continue",162);case 37:throw new c("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:r,protectedMode:L});case 38:return P=n=k.getInitialContext(s).clone(),e.abrupt("continue",162);case 40:if(!(D=C.getProcessed(n))){e.next=44;break}return P=n=D,e.abrupt("continue",162);case 44:if(d(T)&&"@context"in T&&(T=T["@context"]),d(T)){e.next=47;break}throw new c("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:T});case 47:if(P=P.clone(),U=new Map,!("@version"in T)){e.next=57;break}if(1.1===T["@version"]){e.next=52;break}throw new c("Unsupported JSON-LD version: "+T["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:T});case 52:if(!n.processingMode||"json-ld-1.0"!==n.processingMode){e.next=54;break}throw new c("@version: "+T["@version"]+" not compatible with "+n.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:T});case 54:P.processingMode="json-ld-1.1",P["@version"]=T["@version"],U.set("@version",!0);case 57:if(P.processingMode=P.processingMode||n.processingMode,!("@base"in T)){e.next=70;break}if(null!==(B=T["@base"])&&!v(B)){e.next=63;break}e.next=68;break;case 63:if(!y(B)){e.next=67;break}B=m(P["@base"],B),e.next=68;break;case 67:throw new c('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:T});case 68:P["@base"]=B,U.set("@base",!0);case 70:if(!("@vocab"in T)){e.next=86;break}if(null!==(H=T["@vocab"])){e.next=76;break}delete P["@vocab"],e.next=85;break;case 76:if(h(H)){e.next=80;break}throw new c('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:T});case 80:if(v(H)||!k.processingMode(P,1)){e.next=84;break}throw new c('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:T});case 84:P["@vocab"]=E(P,H,{vocab:!0,base:!0},void 0,void 0,s);case 85:U.set("@vocab",!0);case 86:if(!("@language"in T)){e.next=98;break}if(null!==(z=T["@language"])){e.next=92;break}delete P["@language"],e.next=97;break;case 92:if(h(z)){e.next=96;break}throw new c('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:T});case 96:P["@language"]=z.toLowerCase();case 97:U.set("@language",!0);case 98:if(!("@direction"in T)){e.next=112;break}if(K=T["@direction"],"json-ld-1.0"!==n.processingMode){e.next=102;break}throw new c("Invalid JSON-LD syntax; @direction not compatible with "+n.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:T});case 102:if(null!==K){e.next=106;break}delete P["@direction"],e.next=111;break;case 106:if("ltr"===K||"rtl"===K){e.next=110;break}throw new c('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:T});case 110:P["@direction"]=K;case 111:U.set("@direction",!0);case 112:if(!("@propagate"in T)){e.next=119;break}if(V=T["@propagate"],"json-ld-1.0"!==n.processingMode){e.next=116;break}throw new c("Invalid JSON-LD syntax; @propagate not compatible with "+n.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:T});case 116:if("boolean"===typeof V){e.next=118;break}throw new c("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:r});case 118:U.set("@propagate",!0);case 119:if(!("@import"in T)){e.next=141;break}if(W=T["@import"],"json-ld-1.0"!==n.processingMode){e.next=123;break}throw new c("Invalid JSON-LD syntax; @import not compatible with "+n.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:T});case 123:if(h(W)){e.next=125;break}throw new c("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:r});case 125:return e.next=127,s.contextResolver.resolve({activeCtx:n,context:W,documentLoader:s.documentLoader,base:s.base});case 127:if(1===(q=e.sent).length){e.next=130;break}throw new c("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:r});case 130:if(!(J=q[0].getProcessed(n))){e.next=135;break}T=J,e.next=140;break;case 135:if(!("@import"in(Z=q[0].document))){e.next=138;break}throw new c("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:r});case 138:for(G in Z)T.hasOwnProperty(G)||(T[G]=Z[G]);q[0].setProcessed(n,T);case 140:U.set("@import",!0);case 141:U.set("@protected",T["@protected"]||!1),e.t0=i.keys(T);case 143:if((e.t1=e.t0()).done){e.next=161;break}if(Y=e.t1.value,k.createTermDefinition({activeCtx:P,localCtx:T,term:Y,defined:U,options:s,overrideProtected:_}),!d(T[Y])||!("@context"in T[Y])){e.next=159;break}if($=T[Y]["@context"],Q=!0,h($)&&(X=m(s.base,$),x.has(X)?Q=!1:x.add(X)),!Q){e.next=159;break}return e.prev=151,e.next=154,k.process({activeCtx:P.clone(),localCtx:T[Y]["@context"],overrideProtected:!0,options:s,cycles:x});case 154:e.next=159;break;case 156:throw e.prev=156,e.t2=e.catch(151),new c("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:T[Y]["@context"],term:Y});case 159:e.next=143;break;case 161:C.setProcessed(n,P);case 162:e.next=14;break;case 164:e.next=169;break;case 166:e.prev=166,e.t3=e.catch(12),A.e(e.t3);case 169:return e.prev=169,A.f(),e.finish(169);case 172:return e.abrupt("return",P);case 173:case"end":return e.stop()}}),e,null,[[12,166,169,172],[151,156]])})));return function(t){return e.apply(this,arguments)}}(),k.createTermDefinition=function(e){var t,n=e.activeCtx,r=e.localCtx,i=e.term,o=e.defined,a=e.options,s=e.overrideProtected,u=void 0!==s&&s;if(o.has(i)){if(o.get(i))return;throw new c("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:r,term:i})}if(o.set(i,!1),r.hasOwnProperty(i)&&(t=r[i]),"@type"===i&&d(t)&&"@set"===(t["@container"]||"@set")&&k.processingMode(n,1.1)){var l=["@container","@id","@protected"],p=Object.keys(t);if(0===p.length||p.some((function(e){return!l.includes(e)})))throw new c("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:r,term:i})}else{if(k.isKeyword(i))throw new c("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:r,term:i});if(i.match(S))return void console.warn('WARNING: terms beginning with "@" are reserved for future use and ignored',{term:i});if(""===i)throw new c("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:r})}var g=n.mappings.get(i);n.mappings.has(i)&&n.mappings.delete(i);var y=!1;if((h(t)||null===t)&&(y=!0,t={"@id":t}),!d(t))throw new c("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:r});var m={};n.mappings.set(i,m),m.reverse=!1;var _=["@container","@id","@language","@reverse","@type"];for(var b in k.processingMode(n,1.1)&&_.push("@context","@direction","@index","@nest","@prefix","@protected"),t)if(!_.includes(b))throw new c("Invalid JSON-LD syntax; a term definition must not contain "+b,"jsonld.SyntaxError",{code:"invalid term definition",context:r});var w=i.indexOf(":");if(m._termHasColon=w>0,"@reverse"in t){if("@id"in t)throw new c("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:r});if("@nest"in t)throw new c("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:r});var x=t["@reverse"];if(!h(x))throw new c("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:r});if(!k.isKeyword(x)&&x.match(S))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{reverse:x}),void(g?n.mappings.set(i,g):n.mappings.delete(i));var A=E(n,x,{vocab:!0,base:!1},r,o,a);if(!v(A))throw new c("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:r});m["@id"]=A,m.reverse=!0}else if("@id"in t){var O=t["@id"];if(O&&!h(O))throw new c("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:r});if(null===O)m["@id"]=null;else{if(!k.isKeyword(O)&&O.match(S))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{id:O}),void(g?n.mappings.set(i,g):n.mappings.delete(i));if(O!==i){if(O=E(n,O,{vocab:!0,base:!1},r,o,a),!v(O)&&!k.isKeyword(O))throw new c("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:r});if(i.match(/(?::[^:])|\//))if(E(n,i,{vocab:!0,base:!1},r,new Map(o).set(i,!0),a)!==O)throw new c("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:r});m["@id"]=O,m._prefix=y&&!m._termHasColon&&O.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in m))if(m._termHasColon){var C=i.substr(0,w);if(r.hasOwnProperty(C)&&k.createTermDefinition({activeCtx:n,localCtx:r,term:C,defined:o,options:a}),n.mappings.has(C)){var T=i.substr(w+1);m["@id"]=n.mappings.get(C)["@id"]+T}else m["@id"]=i}else if("@type"===i)m["@id"]=i;else{if(!("@vocab"in n))throw new c("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:r,term:i});m["@id"]=n["@vocab"]+i}if((!0===t["@protected"]||!0===o.get("@protected")&&!1!==t["@protected"])&&(n.protected[i]=!0,m.protected=!0),o.set(i,!0),"@type"in t){var L=t["@type"];if(!h(L))throw new c("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:r});if("@json"===L||"@none"===L){if(k.processingMode(n,1))throw new c("Invalid JSON-LD syntax; an @context @type value must not be "+'"'.concat(L,'" in JSON-LD 1.0 mode.'),"jsonld.SyntaxError",{code:"invalid type mapping",context:r})}else if("@id"!==L&&"@vocab"!==L){if(L=E(n,L,{vocab:!0,base:!1},r,o,a),!v(L))throw new c("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:r});if(0===L.indexOf("_:"))throw new c("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:r})}m["@type"]=L}if("@container"in t){var I=h(t["@container"])?[t["@container"]]:t["@container"]||[],j=["@list","@set","@index","@language"],F=!0,R=I.includes("@set");if(k.processingMode(n,1.1)){if(j.push("@graph","@id","@type"),I.includes("@list")){if(1!==I.length)throw new c("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:r})}else if(I.includes("@graph")){if(I.some((function(e){return"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e})))throw new c("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:r})}else F&=I.length<=(R?2:1);if(I.includes("@type")&&(m["@type"]=m["@type"]||"@id",!["@id","@vocab"].includes(m["@type"])))throw new c("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:r})}else F&=!f(t["@container"]),F&=I.length<=1;if(F&=I.every((function(e){return j.includes(e)})),!(F&=!(R&&I.includes("@list"))))throw new c("Invalid JSON-LD syntax; @context @container value must be one of the following: "+j.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:r});if(m.reverse&&!I.every((function(e){return["@index","@set"].includes(e)})))throw new c("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:r});m["@container"]=I}if("@index"in t){if(!("@container"in t)||!m["@container"].includes("@index"))throw new c("Invalid JSON-LD syntax; @index without @index in @container: "+'"'.concat(t["@index"],'" on term "').concat(i,'".'),"jsonld.SyntaxError",{code:"invalid term definition",context:r});if(!h(t["@index"])||0===t["@index"].indexOf("@"))throw new c("Invalid JSON-LD syntax; @index must expand to an IRI: "+'"'.concat(t["@index"],'" on term "').concat(i,'".'),"jsonld.SyntaxError",{code:"invalid term definition",context:r});m["@index"]=t["@index"]}if("@context"in t&&(m["@context"]=t["@context"]),"@language"in t&&!("@type"in t)){var N=t["@language"];if(null!==N&&!h(N))throw new c("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:r});null!==N&&(N=N.toLowerCase()),m["@language"]=N}if("@prefix"in t){if(i.match(/:|\//))throw new c("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:r});if(k.isKeyword(m["@id"]))throw new c("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:r});if("boolean"!==typeof t["@prefix"])throw new c("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:r});m._prefix=!0===t["@prefix"]}if("@direction"in t){var M=t["@direction"];if(null!==M&&"ltr"!==M&&"rtl"!==M)throw new c('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:r});m["@direction"]=M}if("@nest"in t){var D=t["@nest"];if(!h(D)||"@nest"!==D&&0===D.indexOf("@"))throw new c("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:r});m["@nest"]=D}var U=m["@id"];if("@context"===U||"@preserve"===U)throw new c("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:r});if(g&&g.protected&&!u&&(n.protected[i]=!0,m.protected=!0,!P(g,m))){var B=a&&a.protectedMode||"error";if("error"===B)throw new c('Invalid JSON-LD syntax; tried to redefine "'.concat(i,'" which is a ')+"protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:r,term:i});if("warn"===B)return void console.warn("WARNING: protected term redefinition",{term:i});throw new c("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:r,term:i,protectedMode:B})}},k.expandIri=function(e,t,n,r){return E(e,t,n,void 0,void 0,r)},k.getInitialContext=function(e){var t=JSON.stringify({processingMode:e.processingMode}),n=x.get(t);if(n)return n;var i={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:function(){var e=this;if(e.inverse)return e.inverse;var t,n=e.inverse={},i=e.fastCurieMap={},u={},c=(e["@language"]||"@none").toLowerCase(),l=e["@direction"],f=e.mappings,d=r(f.keys()).sort(w),h=a(d);try{for(h.s();!(t=h.n()).done;){var p=t.value,g=f.get(p);if(null!==g){var v=g["@container"]||"@none";if(v=[].concat(v).sort().join(""),null!==g["@id"]){var y,m=b(g["@id"]),_=a(m);try{for(_.s();!(y=_.n()).done;){var x=y.value,S=n[x],E=k.isKeyword(x);if(S)E||g._termHasColon||u[x].push(p);else if(n[x]=S={},!E&&!g._termHasColon){u[x]=[p];var P={iri:x,terms:u[x]};x[0]in i?i[x[0]].push(P):i[x[0]]=[P]}if(S[v]||(S[v]={"@language":{},"@type":{},"@any":{}}),S=S[v],s(p,S["@any"],"@none"),g.reverse)s(p,S["@type"],"@reverse");else if("@none"===g["@type"])s(p,S["@any"],"@none"),s(p,S["@language"],"@none"),s(p,S["@type"],"@none");else if("@type"in g)s(p,S["@type"],g["@type"]);else if("@language"in g&&"@direction"in g){var A=g["@language"],O=g["@direction"];s(p,S["@language"],A&&O?"".concat(A,"_").concat(O).toLowerCase():A?A.toLowerCase():O?"_".concat(O):"@null")}else"@language"in g?s(p,S["@language"],(g["@language"]||"@null").toLowerCase()):"@direction"in g?g["@direction"]?s(p,S["@language"],"_".concat(g["@direction"])):s(p,S["@language"],"@none"):l?(s(p,S["@language"],"_".concat(l)),s(p,S["@language"],"@none"),s(p,S["@type"],"@none")):(s(p,S["@language"],c),s(p,S["@language"],"@none"),s(p,S["@type"],"@none"))}}catch(T){_.e(T)}finally{_.f()}}}}}catch(T){h.e(T)}finally{h.f()}for(var C in i)o(i,C,1);return n},clone:function(){var e={};e.mappings=u.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,e.protected=u.clone(this.protected),this.previousContext&&(e.previousContext=this.previousContext.clone());e.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(e["@base"]=this["@base"]);"@language"in this&&(e["@language"]=this["@language"]);"@vocab"in this&&(e["@vocab"]=this["@vocab"]);return e},revertToPreviousContext:function(){if(!this.previousContext)return this;return this.previousContext.clone()},protected:{}};return 1e4===x.size&&x.clear(),x.set(t,i),i;function o(e,t,n){var r,i,s,u=e[t],c=e[t]={},l=a(u);try{for(l.s();!(s=l.n()).done;){var f=s.value;(i=n>=(r=f.iri).length?"":r[n])in c?c[i].push(f):c[i]=[f]}}catch(h){l.e(h)}finally{l.f()}for(var d in c)""!==d&&o(c,d,n+1)}function s(e,t,n){t.hasOwnProperty(n)||(t[n]=e)}},k.getContextValue=function(e,t,n){if(null===t){if("@context"===n)return;return null}if(e.mappings.has(t)){var r=e.mappings.get(t);if(p(n))return r;if(r.hasOwnProperty(n))return r[n]}return"@language"===n&&n in e||"@direction"===n&&n in e?e[n]:"@context"!==n?null:void 0},k.processingMode=function(e,t){return t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():"json-ld-1.0"===e.processingMode},k.isKeyword=function(e){if(!h(e)||"@"!==e[0])return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(142)},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return V})),n.d(t,"c",(function(){return G})),n.d(t,"d",(function(){return X}));var r=n(2),i=n.n(r),o=(n(43),i.a.createContext(null));var a=function(e){e()};function s(){var e=a,t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var u={notify:function(){},get:function(){return[]}};function c(e,t){var n,r=u;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=s())}var a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=u)},getListeners:function(){return r}};return a}var l="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect;var f=function(e){var t=e.store,n=e.context,a=e.children,s=Object(r.useMemo)((function(){var e=c(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),u=Object(r.useMemo)((function(){return t.getState()}),[t]);l((function(){var e=s.subscription;return e.trySubscribe(),u!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[s,u]);var f=n||o;return i.a.createElement(f.Provider,{value:s},a)},d=n(10),h=n(22),p=n(60),g=n.n(p),v=n(131),y=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],m=["reactReduxForwardedRef"],_=[],b=[null,null];function w(e,t){var n=e[1];return[t.payload,n+1]}function x(e,t,n){l((function(){return e.apply(void 0,t)}),n)}function S(e,t,n,r,i,o,a){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,a())}function k(e,t,n,r,i,o,a,s,u,c){if(e){var l=!1,f=null,d=function(){if(!l){var e,n,d=t.getState();try{e=r(d,i.current)}catch(h){n=h,f=h}n||(f=null),e===o.current?a.current||u():(o.current=e,s.current=e,a.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=d,n.trySubscribe(),d();return function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}}var E=function(){return[null,0]};function P(e,t){void 0===t&&(t={});var n=t,a=n.getDisplayName,s=void 0===a?function(e){return"ConnectAdvanced("+e+")"}:a,u=n.methodName,l=void 0===u?"connectAdvanced":u,f=n.renderCountProp,p=void 0===f?void 0:f,P=n.shouldHandleStateChanges,A=void 0===P||P,O=n.storeKey,C=void 0===O?"store":O,T=(n.withRef,n.forwardRef),L=void 0!==T&&T,I=n.context,j=void 0===I?o:I,F=Object(h.a)(n,y),R=j;return function(t){var n=t.displayName||t.name||"Component",o=s(n),a=Object(d.a)({},F,{getDisplayName:s,methodName:l,renderCountProp:p,shouldHandleStateChanges:A,storeKey:C,displayName:o,wrappedComponentName:n,WrappedComponent:t}),u=F.pure;var f=u?r.useMemo:function(e){return e()};function y(n){var o=Object(r.useMemo)((function(){var e=n.reactReduxForwardedRef,t=Object(h.a)(n,m);return[n.context,e,t]}),[n]),s=o[0],u=o[1],l=o[2],p=Object(r.useMemo)((function(){return s&&s.Consumer&&Object(v.isContextConsumer)(i.a.createElement(s.Consumer,null))?s:R}),[s,R]),g=Object(r.useContext)(p),y=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(g)&&Boolean(g.store);var P=y?n.store:g.store,O=Object(r.useMemo)((function(){return function(t){return e(t.dispatch,a)}(P)}),[P]),C=Object(r.useMemo)((function(){if(!A)return b;var e=c(P,y?null:g.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[P,y,g]),T=C[0],L=C[1],I=Object(r.useMemo)((function(){return y?g:Object(d.a)({},g,{subscription:T})}),[y,g,T]),j=Object(r.useReducer)(w,_,E),F=j[0][0],N=j[1];if(F&&F.error)throw F.error;var M=Object(r.useRef)(),D=Object(r.useRef)(l),U=Object(r.useRef)(),B=Object(r.useRef)(!1),H=f((function(){return U.current&&l===D.current?U.current:O(P.getState(),l)}),[P,F,l]);x(S,[D,M,B,l,H,U,L]),x(k,[A,P,T,O,D,M,B,U,L,N],[P,T,O]);var z=Object(r.useMemo)((function(){return i.a.createElement(t,Object(d.a)({},H,{ref:u}))}),[u,t,H]);return Object(r.useMemo)((function(){return A?i.a.createElement(p.Provider,{value:I},z):z}),[p,z,I])}var P=u?i.a.memo(y):y;if(P.WrappedComponent=t,P.displayName=y.displayName=o,L){var O=i.a.forwardRef((function(e,t){return i.a.createElement(P,Object(d.a)({},e,{reactReduxForwardedRef:t}))}));return O.displayName=o,O.WrappedComponent=t,g()(O,t)}return g()(P,t)}}function A(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function O(e,t){if(A(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!A(e[n[i]],t[n[i]]))return!1;return!0}function C(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function T(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function L(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=T(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=T(i),i=r(t,n)),i},r}}var I=[function(e){return"function"===typeof e?L(e):void 0},function(e){return e?void 0:C((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?C((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):void 0}];var j=[function(e){return"function"===typeof e?L(e):void 0},function(e){return e?void 0:C((function(){return{}}))}];function F(e,t,n){return Object(d.a)({},n,e,t)}var R=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,s){var u=e(t,n,s);return a?i&&o(u,r)||(r=u):(a=!0,r=u),r}}}(e):void 0},function(e){return e?void 0:function(){return F}}];var N=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function M(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function D(e,t,n,r,i){var o,a,s,u,c,l=i.areStatesEqual,f=i.areOwnPropsEqual,d=i.areStatePropsEqual,h=!1;function p(i,h){var p=!f(h,a),g=!l(i,o);return o=i,a=h,p&&g?(s=e(o,a),t.dependsOnOwnProps&&(u=t(r,a)),c=n(s,u,a)):p?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(u=t(r,a)),c=n(s,u,a)):g?function(){var t=e(o,a),r=!d(t,s);return s=t,r&&(c=n(s,u,a)),c}():c}return function(i,l){return h?p(i,l):(s=e(o=i,a=l),u=t(r,a),c=n(s,u,a),h=!0,c)}}function U(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=Object(h.a)(t,N),a=n(e,o),s=r(e,o),u=i(e,o);return(o.pure?D:M)(a,s,u,e,o)}var B=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function H(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function z(e,t){return e===t}function K(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?P:n,i=t.mapStateToPropsFactories,o=void 0===i?j:i,a=t.mapDispatchToPropsFactories,s=void 0===a?I:a,u=t.mergePropsFactories,c=void 0===u?R:u,l=t.selectorFactory,f=void 0===l?U:l;return function(e,t,n,i){void 0===i&&(i={});var a=i,u=a.pure,l=void 0===u||u,p=a.areStatesEqual,g=void 0===p?z:p,v=a.areOwnPropsEqual,y=void 0===v?O:v,m=a.areStatePropsEqual,_=void 0===m?O:m,b=a.areMergedPropsEqual,w=void 0===b?O:b,x=Object(h.a)(a,B),S=H(e,o,"mapStateToProps"),k=H(t,s,"mapDispatchToProps"),E=H(n,c,"mergeProps");return r(f,Object(d.a)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:S,initMapDispatchToProps:k,initMergeProps:E,pure:l,areStatesEqual:g,areOwnPropsEqual:y,areStatePropsEqual:_,areMergedPropsEqual:w},x))}}var V=K();function W(){return Object(r.useContext)(o)}function q(e){void 0===e&&(e=o);var t=e===o?W:function(){return Object(r.useContext)(e)};return function(){return t().store}}var J=q();function Z(e){void 0===e&&(e=o);var t=e===o?J:q(e);return function(){return t().dispatch}}var G=Z(),Y=function(e,t){return e===t};function $(e){void 0===e&&(e=o);var t=e===o?W:function(){return Object(r.useContext)(e)};return function(e,n){void 0===n&&(n=Y);var i=t(),o=function(e,t,n,i){var o,a=Object(r.useReducer)((function(e){return e+1}),0)[1],s=Object(r.useMemo)((function(){return c(n,i)}),[n,i]),u=Object(r.useRef)(),f=Object(r.useRef)(),d=Object(r.useRef)(),h=Object(r.useRef)(),p=n.getState();try{if(e!==f.current||p!==d.current||u.current){var g=e(p);o=void 0!==h.current&&t(g,h.current)?h.current:g}else o=h.current}catch(v){throw u.current&&(v.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),v}return l((function(){f.current=e,d.current=p,h.current=o,u.current=void 0})),l((function(){function e(){try{var e=n.getState();if(e===d.current)return;var r=f.current(e);if(t(r,h.current))return;h.current=r,d.current=e}catch(v){u.current=v}a()}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[n,s]),o}(e,n,i.store,i.subscription);return Object(r.useDebugValue)(o),o}}var Q,X=$(),ee=n(51);Q=ee.unstable_batchedUpdates,a=Q},function(e,t,n){"use strict";n.r(t),n.d(t,"clearOidcPersistentStorage",(function(){return O})),n.d(t,"getBearerToken",(function(){return w})),n.d(t,"getDpopToken",(function(){return S})),n.d(t,"refresh",(function(){return E})),n.d(t,"registerClient",(function(){return h})),n.d(t,"removeOidcQueryParam",(function(){return A}));var r=n(20),i=n(0),o=n.n(i),a=n(3),s=n(19);n.d(t,"CordovaIFrameNavigator",(function(){return s.CordovaIFrameNavigator})),n.d(t,"CordovaPopupNavigator",(function(){return s.CordovaPopupNavigator})),n.d(t,"InMemoryWebStorage",(function(){return s.InMemoryWebStorage})),n.d(t,"Log",(function(){return s.Log})),n.d(t,"OidcClient",(function(){return s.OidcClient})),n.d(t,"SessionMonitor",(function(){return s.SessionMonitor})),n.d(t,"User",(function(){return s.User})),n.d(t,"UserManager",(function(){return s.UserManager})),n.d(t,"Version",(function(){return s.Version})),n.d(t,"WebStorageStateStore",(function(){return s.WebStorageStateStore}));var u=n(9),c=n(95),l=n.n(c);function f(e,t){var n,r,i,o;if("invalid_redirect_uri"===e.error)throw new Error("Dynamic client registration failed: the provided redirect uri [".concat(null===(n=t.redirectUrl)||void 0===n?void 0:n.toString(),"] is invalid - ").concat(null!==(r=e.error_description)&&void 0!==r?r:""));if("invalid_client_metadata"===e.error)throw new Error("Dynamic client registration failed: the provided client metadata ".concat(JSON.stringify(t)," is invalid - ").concat(null!==(i=e.error_description)&&void 0!==i?i:""));throw new Error("Dynamic client registration failed: ".concat(e.error," - ").concat(null!==(o=e.error_description)&&void 0!==o?o:""))}function d(e,t){if(void 0===e.client_id)throw new Error("Dynamic client registration failed: no client_id has been found on ".concat(JSON.stringify(e)));if(t.redirectUrl&&(void 0===e.redirect_uris||e.redirect_uris[0]!==t.redirectUrl.toString()))throw new Error("Dynamic client registration failed: the returned redirect URIs ".concat(JSON.stringify(e.redirect_uris)," don't match the provided ").concat(JSON.stringify([t.redirectUrl.toString()])))}function h(e,t){return p.apply(this,arguments)}function p(){return(p=Object(a.a)(o.a.mark((function e(t,n){var r,i,a,s,c,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.registrationEndpoint){e.next=2;break}throw new Error("Dynamic Registration could not be completed because the issuer has no registration endpoint.");case 2:if(Array.isArray(n.idTokenSigningAlgValuesSupported)){e.next=4;break}throw new Error("The OIDC issuer discovery profile is missing the 'id_token_signing_alg_values_supported' value, which is mandatory.");case 4:return i=Object(u.determineSigningAlg)(n.idTokenSigningAlgValuesSupported,u.PREFERRED_SIGNING_ALG),a={client_name:t.clientName,application_type:"web",redirect_uris:[null===(r=t.redirectUrl)||void 0===r?void 0:r.toString()],subject_type:"public",token_endpoint_auth_method:"client_secret_basic",id_token_signed_response_alg:i,grant_types:["authorization_code","refresh_token"]},s={"Content-Type":"application/json"},t.registrationAccessToken&&(s.Authorization="Bearer ".concat(t.registrationAccessToken)),e.next=10,fetch(n.registrationEndpoint.toString(),{method:"POST",headers:s,body:JSON.stringify(a)});case 10:if(!(c=e.sent).ok){e.next=17;break}return e.next=14,c.json();case 14:return d(l=e.sent,t),e.abrupt("return",{clientId:l.client_id,clientSecret:l.client_secret,idTokenSignedResponseAlg:l.id_token_signed_response_alg,clientType:"dynamic"});case 17:if(400!==c.status){e.next=24;break}return e.t0=f,e.next=21,c.json();case 21:e.t1=e.sent,e.t2=t,(0,e.t0)(e.t1,e.t2);case 24:return e.t3=Error,e.t4="Dynamic client registration failed: the server returned ".concat(c.status," ").concat(c.statusText," - "),e.next=28,c.text();case 28:throw e.t5=e.sent,e.t6=e.t4.concat.call(e.t4,e.t5),new e.t3(e.t6);case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return void 0!==e.error_description&&"string"===typeof e.error_description}function v(e){return void 0!==e.refresh_token&&"string"===typeof e.refresh_token}function y(e,t){if(t.grantType&&(!e.grantTypesSupported||!e.grantTypesSupported.includes(t.grantType)))throw new Error("The issuer [".concat(e.issuer,"] does not support the [").concat(t.grantType,"] grant"));if(!e.tokenEndpoint)throw new Error("This issuer [".concat(e.issuer,"] does not have a token endpoint"))}function m(e,t){if(void 0!==(n=e).error&&"string"===typeof n.error)throw new u.OidcProviderError("Token endpoint returned error [".concat(e.error,"]").concat(g(e)?": ".concat(e.error_description):"").concat(function(e){return void 0!==e.error_uri&&"string"===typeof e.error_uri}(e)?" (see ".concat(e.error_uri,")"):""),e.error,g(e)?e.error_description:void 0);var n;if(!function(e){return void 0!==e.access_token&&"string"===typeof e.access_token}(e))throw new u.InvalidResponseError(["access_token"]);if(!function(e){return void 0!==e.id_token&&"string"===typeof e.id_token}(e))throw new u.InvalidResponseError(["id_token"]);if(!function(e){return void 0!==e.token_type&&"string"===typeof e.token_type}(e))throw new u.InvalidResponseError(["token_type"]);if(!function(e){return void 0===e.expires_in||"number"===typeof e.expires_in}(e))throw new u.InvalidResponseError(["expires_in"]);if(!t&&"bearer"!==e.token_type.toLowerCase())throw new Error("Invalid token endpoint response: requested a [Bearer] token, but got a 'token_type' value of [".concat(e.token_type,"]."));return e}function _(e,t,n,r){return b.apply(this,arguments)}function b(){return(b=Object(a.a)(o.a.mark((function e(t,n,r,i){var a,s,c,f,d,h,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y(t,r),a={"content-type":"application/x-www-form-urlencoded"},!i){e.next=9;break}return e.next=5,Object(u.generateDpopKeyPair)();case 5:return s=e.sent,e.next=8,Object(u.createDpopHeader)(t.tokenEndpoint,"POST",s);case 8:a.DPoP=e.sent;case 9:return n.clientSecret&&(a.Authorization="Basic ".concat(btoa("".concat(n.clientId,":").concat(n.clientSecret)))),c={method:"POST",headers:a,body:l()({grant_type:r.grantType,redirect_uri:r.redirectUrl,code:r.code,code_verifier:r.codeVerifier,client_id:n.clientId})},e.next=13,fetch(t.tokenEndpoint,c);case 13:return f=e.sent,e.next=16,f.json();case 16:return d=e.sent,h=m(d,i),e.next=20,Object(u.getWebidFromTokenPayload)(h.id_token,t.jwksUri,t.issuer,n.clientId);case 20:return p=e.sent,e.abrupt("return",{accessToken:h.access_token,idToken:h.id_token,refreshToken:v(h)?h.refresh_token:void 0,webId:p,dpopKey:s,expiresIn:h.expires_in});case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return x.apply(this,arguments)}function x(){return(x=Object(a.a)(o.a.mark((function e(t){var n,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new s.OidcClient({response_mode:"query",loadUserInfo:!1}),e.next=4,r.processSigninResponse(t);case 4:if(n=e.sent,void 0!==r.settings.metadata){e.next=7;break}throw new Error("Cannot retrieve issuer metadata from client information in storage.");case 7:if(void 0!==r.settings.metadata.jwks_uri){e.next=9;break}throw new Error("Missing some issuer metadata from client information in storage: 'jwks_uri' is undefined");case 9:if(void 0!==r.settings.metadata.issuer){e.next=11;break}throw new Error("Missing some issuer metadata from client information in storage: 'issuer' is undefined");case 11:if(void 0!==r.settings.client_id){e.next=13;break}throw new Error("Missing some client information in storage: 'client_id' is undefined");case 13:return e.next=15,Object(u.getWebidFromTokenPayload)(n.id_token,r.settings.metadata.jwks_uri,r.settings.metadata.issuer,r.settings.client_id);case 15:return i=e.sent,e.abrupt("return",{accessToken:n.access_token,idToken:n.id_token,webId:i,refreshToken:n.refresh_token});case 19:throw e.prev=19,e.t0=e.catch(0),new Error("Problem handling Auth Code Grant (Flow) redirect - URL [".concat(t,"]: ").concat(e.t0));case 22:case"end":return e.stop()}}),e,null,[[0,19]])})))).apply(this,arguments)}function S(e,t,n){return k.apply(this,arguments)}function k(){return(k=Object(a.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_(t,n,r,!0));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t,n,r){return P.apply(this,arguments)}function P(){return(P=Object(a.a)(o.a.mark((function e(t,n,i,a){var s,c,f,d,h,p,g;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s={grant_type:"refresh_token",refresh_token:t,scope:"openid offline_access"},c={},void 0===a){e.next=7;break}return e.next=5,Object(u.createDpopHeader)(n.tokenEndpoint,"POST",a);case 5:e.t0=e.sent,c={DPoP:e.t0};case 7:return f={},void 0!==i.clientSecret&&(f={Authorization:"Basic ".concat(btoa("".concat(i.clientId,":").concat(i.clientSecret)))}),e.next=11,fetch(n.tokenEndpoint,{method:"POST",body:l()(s),headers:Object(r.a)(Object(r.a)(Object(r.a)({},c),f),{},{"Content-Type":"application/x-www-form-urlencoded"})});case 11:return d=e.sent,e.prev=12,e.next=15,d.json();case 15:h=e.sent,e.next=21;break;case 18:throw e.prev=18,e.t1=e.catch(12),new Error("The token endpoint of issuer ".concat(n.issuer," returned a malformed response."));case 21:return p=m(h,void 0!==a),e.next=24,Object(u.getWebidFromTokenPayload)(p.id_token,n.jwksUri,n.issuer,i.clientId);case 24:return g=e.sent,e.abrupt("return",{accessToken:p.access_token,idToken:p.id_token,refreshToken:"string"===typeof p.refresh_token?p.refresh_token:void 0,webId:g,dpopKey:a,expiresIn:p.expires_in});case 26:case"end":return e.stop()}}),e,null,[[12,18]])})))).apply(this,arguments)}function A(e){var t=new URL(e);return t.searchParams.delete("code"),t.searchParams.delete("state"),t.hash="",t.toString()}function O(){return C.apply(this,arguments)}function C(){return(C=Object(a.a)(o.a.mark((function e(){var t,n,r,i,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new s.OidcClient({response_mode:"query"}),e.next=3,t.clearStaleState(new s.WebStorageStateStore({}));case 3:for(n=window.localStorage,r=[],i=0;i<=n.length;i+=1)(a=n.key(i))&&(a.match(/^oidc\..+$/)||a.match(/^solidClientAuthenticationUser:.+$/))&&r.push(a);r.forEach((function(e){return n.removeItem(e)}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,n){"use strict";n.r(t),n.d(t,"useAttribution",(function(){return r.a})),n.d(t,"updateCircle",(function(){return i})),n.d(t,"createContainerComponent",(function(){return o.a})),n.d(t,"createDivOverlayComponent",(function(){return o.b})),n.d(t,"createLeafComponent",(function(){return o.c})),n.d(t,"CONTEXT_VERSION",(function(){return a.a})),n.d(t,"LeafletContext",(function(){return a.b})),n.d(t,"LeafletProvider",(function(){return a.c})),n.d(t,"useLeafletContext",(function(){return a.d})),n.d(t,"createControlHook",(function(){return s.a})),n.d(t,"createDivOverlayHook",(function(){return u.a})),n.d(t,"addClassName",(function(){return f})),n.d(t,"removeClassName",(function(){return d})),n.d(t,"updateClassName",(function(){return h})),n.d(t,"createElementHook",(function(){return p.a})),n.d(t,"useEventHandlers",(function(){return g.a})),n.d(t,"createControlComponent",(function(){return v.a})),n.d(t,"createLayerComponent",(function(){return v.b})),n.d(t,"createOverlayComponent",(function(){return v.c})),n.d(t,"createPathComponent",(function(){return v.d})),n.d(t,"createTileLayerComponent",(function(){return v.e})),n.d(t,"updateGridLayer",(function(){return y.a})),n.d(t,"createLayerHook",(function(){return m.a})),n.d(t,"useLayerLifecycle",(function(){return m.b})),n.d(t,"updateMediaOverlay",(function(){return _})),n.d(t,"withPane",(function(){return b.a})),n.d(t,"createPathHook",(function(){return w.a})),n.d(t,"usePathOptions",(function(){return w.b}));var r=n(55);function i(e,t,n){t.center!==n.center&&e.setLatLng(t.center),null!=t.radius&&t.radius!==n.radius&&e.setRadius(t.radius)}var o=n(36),a=n(17),s=n(74),u=n(75),c=n(21);function l(e){return e.split(" ").filter(Boolean)}function f(e,t){l(t).forEach((function(t){c.DomUtil.addClass(e,t)}))}function d(e,t){l(t).forEach((function(t){c.DomUtil.removeClass(e,t)}))}function h(e,t,n){null!=e&&n!==t&&(null!=t&&t.length>0&&d(e,t),null!=n&&n.length>0&&f(e,n))}var p=n(48),g=n(44),v=n(40),y=n(94),m=n(45);function _(e,t,n){t.bounds instanceof c.LatLngBounds&&t.bounds!==n.bounds&&e.setBounds(t.bounds),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=t.zIndex&&t.zIndex!==n.zIndex&&e.setZIndex(t.zIndex)}var b=n(41),w=n(59)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2);function i(e,t){var n=Object(r.useRef)(t);Object(r.useEffect)((function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t}),[e,t])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(61);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,"a",(function(){return r}))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return c}));var r=n(2),i=n(17),o=n(44),a=n(45),s=n(41);function u(e,t){var n=Object(r.useRef)();Object(r.useEffect)((function(){if(t.pathOptions!==n.current){var r,i=null!==(r=t.pathOptions)&&void 0!==r?r:{};e.instance.setStyle(i),n.current=i}}),[e,t])}function c(e){return function(t){var n=Object(i.d)(),r=e(Object(s.a)(t,n),n);return Object(o.a)(r.current,t.eventHandlers),Object(a.b)(r.current,n),u(r.current,t),r}}},function(e,t,n){"use strict";var r=n(100),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=u(t),g=u(n),v=0;v<a.length;++v){var y=a[v];if(!o[y]&&(!r||!r[y])&&(!g||!g[y])&&(!s||!s[y])){var m=d(n,y);try{c(t,y,m)}catch(_){}}}}return t}},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){var r=n(189);e.exports=r},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var r=n(104);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t,n){"use strict";var r=n(38),i=n(7),o=n(109),a=n(37),s=n(30),u=n(0),c=n(8),l=n(18),f=n(6),d=n(81),h=n(27),p=n(28),g=n(49),v=["ext","key_ops","alg","use"],y=["payload"],m=["encryptedKey"],_=["encryptedKey"];Object.defineProperty(t,"__esModule",{value:!0});var b=function(e){h(n,e);var t=p(n);function n(e){var r;return f(this,n),(r=t.call(this,e)).code=n.code,r.name=r.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(d(r),r.constructor),r}return n}(g(Error));b.code="ERR_JOSE_GENERIC";var w=function(e){h(n,e);var t=p(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unspecified",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unspecified";return f(this,n),(r=t.call(this,e)).code=n.code,r.claim=i,r.reason=o,r}return n}(b);w.code="ERR_JWT_CLAIM_VALIDATION_FAILED";var x=function(e){h(n,e);var t=p(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).code=n.code,e}return n}(b);x.code="ERR_JOSE_ALG_NOT_ALLOWED";var S=function(e){h(n,e);var t=p(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).code=n.code,e}return n}(b);S.code="ERR_JOSE_NOT_SUPPORTED";var k=function(e){h(n,e);var t=p(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).code=n.code,e.message="decryption operation failed",e}return n}(b);k.code="ERR_JWE_DECRYPTION_FAILED";var E=function(e){h(n,e);var t=p(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).code=n.code,e}return n}(b);E.code="ERR_JWE_INVALID";var P=function(e){h(n,e);var t=p(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).code=n.code,e}return n}(b);P.code="ERR_JWS_INVALID";var A=function(e){h(n,e);var t=p(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).code=n.code,e}return n}(b);A.code="ERR_JWT_INVALID";var O=function(e){h(n,e);var t=p(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).code=n.code,e}return n}(b);O.code="ERR_JWK_INVALID";var C=function(e){h(n,e);var t=p(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).code=n.code,e}return n}(b);C.code="ERR_JWKS_INVALID";var T=function(e){h(n,e);var t=p(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).code=n.code,e.message="no applicable key found in the JSON Web Key Set",e}return n}(b);T.code="ERR_JWKS_NO_MATCHING_KEY";var L=function(e){h(n,e);var t=p(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).code=n.code,e.message="multiple matching keys found in the JSON Web Key Set",e}return n}(b);L.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";var I=function(e){h(n,e);var t=p(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).code=n.code,e.message="signature verification failed",e}return n}(b);I.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";var j=function(e){h(n,e);var t=p(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).code=n.code,e}return n}(w);j.code="ERR_JWT_EXPIRED";var F=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t.filter(Boolean);if(0===i.length||1===i.length)return!0;var o,a=l(i);try{for(a.s();!(o=a.n()).done;){var s=o.value,u=Object.keys(s);if(r&&0!==r.size)for(var c=0,f=u;c<f.length;c++){var d=f[c];if(r.has(d))return!1;r.add(d)}else r=new Set(u)}}catch(h){a.e(h)}finally{a.f()}return!0};function R(e){if("object"!==typeof(t=e)||null===t||"[object Object]"!==Object.prototype.toString.call(e))return!1;var t;if(null===Object.getPrototypeOf(e))return!0;for(var n=e;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}var N=new TextEncoder,M=new TextDecoder,D=Math.pow(2,32);function U(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e+t.length}),0),i=new Uint8Array(r),o=0;return t.forEach((function(e){i.set(e,o),o+=e.length})),i}function B(e,t){return U(N.encode(e),new Uint8Array([0]),t)}function H(e,t,n){if(t<0||t>=D)throw new RangeError("value must be >= 0 and <= ".concat(D-1,". Received ").concat(t));e.set([t>>>24,t>>>16,t>>>8,255&t],n)}function z(e){var t=Math.floor(e/D),n=e%D,r=new Uint8Array(8);return H(r,t,0),H(r,n,4),r}function K(e){var t=new Uint8Array(4);return H(t,e),t}function V(e){return U(K(e.length),e)}function W(e,t,n,r){return q.apply(this,arguments)}function q(){return q=c(u.mark((function e(t,n,r,i){var o,a,s,c;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=Math.ceil((r>>3)/32),s=1;case 2:if(!(s<=o)){e.next=22;break}if((c=new Uint8Array(4+n.length+i.length)).set(K(s)),c.set(n,4),c.set(i,4+n.length),a){e.next=13;break}return e.next=10,t("sha256",c);case 10:a=e.sent,e.next=19;break;case 13:return e.t0=U,e.t1=a,e.next=17,t("sha256",c);case 17:e.t2=e.sent,a=(0,e.t0)(e.t1,e.t2);case 19:s++,e.next=2;break;case 22:return a=a.slice(0,r>>3),e.abrupt("return",a);case 24:case"end":return e.stop()}}),e)}))),q.apply(this,arguments)}var J=function(){if("undefined"!==typeof globalThis)return globalThis;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;throw new Error("unable to locate global object")}(),Z=function(e){var t=e;"string"===typeof t&&(t=N.encode(t));for(var n=[],r=0;r<t.length;r+=32768)n.push(String.fromCharCode.apply(null,t.subarray(r,r+32768)));return J.btoa(n.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},G=function(e){var t=e;t instanceof Uint8Array&&(t=M.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return new Uint8Array(J.atob(t).split("").map((function(e){return e.charCodeAt(0)})))}catch(n){throw new TypeError("The input to be decoded is not correctly encoded.")}},Y=new Map([["A128CBC-HS256",128],["A128GCM",96],["A128GCMKW",96],["A192CBC-HS384",128],["A192GCM",96],["A192GCMKW",96],["A256CBC-HS512",128],["A256GCM",96],["A256GCMKW",96]]),$=function(e){return function(t){var n=Y.get(t);if(!n)throw new S("Unsupported JWE Algorithm: ".concat(t));return e(new Uint8Array(n>>3))}},Q=function(e,t){if(t.length<<3!==Y.get(e))throw new E("Invalid Initialization Vector length")},X=J.crypto;function ee(e){return"undefined"!==typeof J.CryptoKey&&(null!=e&&e instanceof J.CryptoKey)}var te=function(e,t){var n;switch(e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":if(n=parseInt(e.substr(-3),10),!(t instanceof Uint8Array))throw new TypeError("".concat(e," content encryption requires Uint8Array as key input"));break;case"A128GCM":case"A192GCM":case"A256GCM":n=parseInt(e.substr(1,3),10);break;default:throw new S("Content Encryption Algorithm ".concat(e," is not supported either by JOSE or your javascript runtime"))}if(t instanceof Uint8Array){if(t.length<<3!==n)throw new E("Invalid Content Encryption Key length")}else{if(!ee(t))throw new TypeError("Invalid Content Encryption Key type");if(t.algorithm.length!==n)throw new E("Invalid Content Encryption Key length")}},ne=function(e,t){if(!(e instanceof Uint8Array))throw new TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw new TypeError("Second argument must be a buffer");if(e.length!==t.length)throw new TypeError("Input buffers must have the same length");for(var n=e.length,r=0,i=-1;++i<n;)r|=e[i]^t[i];return 0===r},re=function(e){for(var t="Key must be ",n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(r.length>2){var o=r.pop();t+="one of type ".concat(r.join(", "),", or ").concat(o,".")}else 2===r.length?t+="one of type ".concat(r[0]," or ").concat(r[1],"."):t+="of type ".concat(r[0],".");return null==e?t+=" Received ".concat(e):"function"===typeof e&&e.name?t+=" Received function ".concat(e.name):"object"===typeof e&&null!=e&&e.constructor&&e.constructor.name&&(t+=" Received an instance of ".concat(e.constructor.name)),t};function ie(e,t,n,r,i,o){return oe.apply(this,arguments)}function oe(){return(oe=c(u.mark((function e(t,n,r,i,o,a){var s,c,l,f,d,h,p;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=parseInt(t.substr(1,3),10),e.next=3,X.subtle.importKey("raw",n.subarray(s>>3),"AES-CBC",!1,["decrypt"]);case 3:return c=e.sent,e.next=6,X.subtle.importKey("raw",n.subarray(0,s>>3),{hash:{name:"SHA-".concat(s<<1)},name:"HMAC"},!1,["sign"]);case 6:return l=e.sent,f=U(a,i,r,z(a.length<<3)),e.t0=Uint8Array,e.next=11,X.subtle.sign("HMAC",l,f);case 11:e.t1=e.sent.slice(0,s>>3),d=new e.t0(e.t1);try{h=ne(o,d)}catch(u){}if(h){e.next=16;break}throw new k;case 16:return e.prev=16,e.t2=Uint8Array,e.next=20,X.subtle.decrypt({iv:i,name:"AES-CBC"},c,r);case 20:e.t3=e.sent,p=new e.t2(e.t3),e.next=26;break;case 24:e.prev=24,e.t4=e.catch(16);case 26:if(p){e.next=28;break}throw new k;case 28:return e.abrupt("return",p);case 29:case"end":return e.stop()}}),e,null,[[16,24]])})))).apply(this,arguments)}function ae(e,t,n,r,i){return se.apply(this,arguments)}function se(){return(se=c(u.mark((function e(t,n,r,i,o){var a;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof Uint8Array)){e.next=6;break}return e.next=3,X.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=t;case 7:return a=e.t0,e.prev=8,e.t1=Uint8Array,e.next=12,X.subtle.decrypt({additionalData:o,iv:r,name:"AES-GCM",tagLength:128},a,U(n,i));case 12:return e.t2=e.sent,e.abrupt("return",new e.t1(e.t2));case 16:throw e.prev=16,e.t3=e.catch(8),new k;case 19:case"end":return e.stop()}}),e,null,[[8,16]])})))).apply(this,arguments)}var ue=function(){var e=c(u.mark((function e(t,n,r,i,o,a){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee(n)||n instanceof Uint8Array){e.next=2;break}throw new TypeError(re(n,"CryptoKey","Uint8Array"));case 2:te(t,n),Q(t,i),e.t0=t,e.next="A128CBC-HS256"===e.t0||"A192CBC-HS384"===e.t0||"A256CBC-HS512"===e.t0?7:"A128GCM"===e.t0||"A192GCM"===e.t0||"A256GCM"===e.t0?8:9;break;case 7:return e.abrupt("return",ie(t,n,r,i,o,a));case 8:return e.abrupt("return",ae(n,r,i,o,a));case 9:throw new S("unsupported JWE Content Encryption Algorithm");case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o,a){return e.apply(this,arguments)}}(),ce=function(){var e=c(u.mark((function e(){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new S('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `inflateRaw` decrypt option to provide Inflate Raw implementation, e.g. using the "pako" module.');case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=c(u.mark((function e(){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new S('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime.');case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=[{hash:{name:"SHA-256"},name:"HMAC"},!0,["sign"]];function de(e,t){if(e.algorithm.length!==parseInt(t.substr(1,3),10))throw new TypeError("invalid key size for alg: ".concat(t))}function he(e,t){if(ee(e))return e;if(e instanceof Uint8Array)return X.subtle.importKey("raw",e,"AES-KW",!0,[t]);throw new TypeError(re(e,"CryptoKey","Uint8Array"))}var pe=function(){var e=c(u.mark((function e(t,n,r){var i,o,a;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(n,"wrapKey");case 2:return de(o=e.sent,t),e.next=6,(i=X.subtle).importKey.apply(i,["raw",r].concat(fe));case 6:return a=e.sent,e.t0=Uint8Array,e.next=10,X.subtle.wrapKey("raw",a,o,"AES-KW");case 10:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ge=function(){var e=c(u.mark((function e(t,n,r){var i,o,a;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(n,"unwrapKey");case 2:return de(o=e.sent,t),e.next=6,(i=X.subtle).unwrapKey.apply(i,["raw",r,o,"AES-KW"].concat(fe));case 6:return a=e.sent,e.t0=Uint8Array,e.next=10,X.subtle.exportKey("raw",a);case 10:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ve=function(){var e=c(u.mark((function e(t,n){var r;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="SHA-".concat(t.substr(-3)),e.t0=Uint8Array,e.next=4,X.subtle.digest(r,n);case 4:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ye=function(){var e=c(u.mark((function e(t,n,r,i){var o,a,s,c,l=arguments;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=l.length>4&&void 0!==l[4]?l[4]:new Uint8Array(0),a=l.length>5&&void 0!==l[5]?l[5]:new Uint8Array(0),ee(t)){e.next=4;break}throw new TypeError(re(t,"CryptoKey"));case 4:if(ee(n)){e.next=6;break}throw new TypeError(re(n,"CryptoKey"));case 6:if(s=U(V(N.encode(r)),V(o),V(a),K(i)),n.usages.includes("deriveBits")){e.next=9;break}throw new TypeError('ECDH-ES private key "usages" must include "deriveBits"');case 9:return e.t0=Uint8Array,e.next=12,X.subtle.deriveBits({name:"ECDH",public:t},n,Math.ceil(parseInt(n.algorithm.namedCurve.substr(-3),10)/8)<<3);case 12:return e.t1=e.sent,c=new e.t0(e.t1),e.abrupt("return",W(ve,c,i,s));case 15:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),me=function(){var e=c(u.mark((function e(t){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee(t)){e.next=2;break}throw new TypeError(re(t,"CryptoKey"));case 2:return e.next=4,X.subtle.generateKey({name:"ECDH",namedCurve:t.algorithm.namedCurve},!0,["deriveBits"]);case 4:return e.abrupt("return",e.sent.privateKey);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_e=function(e){if(!ee(e))throw new TypeError(re(e,"CryptoKey"));return["P-256","P-384","P-521"].includes(e.algorithm.namedCurve)},be=X.getRandomValues.bind(X);function we(e){if(!(e instanceof Uint8Array)||e.length<8)throw new E("PBES2 Salt Input must be 8 or more octets")}function xe(e){if(e instanceof Uint8Array)return X.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits"]);if(ee(e))return e;throw new TypeError(re(e,"CryptoKey","Uint8Array"))}var Se=function(){var e=c(u.mark((function e(t,n,r){var i,o,a,s,c,l,f,d,h,p=arguments;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=p.length>3&&void 0!==p[3]?p[3]:Math.floor(2049*Math.random())+2048,we(o=p.length>4&&void 0!==p[4]?p[4]:be(new Uint8Array(16))),a=B(t,o),s=parseInt(t.substr(13,3),10),c={hash:{name:"SHA-".concat(t.substr(8,3))},iterations:i,name:"PBKDF2",salt:a},l={length:s,name:"AES-KW"},e.next=9,xe(n);case 9:if(!(f=e.sent).usages.includes("deriveBits")){e.next=18;break}return e.t0=Uint8Array,e.next=14,X.subtle.deriveBits(c,f,s);case 14:e.t1=e.sent,d=new e.t0(e.t1),e.next=25;break;case 18:if(!f.usages.includes("deriveKey")){e.next=24;break}return e.next=21,X.subtle.deriveKey(c,f,l,!1,["wrapKey"]);case 21:d=e.sent,e.next=25;break;case 24:throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"');case 25:return e.next=27,pe(t.substr(-6),d,r);case 27:return h=e.sent,e.abrupt("return",{encryptedKey:h,p2c:i,p2s:Z(o)});case 29:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ke=function(){var e=c(u.mark((function e(t,n,r,i,o){var a,s,c,l,f,d;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return we(o),a=B(t,o),s=parseInt(t.substr(13,3),10),c={hash:{name:"SHA-".concat(t.substr(8,3))},iterations:i,name:"PBKDF2",salt:a},l={length:s,name:"AES-KW"},e.next=7,xe(n);case 7:if(!(f=e.sent).usages.includes("deriveBits")){e.next=16;break}return e.t0=Uint8Array,e.next=12,X.subtle.deriveBits(c,f,s);case 12:e.t1=e.sent,d=new e.t0(e.t1),e.next=23;break;case 16:if(!f.usages.includes("deriveKey")){e.next=22;break}return e.next=19,X.subtle.deriveKey(c,f,l,!1,["unwrapKey"]);case 19:d=e.sent,e.next=23;break;case 22:throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"');case 23:return e.abrupt("return",ge(t.substr(-6),d,r));case 24:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}();function Ee(e){switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new S("alg ".concat(e," is not supported either by JOSE or your javascript runtime"))}}var Pe=function(e,t){if(e.startsWith("HS")){var n=parseInt(e.substr(-3),10),r=t.algorithm.length;if("number"!==typeof r||r<n)throw new TypeError("".concat(e," requires symmetric keys to be ").concat(n," bits or larger"))}if(e.startsWith("RS")||e.startsWith("PS")){var i=t.algorithm.modulusLength;if("number"!==typeof i||i<2048)throw new TypeError("".concat(e," requires key modulusLength to be 2048 bits or larger"))}},Ae=function(){var e=c(u.mark((function e(t,n,r){var i,o;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee(n)){e.next=2;break}throw new TypeError(re(n,"CryptoKey"));case 2:if(Pe(t,n),!n.usages.includes("encrypt")){e.next=9;break}return e.t0=Uint8Array,e.next=7,X.subtle.encrypt(Ee(t),n,r);case 7:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 9:if(!n.usages.includes("wrapKey")){e.next=18;break}return e.next=12,(i=X.subtle).importKey.apply(i,["raw",r].concat(fe));case 12:return o=e.sent,e.t2=Uint8Array,e.next=16,X.subtle.wrapKey("raw",o,n,Ee(t));case 16:return e.t3=e.sent,e.abrupt("return",new e.t2(e.t3));case 18:throw new TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation');case 19:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Oe=function(){var e=c(u.mark((function e(t,n,r){var i,o;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee(n)){e.next=2;break}throw new TypeError(re(n,"CryptoKey"));case 2:if(Pe(t,n),!n.usages.includes("decrypt")){e.next=9;break}return e.t0=Uint8Array,e.next=7,X.subtle.decrypt(Ee(t),n,r);case 7:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 9:if(!n.usages.includes("unwrapKey")){e.next=18;break}return e.next=12,(i=X.subtle).unwrapKey.apply(i,["raw",r,n,Ee(t)].concat(fe));case 12:return o=e.sent,e.t2=Uint8Array,e.next=16,X.subtle.exportKey("raw",o);case 16:return e.t3=e.sent,e.abrupt("return",new e.t2(e.t3));case 18:throw new TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation');case 19:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function Ce(e,t,n,r,i){return Te.apply(this,arguments)}function Te(){return(Te=c(u.mark((function e(t,n,r,i,o){var a,s,c,l,f,d;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=parseInt(t.substr(1,3),10),e.next=3,X.subtle.importKey("raw",r.subarray(a>>3),"AES-CBC",!1,["encrypt"]);case 3:return s=e.sent,e.next=6,X.subtle.importKey("raw",r.subarray(0,a>>3),{hash:{name:"SHA-".concat(a<<1)},name:"HMAC"},!1,["sign"]);case 6:return c=e.sent,e.t0=Uint8Array,e.next=10,X.subtle.encrypt({iv:i,name:"AES-CBC"},s,n);case 10:return e.t1=e.sent,l=new e.t0(e.t1),f=U(o,i,l,z(o.length<<3)),e.t2=Uint8Array,e.next=16,X.subtle.sign("HMAC",c,f);case 16:return e.t3=e.sent.slice(0,a>>3),d=new e.t2(e.t3),e.abrupt("return",{ciphertext:l,tag:d});case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(e,t,n,r){return Ie.apply(this,arguments)}function Ie(){return(Ie=c(u.mark((function e(t,n,r,i){var o,a,s,c;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n instanceof Uint8Array)){e.next=6;break}return e.next=3,X.subtle.importKey("raw",n,"AES-GCM",!1,["encrypt"]);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=n;case 7:return o=e.t0,e.t1=Uint8Array,e.next=11,X.subtle.encrypt({additionalData:i,iv:r,name:"AES-GCM",tagLength:128},o,t);case 11:return e.t2=e.sent,a=new e.t1(e.t2),s=a.slice(-16),c=a.slice(0,-16),e.abrupt("return",{ciphertext:c,tag:s});case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var je=function(){var e=c(u.mark((function e(t,n,r,i,o){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee(r)||r instanceof Uint8Array){e.next=2;break}throw new TypeError(re(r,"CryptoKey","Uint8Array"));case 2:te(t,r),Q(t,i),e.t0=t,e.next="A128CBC-HS256"===e.t0||"A192CBC-HS384"===e.t0||"A256CBC-HS512"===e.t0?7:"A128GCM"===e.t0||"A192GCM"===e.t0||"A256GCM"===e.t0?8:9;break;case 7:return e.abrupt("return",Ce(t,n,r,i,o));case 8:return e.abrupt("return",Le(n,r,i,o));case 9:throw new S("unsupported JWE Content Encryption Algorithm");case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),Fe=$(be),Re=function(){var e=c(u.mark((function e(t,n,r,i){var o,a,s,c;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.substr(0,7),i||(i=Fe(o)),e.next=4,je(o,r,n,i,new Uint8Array(0));case 4:return a=e.sent,s=a.ciphertext,c=a.tag,e.abrupt("return",{encryptedKey:s,iv:Z(i),tag:Z(c)});case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),Ne=function(){var e=c(u.mark((function e(t,n,r,i,o){var a;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.substr(0,7),e.abrupt("return",ue(a,n,r,i,o,new Uint8Array(0)));case 2:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),Me=new Map([["A128CBC-HS256",256],["A128GCM",128],["A192CBC-HS384",384],["A192GCM",192],["A256CBC-HS512",512],["A256GCM",256]]),De=function(e){return function(t){var n=Me.get(t);if(!n)throw new S("Unsupported JWE Algorithm: ".concat(t));return e(new Uint8Array(n>>3))}};function Ue(e){var t,n;switch(e.kty){case"oct":switch(e.alg){case"HS256":case"HS384":case"HS512":t={name:"HMAC",hash:{name:"SHA-".concat(e.alg.substr(-3))}},n=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":throw new S("".concat(e.alg," keys cannot be imported as CryptoKey instances"));case"A128GCM":case"A192GCM":case"A256GCM":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":t={name:"AES-GCM"},n=["encrypt","decrypt"];break;case"A128KW":case"A192KW":case"A256KW":t={name:"AES-KW"},n=["wrapKey","unwrapKey"];break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":t={name:"PBKDF2"},n=["deriveBits"];break;default:throw new S('unsupported or invalid JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:{name:"SHA-".concat(e.alg.substr(-3))}},n=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-".concat(e.alg.substr(-3))}},n=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:{name:"SHA-".concat(parseInt(e.alg.substr(-3),10)||1)}},n=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new S('unsupported or invalid JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":case"ES384":case"ES512":t={name:"ECDSA",namedCurve:e.crv},n=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},n=e.d?["deriveBits"]:[];break;default:throw new S('unsupported or invalid JWK "alg" (Algorithm) Parameter value')}break;default:throw new S('unsupported or invalid JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:n}}var Be=function(){var e=c(u.mark((function e(t){var n,r,i,o,a,c,l;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ue(t),o=i.algorithm,a=i.keyUsages,c="jwk",delete(l=s({},t)).alg,"PBKDF2"===o.name&&(c="raw",l=G(t.k)),e.abrupt("return",X.subtle.importKey(c,l,o,null!==(n=t.ext)&&void 0!==n&&n,null!==(r=t.key_ops)&&void 0!==r?r:a));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function He(e,t,n){return ze.apply(this,arguments)}function ze(){return(ze=c(u.mark((function e(t,n,r){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R(t)){e.next=2;break}throw new TypeError("JWK must be an object");case 2:if(n||(n=t.alg),"string"===typeof n&&n){e.next=5;break}throw new TypeError('"alg" argument is required when "jwk.alg" is not present');case 5:e.t0=t.kty,e.next="oct"===e.t0?8:"RSA"===e.t0?14:"EC"===e.t0||"OKP"===e.t0?16:17;break;case 8:if("string"===typeof t.k&&t.k){e.next=10;break}throw new TypeError('missing "k" (Key Value) Parameter value');case 10:if(null!==r&&void 0!==r||(r=!0!==t.ext),!r){e.next=13;break}return e.abrupt("return",Be(s(s({},t),{},{alg:n,ext:!1})));case 13:return e.abrupt("return",G(t.k));case 14:if(void 0===t.oth){e.next=16;break}throw new S('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case 16:return e.abrupt("return",Be(s(s({},t),{},{alg:n})));case 17:throw new S('unsupported "kty" (Key Type) Parameter value');case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ke=function(e,t,n){if(!(t instanceof Uint8Array)&&!(null===t||void 0===t?void 0:t.type))throw new TypeError(re(t,"KeyObject","CryptoKey","Uint8Array"));if(e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||e.match(/^A\d{3}(?:GCM)?KW$/)){if(t instanceof Uint8Array||"secret"===t.type)return;throw new TypeError('CryptoKey or KeyObject instances for symmetric algorithms must be of type "secret"')}if(t instanceof Uint8Array)throw new TypeError(re(t,"KeyObject","CryptoKey"));if("secret"===t.type)throw new TypeError('CryptoKey or KeyObject instances for asymmetric algorithms must not be of type "secret"');if("sign"===n&&"public"===t.type)throw new TypeError('CryptoKey or KeyObject instances for asymmetric algorithm signing must be of type "private"');if("decrypt"===n&&"public"===t.type)throw new TypeError('CryptoKey or KeyObject instances for asymmetric algorithm decryption must be of type "private"')};function Ve(e){if(!e)throw new E("JWE Encrypted Key missing")}function We(e,t,n){if(void 0===e[t])throw new E("JOSE Header ".concat(n," (").concat(t,") missing"))}function qe(e,t,n,r){return Je.apply(this,arguments)}function Je(){return(Je=c(u.mark((function e(t,n,r,i){var o,a,s,c,l,f,d,h,p;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ke(t,n,"decrypt"),e.t0=t,e.next="dir"===e.t0?4:"ECDH-ES"===e.t0?7:"ECDH-ES+A128KW"===e.t0||"ECDH-ES+A192KW"===e.t0||"ECDH-ES+A256KW"===e.t0?9:"RSA1_5"===e.t0||"RSA-OAEP"===e.t0||"RSA-OAEP-256"===e.t0||"RSA-OAEP-384"===e.t0||"RSA-OAEP-512"===e.t0?25:"PBES2-HS256+A128KW"===e.t0||"PBES2-HS384+A192KW"===e.t0||"PBES2-HS512+A256KW"===e.t0?27:"A128KW"===e.t0||"A192KW"===e.t0||"A256KW"===e.t0?33:"A128GCMKW"===e.t0||"A192GCMKW"===e.t0||"A256GCMKW"===e.t0?35:41;break;case 4:if(void 0===r){e.next=6;break}throw new E("Encountered unexpected JWE Encrypted Key");case 6:return e.abrupt("return",n);case 7:if(void 0===r){e.next=9;break}throw new E("Encountered unexpected JWE Encrypted Key");case 9:if(We(i,"epk","Ephemeral Public Key"),_e(n)){e.next=12;break}throw new S("ECDH-ES with the provided key is not allowed or not supported by your javascript runtime");case 12:return e.next=14,He(i.epk,t);case 14:return o=e.sent,void 0!==i.apu&&(a=G(i.apu)),void 0!==i.apv&&(s=G(i.apv)),e.next=19,ye(o,n,"ECDH-ES"===t?i.enc:t,parseInt(t.substr(-5,3),10)||Me.get(i.enc),a,s);case 19:if(c=e.sent,"ECDH-ES"!==t){e.next=22;break}return e.abrupt("return",c);case 22:return Ve(r),l=t.substr(-6),e.abrupt("return",ge(l,c,r));case 25:return Ve(r),e.abrupt("return",Oe(t,n,r));case 27:return Ve(r),We(i,"p2c","PBES2 Count"),We(i,"p2s","PBES2 Salt"),f=i.p2c,d=G(i.p2s),e.abrupt("return",ke(t,n,r,f,d));case 33:return Ve(r),e.abrupt("return",ge(t,n,r));case 35:return Ve(r),We(i,"iv","Initialization Vector"),We(i,"tag","Authentication Tag"),h=G(i.iv),p=G(i.tag),e.abrupt("return",Ne(t,n,r,h,p));case 41:throw new S('unsupported or invalid "alg" (JWE Algorithm) header value');case 42:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ze(e,t,n,r,i){if(void 0!==i.crit&&void 0===r.crit)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||void 0===r.crit)return new Set;if(!Array.isArray(r.crit)||0===r.crit.length||r.crit.some((function(e){return"string"!==typeof e||0===e.length})))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');var o;o=void 0!==n?new Map([].concat(a(Object.entries(n)),a(t.entries()))):t;var s,u=l(r.crit);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(!o.has(c))throw new S('Extension Header Parameter "'.concat(c,'" is not recognized'));if(void 0===i[c])throw new e('Extension Header Parameter "'.concat(c,'" is missing'));if(o.get(c)&&void 0===r[c])throw new e('Extension Header Parameter "'.concat(c,'" MUST be integrity protected'))}}catch(f){u.e(f)}finally{u.f()}return new Set(r.crit)}var Ge=function(e,t){if(void 0!==t&&(!Array.isArray(t)||t.some((function(e){return"string"!==typeof e}))))throw new TypeError('"'.concat(e,'" option must be an array of strings'));if(t)return new Set(t)},Ye=De(be),$e=Ze.bind(void 0,E,new Map),Qe=Ge.bind(void 0,"keyManagementAlgorithms"),Xe=Ge.bind(void 0,"contentEncryptionAlgorithms");function et(e,t,n){return tt.apply(this,arguments)}function tt(){return(tt=c(u.mark((function e(t,n,r){var i,o,a,c,l,f,d,h,p,g,v,y,m,_,b,w;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R(t)){e.next=2;break}throw new E("Flattened JWE must be an object");case 2:if(void 0!==t.protected||void 0!==t.header||void 0!==t.unprotected){e.next=4;break}throw new E("JOSE Header missing");case 4:if("string"===typeof t.iv){e.next=6;break}throw new E("JWE Initialization Vector missing or incorrect type");case 6:if("string"===typeof t.ciphertext){e.next=8;break}throw new E("JWE Ciphertext missing or incorrect type");case 8:if("string"===typeof t.tag){e.next=10;break}throw new E("JWE Authentication Tag missing or incorrect type");case 10:if(void 0===t.protected||"string"===typeof t.protected){e.next=12;break}throw new E("JWE Protected Header incorrect type");case 12:if(void 0===t.encrypted_key||"string"===typeof t.encrypted_key){e.next=14;break}throw new E("JWE Encrypted Key incorrect type");case 14:if(void 0===t.aad||"string"===typeof t.aad){e.next=16;break}throw new E("JWE AAD incorrect type");case 16:if(void 0===t.header||R(t.header)){e.next=18;break}throw new E("JWE Shared Unprotected Header incorrect type");case 18:if(void 0===t.unprotected||R(t.unprotected)){e.next=20;break}throw new E("JWE Per-Recipient Unprotected Header incorrect type");case 20:if(!t.protected){e.next=29;break}a=G(t.protected),e.prev=22,o=JSON.parse(M.decode(a)),e.next=29;break;case 26:throw e.prev=26,e.t0=e.catch(22),new E("JWE Protected Header is invalid");case 29:if(F(o,t.header,t.unprotected)){e.next=31;break}throw new E("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");case 31:if(c=s(s(s({},o),t.header),t.unprotected),$e(null===r||void 0===r?void 0:r.crit,o,c),void 0===c.zip){e.next=38;break}if(o&&o.zip){e.next=36;break}throw new E('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');case 36:if("DEF"===c.zip){e.next=38;break}throw new S('unsupported JWE "zip" (Compression Algorithm) Header Parameter value');case 38:if(l=c.alg,f=c.enc,"string"===typeof l&&l){e.next=41;break}throw new E("missing JWE Algorithm (alg) in JWE Header");case 41:if("string"===typeof f&&f){e.next=43;break}throw new E("missing JWE Encryption Algorithm (enc) in JWE Header");case 43:if(d=r&&Qe(r.keyManagementAlgorithms),h=r&&Xe(r.contentEncryptionAlgorithms),!d||d.has(l)){e.next=47;break}throw new x('"alg" (Algorithm) Header Parameter not allowed');case 47:if(!h||h.has(f)){e.next=49;break}throw new x('"enc" (Encryption Algorithm) Header Parameter not allowed');case 49:if(void 0!==t.encrypted_key&&(p=G(t.encrypted_key)),"function"!==typeof n){e.next=54;break}return e.next=53,n(o,t);case 53:n=e.sent;case 54:return e.prev=54,e.next=57,qe(l,n,p,c);case 57:g=e.sent,e.next=65;break;case 60:if(e.prev=60,e.t1=e.catch(54),!(e.t1 instanceof TypeError)){e.next=64;break}throw e.t1;case 64:g=Ye(f);case 65:return v=G(t.iv),y=G(t.tag),m=N.encode(null!==(i=t.protected)&&void 0!==i?i:""),_=void 0!==t.aad?U(m,N.encode("."),N.encode(t.aad)):m,e.next=71,ue(f,g,G(t.ciphertext),v,y,_);case 71:if(b=e.sent,"DEF"!==c.zip){e.next=76;break}return e.next=75,((null===r||void 0===r?void 0:r.inflateRaw)||ce)(b);case 75:b=e.sent;case 76:return w={plaintext:b},void 0!==t.protected&&(w.protectedHeader=o),void 0!==t.aad&&(w.additionalAuthenticatedData=G(t.aad)),void 0!==t.unprotected&&(w.sharedUnprotectedHeader=t.unprotected),void 0!==t.header&&(w.unprotectedHeader=t.header),e.abrupt("return",w);case 82:case"end":return e.stop()}}),e,null,[[22,26],[54,60]])})))).apply(this,arguments)}function nt(e,t,n){return rt.apply(this,arguments)}function rt(){return(rt=c(u.mark((function e(t,n,r){var i,o,a,s,c,l,f;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof Uint8Array&&(t=M.decode(t)),"string"===typeof t){e.next=3;break}throw new E("Compact JWE must be a string or Uint8Array");case 3:if(i=t.split("."),o=i[0],a=i[1],s=i[2],c=i[3],l=i[4],5===i.length){e.next=6;break}throw new E("Invalid Compact JWE");case 6:return e.next=8,et({ciphertext:c||void 0,iv:s||void 0,protected:o||void 0,tag:l||void 0,encrypted_key:a||void 0},n,r);case 8:return f=e.sent,e.abrupt("return",{plaintext:f.plaintext,protectedHeader:f.protectedHeader});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var it=function(){var e=c(u.mark((function e(t){var n,r;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof Uint8Array)){e.next=2;break}return e.abrupt("return",{kty:"oct",k:Z(t)});case 2:if(ee(t)){e.next=4;break}throw new TypeError(re(t,"CryptoKey","Uint8Array"));case 4:if(t.extractable){e.next=6;break}throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");case 6:return e.next=8,X.subtle.exportKey("jwk",t);case 8:return n=e.sent,n.ext,n.key_ops,n.alg,n.use,r=o(n,v),e.abrupt("return",r);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ot(e){return at.apply(this,arguments)}function at(){return(at=c(u.mark((function e(t){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",it(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var st=De(be);function ut(e,t,n,r){return ct.apply(this,arguments)}function ct(){return ct=c(u.mark((function e(t,n,r,i){var a,s,c,l,f,d,h,p,g,v,y,b,w,x,k,E,P,A,O,C=arguments;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=C.length>4&&void 0!==C[4]?C[4]:{},Ke(t,r,"encrypt"),e.t0=t,e.next="dir"===e.t0?5:"ECDH-ES"===e.t0||"ECDH-ES+A128KW"===e.t0||"ECDH-ES+A192KW"===e.t0||"ECDH-ES+A256KW"===e.t0?7:"RSA1_5"===e.t0||"RSA-OAEP"===e.t0||"RSA-OAEP-256"===e.t0||"RSA-OAEP-384"===e.t0||"RSA-OAEP-512"===e.t0?38:"PBES2-HS256+A128KW"===e.t0||"PBES2-HS384+A192KW"===e.t0||"PBES2-HS512+A256KW"===e.t0?43:"A128KW"===e.t0||"A192KW"===e.t0||"A256KW"===e.t0?52:"A128GCMKW"===e.t0||"A192GCMKW"===e.t0||"A256GCMKW"===e.t0?57:66;break;case 5:return l=r,e.abrupt("break",67);case 7:if(_e(r)){e.next=9;break}throw new S("ECDH-ES with the provided key is not allowed or not supported by your javascript runtime");case 9:if(f=a.apu,d=a.apv,h=a.epk,e.t1=h,e.t1){e.next=16;break}return e.next=15,me(r);case 15:h=e.sent;case 16:return e.next=18,ot(h);case 18:return p=e.sent,g=p.x,v=p.y,y=p.crv,b=p.kty,e.next=25,ye(r,h,"ECDH-ES"===t?n:t,parseInt(t.substr(-5,3),10)||Me.get(n),f,d);case 25:if(w=e.sent,c={epk:{x:g,y:v,crv:y,kty:b}},f&&(c.apu=Z(f)),d&&(c.apv=Z(d)),"ECDH-ES"!==t){e.next=32;break}return l=w,e.abrupt("break",67);case 32:return l=i||st(n),x=t.substr(-6),e.next=36,pe(x,w,l);case 36:return s=e.sent,e.abrupt("break",67);case 38:return l=i||st(n),e.next=41,Ae(t,r,l);case 41:return s=e.sent,e.abrupt("break",67);case 43:return l=i||st(n),k=a.p2c,E=a.p2s,e.next=47,Se(t,r,l,k,E);case 47:return P=e.sent,s=P.encryptedKey,c=o(P,m),e.abrupt("break",67);case 52:return l=i||st(n),e.next=55,pe(t,r,l);case 55:return s=e.sent,e.abrupt("break",67);case 57:return l=i||st(n),A=a.iv,e.next=61,Re(t,r,l,A);case 61:return O=e.sent,s=O.encryptedKey,c=o(O,_),e.abrupt("break",67);case 66:throw new S('unsupported or invalid "alg" (JWE Algorithm) header value');case 67:return e.abrupt("return",{cek:l,encryptedKey:s,parameters:c});case 68:case"end":return e.stop()}}),e)}))),ct.apply(this,arguments)}var lt=$(be),ft=Ze.bind(void 0,E,new Map),dt=function(){function e(t){f(this,e),this._plaintext=t}return i(e,[{key:"setKeyManagementParameters",value:function(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}},{key:"setProtectedHeader",value:function(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}},{key:"setSharedUnprotectedHeader",value:function(e){if(this._sharedUnprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}},{key:"setUnprotectedHeader",value:function(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}},{key:"setAdditionalAuthenticatedData",value:function(e){return this._aad=e,this}},{key:"setContentEncryptionKey",value:function(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}},{key:"setInitializationVector",value:function(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}},{key:"encrypt",value:function(){var e=c(u.mark((function e(t,n){var r,i,o,a,c,l,f,d,h,p,g,v,y,m,_,b;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._protectedHeader||this._unprotectedHeader||this._sharedUnprotectedHeader){e.next=2;break}throw new E("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");case 2:if(F(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader)){e.next=4;break}throw new E("JWE Shared Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");case 4:if(r=s(s(s({},this._protectedHeader),this._unprotectedHeader),this._sharedUnprotectedHeader),ft(null===n||void 0===n?void 0:n.crit,this._protectedHeader,r),void 0===r.zip){e.next=11;break}if(this._protectedHeader&&this._protectedHeader.zip){e.next=9;break}throw new E('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');case 9:if("DEF"===r.zip){e.next=11;break}throw new S('unsupported JWE "zip" (Compression Algorithm) Header Parameter value');case 11:if(i=r.alg,o=r.enc,"string"===typeof i&&i){e.next=14;break}throw new E('JWE "alg" (Algorithm) Header Parameter missing or invalid');case 14:if("string"===typeof o&&o){e.next=16;break}throw new E('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');case 16:if("dir"!==i){e.next=21;break}if(!this._cek){e.next=19;break}throw new TypeError("setContentEncryptionKey cannot be called when using Direct Encryption");case 19:e.next=24;break;case 21:if("ECDH-ES"!==i){e.next=24;break}if(!this._cek){e.next=24;break}throw new TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");case 24:return e.next=26,ut(i,o,t,this._cek,this._keyManagementParameters);case 26:if(f=e.sent,c=f.cek,a=f.encryptedKey,(l=f.parameters)&&(this._protectedHeader?this._protectedHeader=s(s({},this._protectedHeader),l):this.setProtectedHeader(l)),this._iv||(this._iv=lt(o)),h=this._protectedHeader?N.encode(Z(JSON.stringify(this._protectedHeader))):N.encode(""),this._aad?(p=Z(this._aad),d=U(h,N.encode("."),N.encode(p))):d=h,"DEF"!==r.zip){e.next=45;break}return e.next=37,((null===n||void 0===n?void 0:n.deflateRaw)||le)(this._plaintext);case 37:return y=e.sent,e.next=40,je(o,y,c,this._iv,d);case 40:m=e.sent,g=m.ciphertext,v=m.tag,e.next=50;break;case 45:return e.next=47,je(o,this._plaintext,c,this._iv,d);case 47:_=e.sent,g=_.ciphertext,v=_.tag;case 50:return b={ciphertext:Z(g),iv:Z(this._iv),tag:Z(v)},a&&(b.encrypted_key=Z(a)),p&&(b.aad=p),this._protectedHeader&&(b.protected=M.decode(h)),this._sharedUnprotectedHeader&&(b.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(b.header=this._unprotectedHeader),e.abrupt("return",b);case 57:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),ht=function(){function e(t){f(this,e),this._flattened=new dt(t)}return i(e,[{key:"setContentEncryptionKey",value:function(e){return this._flattened.setContentEncryptionKey(e),this}},{key:"setInitializationVector",value:function(e){return this._flattened.setInitializationVector(e),this}},{key:"setProtectedHeader",value:function(e){return this._flattened.setProtectedHeader(e),this}},{key:"setKeyManagementParameters",value:function(e){return this._flattened.setKeyManagementParameters(e),this}},{key:"encrypt",value:function(){var e=c(u.mark((function e(t,n){var r;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._flattened.encrypt(t,n);case 2:return r=e.sent,e.abrupt("return",[r.protected,r.encrypted_key,r.iv,r.ciphertext,r.tag].join("."));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function pt(){return(pt=c(u.mark((function e(t,n,r){var i,o,a;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R(t)){e.next=2;break}throw new E("General JWE must be an object");case 2:if(Array.isArray(t.recipients)&&t.recipients.every(R)){e.next=4;break}throw new E("JWE Recipients missing or incorrect type");case 4:i=l(t.recipients),e.prev=5,i.s();case 7:if((o=i.n()).done){e.next=19;break}return a=o.value,e.prev=9,e.next=12,et({aad:t.aad,ciphertext:t.ciphertext,encrypted_key:a.encrypted_key,header:a.header,iv:t.iv,protected:t.protected,tag:t.tag,unprotected:t.unprotected},n,r);case 12:return e.abrupt("return",e.sent);case 15:e.prev=15,e.t0=e.catch(9);case 17:e.next=7;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(5),i.e(e.t1);case 24:return e.prev=24,i.f(),e.finish(24);case 27:throw new k;case 28:case"end":return e.stop()}}),e,null,[[5,21,24,27],[9,15]])})))).apply(this,arguments)}function gt(){return(gt=c(u.mark((function e(t,n){var r,i;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R((r=s(s({},t),n.header)).jwk)){e.next=3;break}throw new P('"jwk" (JSON Web Key) Header Parameter must be a JSON object');case 3:return e.next=5,He(r.jwk,r.alg,!0);case 5:if("public"===(i=e.sent).type){e.next=8;break}throw new P('"jwk" (JSON Web Key) Header Parameter must be a public key');case 8:return e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vt=function(e,t){if("string"!==typeof e||!e)throw new O("".concat(t," missing or invalid"))};function yt(){return yt=c(u.mark((function e(t){var n,r,i,o=arguments;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:"sha256",R(t)){e.next=3;break}throw new TypeError("JWK must be an object");case 3:e.t0=t.kty,e.next="EC"===e.t0?6:"OKP"===e.t0?11:"RSA"===e.t0?15:"oct"===e.t0?19:22;break;case 6:return vt(t.crv,'"crv" (Curve) Parameter'),vt(t.x,'"x" (X Coordinate) Parameter'),vt(t.y,'"y" (Y Coordinate) Parameter'),r={crv:t.crv,kty:t.kty,x:t.x,y:t.y},e.abrupt("break",23);case 11:return vt(t.crv,'"crv" (Subtype of Key Pair) Parameter'),vt(t.x,'"x" (Public Key) Parameter'),r={crv:t.crv,kty:t.kty,x:t.x},e.abrupt("break",23);case 15:return vt(t.e,'"e" (Exponent) Parameter'),vt(t.n,'"n" (Modulus) Parameter'),r={e:t.e,kty:t.kty,n:t.n},e.abrupt("break",23);case 19:return vt(t.k,'"k" (Key Value) Parameter'),r={k:t.k,kty:t.kty},e.abrupt("break",23);case 22:throw new S('"kty" (Key Type) Parameter missing or unsupported');case 23:return i=N.encode(JSON.stringify(r)),e.t1=Z,e.next=27,ve(n,i);case 27:return e.t2=e.sent,e.abrupt("return",(0,e.t1)(e.t2));case 29:case"end":return e.stop()}}),e)}))),yt.apply(this,arguments)}var mt=function(){var e=c(u.mark((function e(t,n){var r,i;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"function"===typeof AbortController&&(r=new AbortController,setTimeout((function(){return r.abort()}),n)),e.next=3,J.fetch(t.href,{signal:r?r.signal:void 0,redirect:"manual",referrerPolicy:"no-referrer",credentials:"omit",mode:"cors",method:"GET"});case 3:if(200===(i=e.sent).status){e.next=6;break}throw new b("Expected 200 OK from the JSON Web Key Set HTTP response");case 6:return e.prev=6,e.next=9,i.json();case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(6),new b("Failed to parse the JSON Web Key Set HTTP response as JSON");case 15:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t,n){return e.apply(this,arguments)}}();function _t(e){switch(e.substr(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new S('Unsupported "alg" value for a JSON Web Key Set')}}function bt(e){return R(e)}var wt=function(){function e(t,n){if(f(this,e),this._cached=new WeakMap,!(t instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(t.href),this._options={agent:null===n||void 0===n?void 0:n.agent},this._timeoutDuration="number"===typeof(null===n||void 0===n?void 0:n.timeoutDuration)?null===n||void 0===n?void 0:n.timeoutDuration:5e3,this._cooldownDuration="number"===typeof(null===n||void 0===n?void 0:n.cooldownDuration)?null===n||void 0===n?void 0:n.cooldownDuration:3e4}return i(e,[{key:"coolingDown",value:function(){return"undefined"!==typeof this._cooldownStarted&&Date.now()<this._cooldownStarted+this._cooldownDuration}},{key:"getKey",value:function(){var e=c(u.mark((function e(t){var n,r,i,o,a;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._jwks){e.next=3;break}return e.next=3,this.reload();case 3:if(n=this._jwks.keys.filter((function(e){var n=e.kty===_t(t.alg);if(n&&"string"===typeof t.kid&&(n=t.kid===e.kid),n&&"string"===typeof e.alg&&(n=t.alg===e.alg),n&&"string"===typeof e.use&&(n="sig"===e.use),n&&Array.isArray(e.key_ops)&&(n=e.key_ops.includes("verify")),n&&"EdDSA"===t.alg&&(n=["Ed25519","Ed448"].includes(e.crv)),n)switch(t.alg){case"ES256":n="P-256"===e.crv;break;case"ES256K":n="secp256k1"===e.crv;break;case"ES384":n="P-384"===e.crv;break;case"ES512":n="P-521"===e.crv}return n})),r=n[0],0!==(i=n.length)){e.next=13;break}if(!1!==this.coolingDown()){e.next=10;break}return e.next=9,this.reload();case 9:return e.abrupt("return",this.getKey(t));case 10:throw new T;case 13:if(1===i){e.next=15;break}throw new L;case 15:if(this._cached.has(r)||this._cached.set(r,{}),void 0!==(o=this._cached.get(r))[t.alg]){e.next=24;break}return e.next=20,He(s(s({},r),{},{alg:t.alg}));case 20:if("public"===(a=e.sent).type){e.next=23;break}throw new C("JSON Web Key Set members must be public keys");case 23:o[t.alg]=a;case 24:return e.abrupt("return",o[t.alg]);case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reload",value:function(){var e=c(u.mark((function e(){var t=this;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._pendingFetch||(this._pendingFetch=mt(this._url,this._timeoutDuration,this._options).then((function(e){if("object"!==typeof e||!e||!Array.isArray(e.keys)||!e.keys.every(bt))throw new C("JSON Web Key Set malformed");t._jwks={keys:e.keys},t._cooldownStarted=Date.now(),t._pendingFetch=void 0})).catch((function(e){throw t._pendingFetch=void 0,e}))),e.next=3,this._pendingFetch;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function xt(e){switch(e){case"HS256":return{hash:{name:"SHA-256"},name:"HMAC"};case"HS384":return{hash:{name:"SHA-384"},name:"HMAC"};case"HS512":return{hash:{name:"SHA-512"},name:"HMAC"};case"PS256":return{hash:{name:"SHA-256"},name:"RSA-PSS",saltLength:32};case"PS384":return{hash:{name:"SHA-384"},name:"RSA-PSS",saltLength:48};case"PS512":return{hash:{name:"SHA-512"},name:"RSA-PSS",saltLength:64};case"RS256":return{hash:{name:"SHA-256"},name:"RSASSA-PKCS1-v1_5"};case"RS384":return{hash:{name:"SHA-384"},name:"RSASSA-PKCS1-v1_5"};case"RS512":return{hash:{name:"SHA-512"},name:"RSASSA-PKCS1-v1_5"};case"ES256":return{hash:{name:"SHA-256"},name:"ECDSA",namedCurve:"P-256"};case"ES384":return{hash:{name:"SHA-384"},name:"ECDSA",namedCurve:"P-384"};case"ES512":return{hash:{name:"SHA-512"},name:"ECDSA",namedCurve:"P-521"};default:throw new S("alg ".concat(e," is not supported either by JOSE or your javascript runtime"))}}function St(e,t,n){if(ee(t))return t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(re(t,"CryptoKey"));return X.subtle.importKey("raw",t,{hash:{name:"SHA-".concat(e.substr(-3))},name:"HMAC"},!1,[n])}throw new TypeError(re(t,"CryptoKey","Uint8Array"))}var kt=function(){var e=c(u.mark((function e(t,n,r){var i,o;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St(t,n,"sign");case 2:return i=e.sent,Pe(t,i),e.next=6,X.subtle.sign(xt(t),i,r);case 6:return o=e.sent,e.abrupt("return",new Uint8Array(o));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Et=Ze.bind(void 0,P,new Map([["b64",!0]])),Pt=function(){function e(t){f(this,e),this._payload=t}return i(e,[{key:"setProtectedHeader",value:function(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}},{key:"setUnprotectedHeader",value:function(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}},{key:"sign",value:function(){var e=c(u.mark((function e(t,n){var r,i,o,a,c,l,f,d,h;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._protectedHeader||this._unprotectedHeader){e.next=2;break}throw new P("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");case 2:if(F(this._protectedHeader,this._unprotectedHeader)){e.next=4;break}throw new P("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");case 4:if(r=s(s({},this._protectedHeader),this._unprotectedHeader),i=Et(null===n||void 0===n?void 0:n.crit,this._protectedHeader,r),o=!0,!i.has("b64")){e.next=11;break}if("boolean"===typeof(o=this._protectedHeader.b64)){e.next=11;break}throw new P('The "b64" (base64url-encode payload) Header Parameter must be a boolean');case 11:if("string"===typeof(a=r.alg)&&a){e.next=14;break}throw new P('JWS "alg" (Algorithm) Header Parameter missing or invalid');case 14:return Ke(a,t,"sign"),c=this._payload,o&&(c=N.encode(Z(c))),l=this._protectedHeader?N.encode(Z(JSON.stringify(this._protectedHeader))):N.encode(""),f=U(l,N.encode("."),c),e.next=21,kt(a,t,f);case 21:return d=e.sent,h={signature:Z(d),payload:""},o&&(h.payload=M.decode(c)),this._unprotectedHeader&&(h.header=this._unprotectedHeader),this._protectedHeader&&(h.protected=M.decode(l)),e.abrupt("return",h);case 27:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),At=function(){function e(t){f(this,e),this._flattened=new Pt(t)}return i(e,[{key:"setProtectedHeader",value:function(e){return this._flattened.setProtectedHeader(e),this}},{key:"sign",value:function(){var e=c(u.mark((function e(t,n){var r;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._flattened.sign(t,n);case 2:if(void 0!==(r=e.sent).payload){e.next=5;break}throw new TypeError("use the flattened module for creating JWS with b64: false");case 5:return e.abrupt("return","".concat(r.protected,".").concat(r.payload,".").concat(r.signature));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Ot=function(){var e=c(u.mark((function e(t,n,r,i){var o,a;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St(t,n,"verify");case 2:return o=e.sent,Pe(t,o),a=xt(t),e.prev=5,e.next=8,X.subtle.verify(a,o,r,i);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(5),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),Ct=Ze.bind(void 0,P,new Map([["b64",!0]])),Tt=Ge.bind(void 0,"algorithms");function Lt(e,t,n){return It.apply(this,arguments)}function It(){return(It=c(u.mark((function e(t,n,r){var i,o,a,c,l,f,d,h,p,g,v,y;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R(t)){e.next=2;break}throw new P("Flattened JWS must be an object");case 2:if(void 0!==t.protected||void 0!==t.header){e.next=4;break}throw new P('Flattened JWS must have either of the "protected" or "header" members');case 4:if(void 0===t.protected||"string"===typeof t.protected){e.next=6;break}throw new P("JWS Protected Header incorrect type");case 6:if(void 0!==t.payload){e.next=8;break}throw new P("JWS Payload missing");case 8:if("string"===typeof t.signature){e.next=10;break}throw new P("JWS Signature missing or incorrect type");case 10:if(void 0===t.header||R(t.header)){e.next=12;break}throw new P("JWS Unprotected Header incorrect type");case 12:if(o={},!t.protected){e.next=22;break}a=G(t.protected),e.prev=15,o=JSON.parse(M.decode(a)),e.next=22;break;case 19:throw e.prev=19,e.t0=e.catch(15),new P("JWS Protected Header is invalid");case 22:if(F(o,t.header)){e.next=24;break}throw new P("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");case 24:if(c=s(s({},o),t.header),l=Ct(null===r||void 0===r?void 0:r.crit,o,c),f=!0,!l.has("b64")){e.next=31;break}if("boolean"===typeof(f=o.b64)){e.next=31;break}throw new P('The "b64" (base64url-encode payload) Header Parameter must be a boolean');case 31:if("string"===typeof(d=c.alg)&&d){e.next=34;break}throw new P('JWS "alg" (Algorithm) Header Parameter missing or invalid');case 34:if(!(h=r&&Tt(r.algorithms))||h.has(d)){e.next=37;break}throw new x('"alg" (Algorithm) Header Parameter not allowed');case 37:if(!f){e.next=42;break}if("string"===typeof t.payload){e.next=40;break}throw new P("JWS Payload must be a string");case 40:e.next=44;break;case 42:if("string"===typeof t.payload||t.payload instanceof Uint8Array){e.next=44;break}throw new P("JWS Payload must be a string or an Uint8Array instance");case 44:if("function"!==typeof n){e.next=48;break}return e.next=47,n(o,t);case 47:n=e.sent;case 48:return Ke(d,n,"verify"),p=U(N.encode(null!==(i=t.protected)&&void 0!==i?i:""),N.encode("."),"string"===typeof t.payload?N.encode(t.payload):t.payload),g=G(t.signature),e.next=53,Ot(d,n,g,p);case 53:if(e.sent){e.next=56;break}throw new I;case 56:return v=f?G(t.payload):"string"===typeof t.payload?N.encode(t.payload):t.payload,y={payload:v},void 0!==t.protected&&(y.protectedHeader=o),void 0!==t.header&&(y.unprotectedHeader=t.header),e.abrupt("return",y);case 61:case"end":return e.stop()}}),e,null,[[15,19]])})))).apply(this,arguments)}function jt(e,t,n){return Ft.apply(this,arguments)}function Ft(){return(Ft=c(u.mark((function e(t,n,r){var i,o,a,s,c;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof Uint8Array&&(t=M.decode(t)),"string"===typeof t){e.next=3;break}throw new P("Compact JWS must be a string or Uint8Array");case 3:if(i=t.split("."),o=i[0],a=i[1],s=i[2],3===i.length){e.next=6;break}throw new P("Invalid Compact JWS");case 6:return e.next=8,Lt({payload:a||void 0,protected:o||void 0,signature:s||void 0},n,r);case 8:return c=e.sent,e.abrupt("return",{payload:c.payload,protectedHeader:c.protectedHeader});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Rt=new WeakMap,Nt=function(){function e(){f(this,e)}return i(e,[{key:"setProtectedHeader",value:function(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}},{key:"setUnprotectedHeader",value:function(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}},{key:"_protectedHeader",get:function(){return Rt.get(this).protectedHeader},set:function(e){Rt.get(this).protectedHeader=e}},{key:"_unprotectedHeader",get:function(){return Rt.get(this).unprotectedHeader},set:function(e){Rt.get(this).unprotectedHeader=e}}]),e}(),Mt=function(){function e(t){f(this,e),this._signatures=[],this._payload=t}return i(e,[{key:"addSignature",value:function(e,t){var n=new Nt;return Rt.set(n,{key:e,options:t}),this._signatures.push(n),n}},{key:"sign",value:function(){var e=c(u.mark((function e(){var t,n,r=this;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._signatures.length){e.next=2;break}throw new P("at least one signature must be added");case 2:return t={signatures:[],payload:""},n=new Set,e.next=6,Promise.all(this._signatures.map(function(){var e=c(u.mark((function e(i){var a,s,c,l,f,d,h,p,g;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Rt.get(i),s=a.protectedHeader,c=a.unprotectedHeader,l=a.options,f=a.key,d=new Pt(r._payload),s&&d.setProtectedHeader(s),c&&d.setUnprotectedHeader(c),e.next=6,d.sign(f,l);case 6:h=e.sent,p=h.payload,g=o(h,y),n.add(p),t.payload=p,t.signatures.push(g);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:if(1===n.size){e.next=8;break}throw new P("inconsistent use of JWS Unencoded Payload Option (RFC7797)");case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Dt(){return(Dt=c(u.mark((function e(t,n,r){var i,o,a;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R(t)){e.next=2;break}throw new P("General JWS must be an object");case 2:if(Array.isArray(t.signatures)&&t.signatures.every(R)){e.next=4;break}throw new P("JWS Signatures missing or incorrect type");case 4:i=l(t.signatures),e.prev=5,i.s();case 7:if((o=i.n()).done){e.next=19;break}return a=o.value,e.prev=9,e.next=12,Lt({header:a.header,payload:t.payload,protected:a.protected,signature:a.signature},n,r);case 12:return e.abrupt("return",e.sent);case 15:e.prev=15,e.t0=e.catch(9);case 17:e.next=7;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(5),i.e(e.t1);case 24:return e.prev=24,i.f(),e.finish(24);case 27:throw new I;case 28:case"end":return e.stop()}}),e,null,[[5,21,24,27],[9,15]])})))).apply(this,arguments)}var Ut=function(e){return Math.floor(e.getTime()/1e3)},Bt=86400,Ht=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i,zt=function(e){var t=Ht.exec(e);if(!t)throw new TypeError("Invalid time period format");var n=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(n);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(60*n);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(3600*n);case"day":case"days":case"d":return Math.round(n*Bt);case"week":case"weeks":case"w":return Math.round(604800*n);default:return Math.round(31557600*n)}},Kt=function(e){return e.toLowerCase().replace(/^application\//,"")},Vt=function(e,t){return"string"===typeof e?t.includes(e):!!Array.isArray(e)&&t.some(Set.prototype.has.bind(new Set(e)))},Wt=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.typ;if(i&&("string"!==typeof e.typ||Kt(e.typ)!==Kt(i)))throw new w('unexpected "typ" JWT header value',"typ","check_failed");try{n=JSON.parse(M.decode(t))}catch(h){}if(!R(n))throw new A("JWT Claims Set must be a top-level JSON object");var o=r.issuer;if(o&&!(Array.isArray(o)?o:[o]).includes(n.iss))throw new w('unexpected "iss" claim value',"iss","check_failed");var a=r.subject;if(a&&n.sub!==a)throw new w('unexpected "sub" claim value',"sub","check_failed");var s,u=r.audience;if(u&&!Vt(n.aud,"string"===typeof u?[u]:u))throw new w('unexpected "aud" claim value',"aud","check_failed");switch(typeof r.clockTolerance){case"string":s=zt(r.clockTolerance);break;case"number":s=r.clockTolerance;break;case"undefined":s=0;break;default:throw new TypeError("Invalid clockTolerance option type")}var c=r.currentDate,l=Ut(c||new Date);if(void 0!==n.iat||r.maxTokenAge){if("number"!==typeof n.iat)throw new w('"iat" claim must be a number',"iat","invalid");if(void 0===n.exp&&n.iat>l+s)throw new w('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}if(void 0!==n.nbf){if("number"!==typeof n.nbf)throw new w('"nbf" claim must be a number',"nbf","invalid");if(n.nbf>l+s)throw new w('"nbf" claim timestamp check failed',"nbf","check_failed")}if(void 0!==n.exp){if("number"!==typeof n.exp)throw new w('"exp" claim must be a number',"exp","invalid");if(n.exp<=l-s)throw new j('"exp" claim timestamp check failed',"exp","check_failed")}if(r.maxTokenAge){var f=l-n.iat,d="number"===typeof r.maxTokenAge?r.maxTokenAge:zt(r.maxTokenAge);if(f-s>d)throw new j('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(f<0-s)throw new w('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return n};function qt(){return(qt=c(u.mark((function e(t,n,r){var i,o,a;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt(t,n,r);case 2:if(i=e.sent,o=Wt(i.protectedHeader,i.plaintext,r),void 0===(a=i.protectedHeader).iss||a.iss===o.iss){e.next=7;break}throw new w('replicated "iss" claim header parameter mismatch',"iss","mismatch");case 7:if(void 0===a.sub||a.sub===o.sub){e.next=9;break}throw new w('replicated "sub" claim header parameter mismatch',"sub","mismatch");case 9:if(void 0===a.aud||JSON.stringify(a.aud)===JSON.stringify(o.aud)){e.next=11;break}throw new w('replicated "aud" claim header parameter mismatch',"aud","mismatch");case 11:return e.abrupt("return",{payload:o,protectedHeader:a});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jt=function(){function e(t){if(f(this,e),!R(t))throw new TypeError("JWT Claims Set MUST be an object");this._payload=t}return i(e,[{key:"setIssuer",value:function(e){return this._payload=s(s({},this._payload),{},{iss:e}),this}},{key:"setSubject",value:function(e){return this._payload=s(s({},this._payload),{},{sub:e}),this}},{key:"setAudience",value:function(e){return this._payload=s(s({},this._payload),{},{aud:e}),this}},{key:"setJti",value:function(e){return this._payload=s(s({},this._payload),{},{jti:e}),this}},{key:"setNotBefore",value:function(e){return this._payload=s(s({},this._payload),{},"number"===typeof e?{nbf:e}:{nbf:Ut(new Date)+zt(e)}),this}},{key:"setExpirationTime",value:function(e){return this._payload=s(s({},this._payload),{},"number"===typeof e?{exp:e}:{exp:Ut(new Date)+zt(e)}),this}},{key:"setIssuedAt",value:function(e){return this._payload=s(s({},this._payload),{},"undefined"===typeof e?{iat:Ut(new Date)}:{iat:e}),this}}]),e}(),Zt=function(e){h(n,e);var t=p(n);function n(){return f(this,n),t.apply(this,arguments)}return i(n,[{key:"setProtectedHeader",value:function(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}},{key:"setKeyManagementParameters",value:function(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}},{key:"setContentEncryptionKey",value:function(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}},{key:"setInitializationVector",value:function(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}},{key:"replicateIssuerAsHeader",value:function(){return this._replicateIssuerAsHeader=!0,this}},{key:"replicateSubjectAsHeader",value:function(){return this._replicateSubjectAsHeader=!0,this}},{key:"replicateAudienceAsHeader",value:function(){return this._replicateAudienceAsHeader=!0,this}},{key:"encrypt",value:function(){var e=c(u.mark((function e(t,n){var r;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new ht(N.encode(JSON.stringify(this._payload))),this._replicateIssuerAsHeader&&(this._protectedHeader=s(s({},this._protectedHeader),{},{iss:this._payload.iss})),this._replicateSubjectAsHeader&&(this._protectedHeader=s(s({},this._protectedHeader),{},{sub:this._payload.sub})),this._replicateAudienceAsHeader&&(this._protectedHeader=s(s({},this._protectedHeader),{},{aud:this._payload.aud})),r.setProtectedHeader(this._protectedHeader),this._iv&&r.setInitializationVector(this._iv),this._cek&&r.setContentEncryptionKey(this._cek),this._keyManagementParameters&&r.setKeyManagementParameters(this._keyManagementParameters),e.abrupt("return",r.encrypt(t,n));case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(Jt),Gt=function(e){h(n,e);var t=p(n);function n(){return f(this,n),t.apply(this,arguments)}return i(n,[{key:"setProtectedHeader",value:function(e){return this._protectedHeader=e,this}},{key:"sign",value:function(){var e=c(u.mark((function e(t,n){var r,i;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=new At(N.encode(JSON.stringify(this._payload)))).setProtectedHeader(this._protectedHeader),!Array.isArray(null===(r=this._protectedHeader)||void 0===r?void 0:r.crit)||!this._protectedHeader.crit.includes("b64")||!1!==this._protectedHeader.b64){e.next=4;break}throw new A("JWTs MUST NOT use unencoded payload");case 4:return e.abrupt("return",i.sign(t,n));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(Jt),Yt=function(e){h(n,e);var t=p(n);function n(){return f(this,n),t.apply(this,arguments)}return i(n,[{key:"encode",value:function(){var e=Z(JSON.stringify({alg:"none"})),t=Z(JSON.stringify(this._payload));return"".concat(e,".").concat(t,".")}}],[{key:"decode",value:function(e,t){if("string"!==typeof e)throw new A("Unsecured JWT must be a string");var n,r=e.split("."),i=r[0],o=r[1],a=r[2];if(3!==r.length||""!==a)throw new A("Invalid Unsecured JWT");try{if("none"!==(n=JSON.parse(M.decode(G(i)))).alg)throw new Error}catch(s){throw new A("Invalid Unsecured JWT")}return{payload:Wt(n,G(o),t),header:n}}}]),n}(Jt);function $t(){return($t=c(u.mark((function e(t,n,r){var i,o,a;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt(t,n,r);case 2:if(o=e.sent,!(null===(i=o.protectedHeader.crit)||void 0===i?void 0:i.includes("b64"))||!1!==o.protectedHeader.b64){e.next=5;break}throw new A("JWTs MUST NOT use unencoded payload");case 5:return a=Wt(o.protectedHeader,o.payload,r),e.abrupt("return",{payload:a,protectedHeader:o.protectedHeader});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qt=Z,Xt=G;function en(e,t){return tn.apply(this,arguments)}function tn(){return(tn=c(u.mark((function e(t,n){var r,i,o,a;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="HS256"===e.t0||"HS384"===e.t0||"HS512"===e.t0?3:"A128CBC-HS256"===e.t0||"A192CBC-HS384"===e.t0||"A256CBC-HS512"===e.t0?7:"A128KW"===e.t0||"A192KW"===e.t0||"A256KW"===e.t0?9:"A128GCMKW"===e.t0||"A192GCMKW"===e.t0||"A256GCMKW"===e.t0||"A128GCM"===e.t0||"A192GCM"===e.t0||"A256GCM"===e.t0?13:17;break;case 3:return i=parseInt(t.substr(-3),10),o={name:"HMAC",hash:{name:"SHA-".concat(i)},length:i},a=["sign","verify"],e.abrupt("break",18);case 7:return i=parseInt(t.substr(-3),10),e.abrupt("return",be(new Uint8Array(i>>3)));case 9:return i=parseInt(t.substring(1,4),10),o={name:"AES-KW",length:i},a=["wrapKey","unwrapKey"],e.abrupt("break",18);case 13:return i=parseInt(t.substring(1,4),10),o={name:"AES-GCM",length:i},a=["encrypt","decrypt"],e.abrupt("break",18);case 17:throw new S('unsupported or invalid JWK "alg" (Algorithm) Parameter value');case 18:return e.abrupt("return",X.subtle.generateKey(o,null!==(r=null===n||void 0===n?void 0:n.extractable)&&void 0!==r&&r,a));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nn(e){var t,n=null!==(t=null===e||void 0===e?void 0:e.modulusLength)&&void 0!==t?t:2048;if("number"!==typeof n||n<2048)throw new S("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return n}function rn(e,t){return on.apply(this,arguments)}function on(){return(on=c(u.mark((function e(t,n){var r,i,o,a;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="PS256"===e.t0||"PS384"===e.t0||"PS512"===e.t0?3:"RS256"===e.t0||"RS384"===e.t0||"RS512"===e.t0?6:"RSA-OAEP"===e.t0||"RSA-OAEP-256"===e.t0||"RSA-OAEP-384"===e.t0||"RSA-OAEP-512"===e.t0?9:"ES256"===e.t0?12:"ES384"===e.t0?15:"ES512"===e.t0?18:"ECDH-ES"===e.t0||"ECDH-ES+A128KW"===e.t0||"ECDH-ES+A192KW"===e.t0||"ECDH-ES+A256KW"===e.t0?21:24;break;case 3:return o={name:"RSA-PSS",hash:{name:"SHA-".concat(t.substr(-3))},publicExponent:new Uint8Array([1,0,1]),modulusLength:nn(n)},a=["sign","verify"],e.abrupt("break",25);case 6:return o={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-".concat(t.substr(-3))},publicExponent:new Uint8Array([1,0,1]),modulusLength:nn(n)},a=["sign","verify"],e.abrupt("break",25);case 9:return o={name:"RSA-OAEP",hash:{name:"SHA-".concat(parseInt(t.substr(-3),10)||1)},publicExponent:new Uint8Array([1,0,1]),modulusLength:nn(n)},a=["decrypt","unwrapKey","encrypt","wrapKey"],e.abrupt("break",25);case 12:return o={name:"ECDSA",namedCurve:"P-256"},a=["sign","verify"],e.abrupt("break",25);case 15:return o={name:"ECDSA",namedCurve:"P-384"},a=["sign","verify"],e.abrupt("break",25);case 18:return o={name:"ECDSA",namedCurve:"P-521"},a=["sign","verify"],e.abrupt("break",25);case 21:return o={name:"ECDH",namedCurve:null!==(r=null===n||void 0===n?void 0:n.crv)&&void 0!==r?r:"P-256"},a=["deriveKey","deriveBits"],e.abrupt("break",25);case 24:throw new S('unsupported or invalid JWK "alg" (Algorithm) Parameter value');case 25:return e.abrupt("return",X.subtle.generateKey(o,null!==(i=null===n||void 0===n?void 0:n.extractable)&&void 0!==i&&i,a));case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function an(){return(an=c(u.mark((function e(t,n){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rn(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sn(){return(sn=c(u.mark((function e(t,n){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",en(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var un=be;t.CompactEncrypt=ht,t.CompactSign=At,t.EmbeddedJWK=function(e,t){return gt.apply(this,arguments)},t.EncryptJWT=Zt,t.FlattenedEncrypt=dt,t.FlattenedSign=Pt,t.GeneralSign=Mt,t.JOSEAlgNotAllowed=x,t.JOSEError=b,t.JOSENotSupported=S,t.JWEDecryptionFailed=k,t.JWEInvalid=E,t.JWKInvalid=O,t.JWKSInvalid=C,t.JWKSMultipleMatchingKeys=L,t.JWKSNoMatchingKey=T,t.JWSInvalid=P,t.JWSSignatureVerificationFailed=I,t.JWTClaimValidationFailed=w,t.JWTExpired=j,t.JWTInvalid=A,t.SignJWT=Gt,t.UnsecuredJWT=Yt,t.base64UrlDecode=Xt,t.base64UrlEncode=Qt,t.calculateThumbprint=function(e){return yt.apply(this,arguments)},t.compactDecrypt=nt,t.compactVerify=jt,t.createRemoteJWKSet=function(e,t){var n=new wt(e,t);return n.getKey.bind(n)},t.decodeProtectedHeader=function(e){var t;if("string"===typeof e){var n=e.split(".");if(3===n.length||5===n.length)t=r(n,1)[0]}else if("object"===typeof e&&e){if(!("protected"in e))throw new TypeError("Token does not contain a Protected Header");t=e.protected}try{if("string"!==typeof t||!t)throw new Error;var i=JSON.parse(M.decode(Xt(t)));if(!R(i))throw new Error;return i}catch(o){throw new TypeError("Invalid Token or Protected Header formatting")}},t.flattenedDecrypt=et,t.flattenedVerify=Lt,t.fromKeyLike=ot,t.generalDecrypt=function(e,t,n){return pt.apply(this,arguments)},t.generalVerify=function(e,t,n){return Dt.apply(this,arguments)},t.generateKeyPair=function(e,t){return an.apply(this,arguments)},t.generateSecret=function(e,t){return sn.apply(this,arguments)},t.jwtDecrypt=function(e,t,n){return qt.apply(this,arguments)},t.jwtVerify=function(e,t,n){return $t.apply(this,arguments)},t.parseJwk=He,t.random=un},function(e,t,n){"use strict";var r=n(18),i=n(50).isKeyword,o=n(39),a=n(29),s=n(31),u=n(32),c={};e.exports=c,c.createMergedNodeMap=function(e,t){var n=(t=t||{}).issuer||new s.IdentifierIssuer("_:b"),r={"@default":{}};return c.createNodeMap(e,r,"@default",n),c.mergeNodeMaps(r)},c.createNodeMap=function(e,t,n,l,f,d){if(a.isArray(e)){var h,p=r(e);try{for(p.s();!(h=p.n()).done;){var g=h.value;c.createNodeMap(g,t,n,l,void 0,d)}}catch(z){p.e(z)}finally{p.f()}}else if(a.isObject(e))if(o.isValue(e)){if("@type"in e){var v=e["@type"];0===v.indexOf("_:")&&(e["@type"]=v=l.getId(v))}d&&d.push(e)}else{if(d&&o.isList(e)){var y=[];return c.createNodeMap(e["@list"],t,n,l,f,y),void d.push({"@list":y})}if("@type"in e){var m,_=e["@type"],b=r(_);try{for(b.s();!(m=b.n()).done;){var w=m.value;0===w.indexOf("_:")&&l.getId(w)}}catch(z){b.e(z)}finally{b.f()}}a.isUndefined(f)&&(f=o.isBlankNode(e)?l.getId(e["@id"]):e["@id"]),d&&d.push({"@id":f});var x=t[n],S=x[f]=x[f]||{};S["@id"]=f;var k,E=Object.keys(e).sort(),P=r(E);try{for(P.s();!(k=P.n()).done;){var A=k.value;if("@id"!==A)if("@reverse"!==A)if("@graph"!==A)if("@included"!==A)if("@type"!==A&&i(A)){if("@index"===A&&A in S&&(e[A]!==S[A]||e[A]["@id"]!==S[A]["@id"]))throw new u("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:S});S[A]=e[A]}else{var O=e[A];if(0===A.indexOf("_:")&&(A=l.getId(A)),0!==O.length){var C,T=r(O);try{for(T.s();!(C=T.n()).done;){var L=C.value;if("@type"===A&&(L=0===L.indexOf("_:")?l.getId(L):L),o.isSubject(L)||o.isSubjectReference(L)){if("@id"in L&&!L["@id"])continue;var I=o.isBlankNode(L)?l.getId(L["@id"]):L["@id"];s.addValue(S,A,{"@id":I},{propertyIsArray:!0,allowDuplicate:!1}),c.createNodeMap(L,t,n,l,I)}else if(o.isValue(L))s.addValue(S,A,L,{propertyIsArray:!0,allowDuplicate:!1});else if(o.isList(L)){var j=[];c.createNodeMap(L["@list"],t,n,l,f,j),L={"@list":j},s.addValue(S,A,L,{propertyIsArray:!0,allowDuplicate:!1})}else c.createNodeMap(L,t,n,l,f),s.addValue(S,A,L,{propertyIsArray:!0,allowDuplicate:!1})}}catch(z){T.e(z)}finally{T.f()}}else s.addValue(S,A,[],{propertyIsArray:!0})}else c.createNodeMap(e[A],t,n,l);else f in t||(t[f]={}),c.createNodeMap(e[A],t,f,l);else{var F={"@id":f},R=e["@reverse"];for(var N in R){var M,D=R[N],U=r(D);try{for(U.s();!(M=U.n()).done;){var B=M.value,H=B["@id"];o.isBlankNode(B)&&(H=l.getId(H)),c.createNodeMap(B,t,n,l,H),s.addValue(x[H],N,F,{propertyIsArray:!0,allowDuplicate:!1})}}catch(z){U.e(z)}finally{U.f()}}}}}catch(z){P.e(z)}finally{P.f()}}else d&&d.push(e)},c.mergeNodeMapGraphs=function(e){var t,n={},o=r(Object.keys(e).sort());try{for(o.s();!(t=o.n()).done;){var a,u=t.value,c=r(Object.keys(e[u]).sort());try{for(c.s();!(a=c.n()).done;){var l=a.value,f=e[u][l];l in n||(n[l]={"@id":l});var d,h=n[l],p=r(Object.keys(f).sort());try{for(p.s();!(d=p.n()).done;){var g=d.value;if(i(g)&&"@type"!==g)h[g]=s.clone(f[g]);else{var v,y=r(f[g]);try{for(y.s();!(v=y.n()).done;){var m=v.value;s.addValue(h,g,s.clone(m),{propertyIsArray:!0,allowDuplicate:!1})}}catch(_){y.e(_)}finally{y.f()}}}}catch(_){p.e(_)}finally{p.f()}}}catch(_){c.e(_)}finally{c.f()}}}catch(_){o.e(_)}finally{o.f()}return n},c.mergeNodeMaps=function(e){var t,n=e["@default"],i=Object.keys(e).sort(),a=r(i);try{for(a.s();!(t=a.n()).done;){var s=t.value;if("@default"!==s){var u=e[s],c=n[s];c?"@graph"in c||(c["@graph"]=[]):n[s]=c={"@id":s,"@graph":[]};var l,f=c["@graph"],d=r(Object.keys(u).sort());try{for(d.s();!(l=d.n()).done;){var h=u[l.value];o.isSubjectReference(h)||f.push(h)}}catch(p){d.e(p)}finally{d.f()}}}}catch(p){a.e(p)}finally{a.f()}return n}},function(e,t,n){var r=n(90)(Object,"create");e.exports=r},function(e,t,n){var r=n(226),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t,n){var r=n(240);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(246);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t){var n="undefined"!==typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,a="ArrayBuffer"in e;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!==typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function g(e){var t=new FileReader,n=p(t);return t.readAsArrayBuffer(e),n}function v(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=v(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=p(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=c(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},d.prototype.delete=function(e){delete this.map[c(e)]},d.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},d.prototype.set=function(e,t){this.map[c(e)]=l(t)},d.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},d.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),f(e)},d.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},d.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),f(e)},r&&(d.prototype[Symbol.iterator]=d.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _(e,t){var n=(t=t||{}).body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=function(e){var t=e.toUpperCase();return m.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function b(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function w(e){var t=new d;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t}function x(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},y.call(_.prototype),y.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},x.error=function(){var e=new x(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];x.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new x(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(E){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function k(e,n){return new Promise((function(r,o){var a=new _(e,n);if(a.signal&&a.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var e={status:s.status,statusText:s.statusText,headers:w(s.getAllResponseHeaders()||"")};e.url="responseURL"in s?s.responseURL:e.headers.get("X-Request-URL");var t="response"in s?s.response:s.responseText;r(new x(t,e))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",u)}),s.send("undefined"===typeof a._bodyInit?null:a._bodyInit)}))}k.polyfill=!0,e.fetch||(e.fetch=k,e.Headers=d,e.Request=_,e.Response=x),t.Headers=d,t.Request=_,t.Response=x,t.fetch=k,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),i=n(17);function o(e){return function(t){var n=Object(i.d)(),o=e(t,n),a=o.current.instance,s=Object(r.useRef)(t.position),u=t.position;return Object(r.useEffect)((function(){return a.addTo(n.map),function(){a.remove()}}),[n.map,a]),Object(r.useEffect)((function(){null!=u&&u!==s.current&&(a.setPosition(u),s.current=u)}),[a,u]),o}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(55),i=n(17),o=n(44),a=n(41);function s(e,t){return function(n,s){var u=Object(i.d)(),c=e(Object(a.a)(n,u),u);return Object(r.a)(u.map,n.attribution),Object(o.a)(c.current,n.eventHandlers),t(c.current,u,n,s),c}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=function(e,t){return e===t};function i(e,t){var n="object"===typeof t?t:{equalityCheck:t},i=n.equalityCheck,o=void 0===i?r:i,a=n.maxSize,s=void 0===a?1:a,u=n.resultEqualityCheck,c=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}}(o),l=1===s?function(e){var t;return{get:function(n){if(t&&e(t.key,n))return t.value},put:function(e,n){t={key:e,value:n}},getValues:function(){return t?[t.value]:[]},clear:function(){t=void 0}}}(c):function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var i=n[r];return r>0&&(n.splice(r,1),n.unshift(i)),i.value}}return{get:r,put:function(t,i){r(t)||(n.unshift({key:t,value:i}),n.length>e&&n.pop())},getValues:function(){return n.map((function(e){return e.value}))},clear:function(){n=[]}}}(s,c);function f(){var t=l.get(arguments);if(void 0===t){if(t=e.apply(null,arguments),u){var n=l.getValues(),r=n.find((function(e){return u(e,t)}));if(void 0!==r)return r}l.put(arguments,t)}return t}return f.clearCache=function(){return l.clear()},f}function o(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function a(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var a,s=0,u={memoizeOptions:void 0},c=r.pop();if("object"===typeof c&&(u=c,c=r.pop()),"function"!==typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var l=u,f=l.memoizeOptions,d=void 0===f?n:f,h=Array.isArray(d)?d:[d],p=o(r),g=e.apply(void 0,[function(){return s++,c.apply(null,arguments)}].concat(h)),v=e((function(){for(var e=[],t=p.length,n=0;n<t;n++)e.push(p[n].apply(null,arguments));return a=g.apply(null,e)}));return Object.assign(v,{resultFunc:c,memoizedResultFunc:g,dependencies:p,lastResult:function(){return a},recomputations:function(){return s},resetRecomputations:function(){return s=0}}),v};return i}var s=a(i)},function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(267),o=(r=i)&&r.__esModule?r:{default:r};t.default=o.default,e.exports=t.default},,function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,u=a(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REFRESH_BEFORE_EXPIRATION_SECONDS=t.EVENTS=t.PREFERRED_SIGNING_ALG=t.SOLID_CLIENT_AUTHN_KEY_PREFIX=void 0,t.SOLID_CLIENT_AUTHN_KEY_PREFIX="solidClientAuthn:",t.PREFERRED_SIGNING_ALG=["ES256","RS256"],t.EVENTS={NEW_REFRESH_TOKEN:"newRefreshToken",ERROR:"onError",SESSION_EXPIRED:"sessionExpired",SESSION_EXTENDED:"sessionExtended",TIMEOUT_SET:"timeoutSet"},t.REFRESH_BEFORE_EXPIRATION_SECONDS=5},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KEY_CURRENT_URL=t.KEY_CURRENT_SESSION=void 0;var r=n(9);t.KEY_CURRENT_SESSION="".concat(r.SOLID_CLIENT_AUTHN_KEY_PREFIX,"currentSession"),t.KEY_CURRENT_URL="".concat(r.SOLID_CLIENT_AUTHN_KEY_PREFIX,"currentUrl")},function(e,t,n){"use strict";var r=n(0),i=n(6),o=n(7),a=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.SessionInfoManager=t.clear=t.getUnauthenticatedSession=void 0;var s=n(9),u=n(92),c=n(53);function l(e,t){return f.apply(this,arguments)}function f(){return(f=a(r.mark((function e(t,n){var i,o,a,s,u;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.get("tmp-resource-server-session-info");case 2:if(i=e.sent,o=JSON.parse(null!==i&&void 0!==i?i:"{}"),void 0===(a=o.webId)){e.next=10;break}return s=new URL(a),u=s.origin,e.next=10,n.clearResourceServerSessionInfo(u);case 10:return e.next=12,Promise.all([n.deleteAllUserData(t,{secure:!1}),n.deleteAllUserData(t,{secure:!0}),n.delete("clientKey",{secure:!1})]);case 12:return e.next=14,c.clearOidcPersistentStorage();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.getUnauthenticatedSession=function(){return{isLoggedIn:!1,sessionId:u.v4(),fetch:fetch}},t.clear=l;var d=function(){function e(t){i(this,e),this.storageUtility=t}return o(e,[{key:"update",value:function(e,t){throw new Error("Not Implemented")}},{key:"get",value:function(){var e=a(r.mark((function e(t){var n,i,o,a,u,c,l,f,d,h;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageUtility.getForUser(t,"isLoggedIn",{secure:!0});case 2:return i=e.sent,e.next=5,this.storageUtility.getForUser(t,"webId",{secure:!0});case 5:return o=e.sent,e.next=8,this.storageUtility.getForUser(t,"clientId",{secure:!1});case 8:return a=e.sent,e.next=11,this.storageUtility.getForUser(t,"clientSecret",{secure:!1});case 11:return u=e.sent,e.next=14,this.storageUtility.getForUser(t,"idToken",{secure:!1});case 14:return c=e.sent,e.next=17,this.storageUtility.getForUser(t,"redirectUrl",{secure:!1});case 17:return l=e.sent,e.next=20,this.storageUtility.getForUser(t,"refreshToken",{secure:!0});case 20:return f=e.sent,e.next=23,this.storageUtility.getForUser(t,"issuer",{secure:!1});case 23:return d=e.sent,e.next=26,this.storageUtility.getForUser(t,"tokenType",{secure:!1});case 26:if(e.t1=n=e.sent,e.t0=null!==e.t1,!e.t0){e.next=30;break}e.t0=void 0!==n;case 30:if(!e.t0){e.next=34;break}e.t2=n,e.next=35;break;case 34:e.t2="DPoP";case 35:if(h=e.t2,s.isSupportedTokenType(h)){e.next=38;break}throw new Error("Tokens of type [".concat(h,"] are not supported."));case 38:if(void 0!==a||void 0!==c||void 0!==i||void 0!==o||void 0!==f){e.next=40;break}return e.abrupt("return",void 0);case 40:return e.abrupt("return",{sessionId:t,webId:o,isLoggedIn:"true"===i,redirectUrl:l,idToken:c,refreshToken:f,issuer:d,clientAppId:a,clientAppSecret:u,tokenType:h});case 41:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=a(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"clear",value:function(){var e=a(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l(t,this.storageUtility));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=a(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRegisteredSessionIdAll",value:function(){var e=a(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"clearAll",value:function(){var e=a(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();t.SessionInfoManager=d},function(e,t,n){e.exports=n(196)},function(e,t,n){"use strict";var r=n(37),i=n(6),o=n(7);e.exports=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;i(this,e),this.prefix=t,this._existing=n,this.counter=r}return o(e,[{key:"clone",value:function(){var t=this.prefix,n=this._existing,r=this.counter;return new e(t,new Map(n),r)}},{key:"getId",value:function(e){var t=e&&this._existing.get(e);if(t)return t;var n=this.prefix+this.counter;return this.counter++,e&&this._existing.set(e,n),n}},{key:"hasId",value:function(e){return this._existing.has(e)}},{key:"getOldIds",value:function(){return r(this._existing.keys())}}]),e}()},function(e,t,n){"use strict";var r=n(18),i=n(6),o=n(7),a="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",s="http://www.w3.org/2001/XMLSchema#string",u="NamedNode",c="BlankNode",l="Literal",f="DefaultGraph",d={};function h(e,t){return e.subject.termType===t.subject.termType&&e.object.termType===t.object.termType&&(e.subject.value===t.subject.value&&e.predicate.value===t.predicate.value&&e.object.value===t.object.value&&(e.object.termType!==l||e.object.datatype.termType===t.object.datatype.termType&&e.object.language===t.object.language&&e.object.datatype.value===t.object.datatype.value))}d.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,d.empty=new RegExp("^[ \\t]*$"),d.quad=new RegExp('^[ \\t]*(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9])(?:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040.])*(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040]))?))[ \\t]+(?:<([^:]+:[^>]*)>)[ \\t]+(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9])(?:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040.])*(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040]))?)|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^(?:<([^:]+:[^>]*)>))|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))[ \\t]*(?:\\.|(?:(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9])(?:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040.])*(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040]))?))[ \\t]*\\.))[ \\t]*$'),e.exports=function(){function e(){i(this,e)}return o(e,null,[{key:"parse",value:function(e){var t,n=[],i={},o=e.split(d.eoln),p=0,v=r(o);try{for(v.s();!(t=v.n()).done;){var y=t.value;if(p++,!d.empty.test(y)){var m=y.match(d.quad);if(null===m)throw new Error("N-Quads parse error on line "+p+".");var _={subject:null,predicate:null,object:null,graph:null};if(void 0!==m[1]?_.subject={termType:u,value:m[1]}:_.subject={termType:c,value:m[2]},_.predicate={termType:u,value:m[3]},void 0!==m[4]?_.object={termType:u,value:m[4]}:void 0!==m[5]?_.object={termType:c,value:m[5]}:(_.object={termType:l,value:void 0,datatype:{termType:u}},void 0!==m[7]?_.object.datatype.value=m[7]:void 0!==m[8]?(_.object.datatype.value=a,_.object.language=m[8]):_.object.datatype.value=s,_.object.value=m[6].replace(g,(function(e,t,n,r){if(t)switch(t){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(n)return String.fromCharCode(parseInt(n,16));if(r)throw new Error("Unsupported U escape")}))),void 0!==m[9]?_.graph={termType:u,value:m[9]}:void 0!==m[10]?_.graph={termType:c,value:m[10]}:_.graph={termType:f,value:""},_.graph.value in i){var b,w=!0,x=i[_.graph.value],S=r(x);try{for(S.s();!(b=S.n()).done;){if(h(b.value,_)){w=!1;break}}}catch(k){S.e(k)}finally{S.f()}w&&(x.push(_),n.push(_))}else i[_.graph.value]=[_],n.push(_)}}}catch(k){v.e(k)}finally{v.f()}return n}},{key:"serialize",value:function(t){Array.isArray(t)||(t=e.legacyDatasetToQuads(t));var n,i=[],o=r(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;i.push(e.serializeQuad(a))}}catch(s){o.e(s)}finally{o.f()}return i.sort().join("")}},{key:"serializeQuad",value:function(e){var t=e.subject,n=e.predicate,r=e.object,i=e.graph,o="";return t.termType===u?o+="<".concat(t.value,">"):o+="".concat(t.value),o+=" <".concat(n.value,"> "),r.termType===u?o+="<".concat(r.value,">"):r.termType===c?o+=r.value:(o+='"'.concat(function(e){return e.replace(p,(function(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}}))}(r.value),'"'),r.datatype.value===a?r.language&&(o+="@".concat(r.language)):r.datatype.value!==s&&(o+="^^<".concat(r.datatype.value,">"))),i.termType===u?o+=" <".concat(i.value,">"):i.termType===c&&(o+=" ".concat(i.value)),o+=" .\n"}},{key:"legacyDatasetToQuads",value:function(e){var t=[],n={"blank node":c,IRI:u,literal:l},r=function(r){e[r].forEach((function(e){var i={};for(var o in e){var d=e[o],h={termType:n[d.type],value:d.value};h.termType===l&&(h.datatype={termType:u},"datatype"in d&&(h.datatype.value=d.datatype),"language"in d?("datatype"in d||(h.datatype.value=a),h.language=d.language):"datatype"in d||(h.datatype.value=s)),i[o]=h}i.graph="@default"===r?{termType:f,value:""}:{termType:r.startsWith("_:")?c:u,value:r},t.push(i)}))};for(var i in e)r(i);return t}}]),e}();var p=/["\\\n\r]/g;var g=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g},function(e,t,n){"use strict";var r="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i="http://www.w3.org/2001/XMLSchema#";e.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:r,RDF_LIST:r+"List",RDF_FIRST:r+"first",RDF_REST:r+"rest",RDF_NIL:r+"nil",RDF_TYPE:r+"type",RDF_PLAIN_LITERAL:r+"PlainLiteral",RDF_XML_LITERAL:r+"XMLLiteral",RDF_JSON_LITERAL:r+"JSON",RDF_OBJECT:r+"object",RDF_LANGSTRING:r+"langString",XSD:i,XSD_BOOLEAN:i+"boolean",XSD_DOUBLE:i+"double",XSD_INTEGER:i+"integer",XSD_STRING:i+"string"}},function(e,t,n){var r=n(223),i=n(232);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=t.SafeNodeList=t.SafeHTMLCollection=void 0;var r,i=n(272);var o=((r=i)&&r.__esModule?r:{default:r}).default,a=o.canUseDOM?window.HTMLElement:{};t.SafeHTMLCollection=o.canUseDOM?window.HTMLCollection:{},t.SafeNodeList=o.canUseDOM?window.NodeList:{},t.canUseDOM=o.canUseDOM;t.default=a},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"v1",(function(){return g})),n.d(t,"v3",(function(){return E})),n.d(t,"v4",(function(){return P})),n.d(t,"v5",(function(){return C})),n.d(t,"NIL",(function(){return T})),n.d(t,"version",(function(){return L})),n.d(t,"validate",(function(){return s})),n.d(t,"stringify",(function(){return d})),n.d(t,"parse",(function(){return v}));var i=new Uint8Array(16);function o(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=function(e){return"string"===typeof e&&a.test(e)},u=[],c=0;c<256;++c)u.push((c+256).toString(16).substr(1));var l,f,d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!s(n))throw TypeError("Stringified UUID is invalid");return n},h=0,p=0;var g=function(e,t,n){var r=t&&n||0,i=t||new Array(16),a=(e=e||{}).node||l,s=void 0!==e.clockseq?e.clockseq:f;if(null==a||null==s){var u=e.random||(e.rng||o)();null==a&&(a=l=[1|u[0],u[1],u[2],u[3],u[4],u[5]]),null==s&&(s=f=16383&(u[6]<<8|u[7]))}var c=void 0!==e.msecs?e.msecs:Date.now(),g=void 0!==e.nsecs?e.nsecs:p+1,v=c-h+(g-p)/1e4;if(v<0&&void 0===e.clockseq&&(s=s+1&16383),(v<0||c>h)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=c,p=g,f=s;var y=(1e4*(268435455&(c+=122192928e5))+g)%4294967296;i[r++]=y>>>24&255,i[r++]=y>>>16&255,i[r++]=y>>>8&255,i[r++]=255&y;var m=c/4294967296*1e4&268435455;i[r++]=m>>>8&255,i[r++]=255&m,i[r++]=m>>>24&15|16,i[r++]=m>>>16&255,i[r++]=s>>>8|128,i[r++]=255&s;for(var _=0;_<6;++_)i[r+_]=a[_];return t||d(i)};var v=function(e){if(!s(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};var y=function(e,t,n){function r(e,r,i,o){if("string"===typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"===typeof r&&(r=v(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+e.length);if(a.set(r),a.set(e,r.length),(a=n(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,i){o=o||0;for(var s=0;s<16;++s)i[o+s]=a[s];return i}return d(a)}try{r.name=e}catch(i){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r};function m(e){return 14+(e+64>>>9<<4)+1}function _(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function b(e,t,n,r,i,o){return _((a=_(_(t,e),_(r,o)))<<(s=i)|a>>>32-s,n);var a,s}function w(e,t,n,r,i,o,a){return b(t&n|~t&r,e,t,i,o,a)}function x(e,t,n,r,i,o,a){return b(t&r|n&~r,e,t,i,o,a)}function S(e,t,n,r,i,o,a){return b(t^n^r,e,t,i,o,a)}function k(e,t,n,r,i,o,a){return b(n^(t|~r),e,t,i,o,a)}var E=y("v3",48,(function(e){if("string"===typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,r="0123456789abcdef",i=0;i<n;i+=8){var o=e[i>>5]>>>i%32&255,a=parseInt(r.charAt(o>>>4&15)+r.charAt(15&o),16);t.push(a)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[m(t)-1]=t;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,a=0;a<e.length;a+=16){var s=n,u=r,c=i,l=o;n=w(n,r,i,o,e[a],7,-680876936),o=w(o,n,r,i,e[a+1],12,-389564586),i=w(i,o,n,r,e[a+2],17,606105819),r=w(r,i,o,n,e[a+3],22,-1044525330),n=w(n,r,i,o,e[a+4],7,-176418897),o=w(o,n,r,i,e[a+5],12,1200080426),i=w(i,o,n,r,e[a+6],17,-1473231341),r=w(r,i,o,n,e[a+7],22,-45705983),n=w(n,r,i,o,e[a+8],7,1770035416),o=w(o,n,r,i,e[a+9],12,-1958414417),i=w(i,o,n,r,e[a+10],17,-42063),r=w(r,i,o,n,e[a+11],22,-1990404162),n=w(n,r,i,o,e[a+12],7,1804603682),o=w(o,n,r,i,e[a+13],12,-40341101),i=w(i,o,n,r,e[a+14],17,-1502002290),n=x(n,r=w(r,i,o,n,e[a+15],22,1236535329),i,o,e[a+1],5,-165796510),o=x(o,n,r,i,e[a+6],9,-1069501632),i=x(i,o,n,r,e[a+11],14,643717713),r=x(r,i,o,n,e[a],20,-373897302),n=x(n,r,i,o,e[a+5],5,-701558691),o=x(o,n,r,i,e[a+10],9,38016083),i=x(i,o,n,r,e[a+15],14,-660478335),r=x(r,i,o,n,e[a+4],20,-405537848),n=x(n,r,i,o,e[a+9],5,568446438),o=x(o,n,r,i,e[a+14],9,-1019803690),i=x(i,o,n,r,e[a+3],14,-187363961),r=x(r,i,o,n,e[a+8],20,1163531501),n=x(n,r,i,o,e[a+13],5,-1444681467),o=x(o,n,r,i,e[a+2],9,-51403784),i=x(i,o,n,r,e[a+7],14,1735328473),n=S(n,r=x(r,i,o,n,e[a+12],20,-1926607734),i,o,e[a+5],4,-378558),o=S(o,n,r,i,e[a+8],11,-2022574463),i=S(i,o,n,r,e[a+11],16,1839030562),r=S(r,i,o,n,e[a+14],23,-35309556),n=S(n,r,i,o,e[a+1],4,-1530992060),o=S(o,n,r,i,e[a+4],11,1272893353),i=S(i,o,n,r,e[a+7],16,-155497632),r=S(r,i,o,n,e[a+10],23,-1094730640),n=S(n,r,i,o,e[a+13],4,681279174),o=S(o,n,r,i,e[a],11,-358537222),i=S(i,o,n,r,e[a+3],16,-722521979),r=S(r,i,o,n,e[a+6],23,76029189),n=S(n,r,i,o,e[a+9],4,-640364487),o=S(o,n,r,i,e[a+12],11,-421815835),i=S(i,o,n,r,e[a+15],16,530742520),n=k(n,r=S(r,i,o,n,e[a+2],23,-995338651),i,o,e[a],6,-198630844),o=k(o,n,r,i,e[a+7],10,1126891415),i=k(i,o,n,r,e[a+14],15,-1416354905),r=k(r,i,o,n,e[a+5],21,-57434055),n=k(n,r,i,o,e[a+12],6,1700485571),o=k(o,n,r,i,e[a+3],10,-1894986606),i=k(i,o,n,r,e[a+10],15,-1051523),r=k(r,i,o,n,e[a+1],21,-2054922799),n=k(n,r,i,o,e[a+8],6,1873313359),o=k(o,n,r,i,e[a+15],10,-30611744),i=k(i,o,n,r,e[a+6],15,-1560198380),r=k(r,i,o,n,e[a+13],21,1309151649),n=k(n,r,i,o,e[a+4],6,-145523070),o=k(o,n,r,i,e[a+11],10,-1120210379),i=k(i,o,n,r,e[a+2],15,718787259),r=k(r,i,o,n,e[a+9],21,-343485551),n=_(n,s),r=_(r,u),i=_(i,c),o=_(o,l)}return[n,r,i,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(m(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))}));var P=function(e,t,n){var r=(e=e||{}).random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return d(r)};function A(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function O(e,t){return e<<t|e>>>32-t}var C=y("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,a=Math.ceil(o/16),s=new Array(a),u=0;u<a;++u){for(var c=new Uint32Array(16),l=0;l<16;++l)c[l]=e[64*u+4*l]<<24|e[64*u+4*l+1]<<16|e[64*u+4*l+2]<<8|e[64*u+4*l+3];s[u]=c}s[a-1][14]=8*(e.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(e.length-1)&4294967295;for(var f=0;f<a;++f){for(var d=new Uint32Array(80),h=0;h<16;++h)d[h]=s[f][h];for(var p=16;p<80;++p)d[p]=O(d[p-3]^d[p-8]^d[p-14]^d[p-16],1);for(var g=n[0],v=n[1],y=n[2],m=n[3],_=n[4],b=0;b<80;++b){var w=Math.floor(b/20),x=O(g,5)+A(w,v,y,m)+_+t[w]+d[b]>>>0;_=m,m=y,y=O(v,30)>>>0,v=g,g=x}n[0]=n[0]+g>>>0,n[1]=n[1]+v>>>0,n[2]=n[2]+y>>>0,n[3]=n[3]+m>>>0,n[4]=n[4]+_>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]})),T="00000000-0000-0000-0000-000000000000";var L=function(e){if(!s(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(56);function i(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}},function(e,t,n){"use strict";function r(e,t,n){var r=t.opacity,i=t.zIndex;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=i&&i!==n.zIndex&&e.setZIndex(i)}n.d(t,"a",(function(){return r}))},function(e,t){e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.sorted,r=t.skipIndex,i=t.ignorenull,o=t.skipBracket,a=t.useDot,s=t.whitespace,u=void 0===s?"+":s,c=function(e){return String(e).replace(/(?:(?![ !'-\*~])[\s\S])/g,encodeURIComponent).replace(/ /g,u).replace(/[!'()~*]/g,(function(e){return"%".concat(e.charCodeAt().toString(16).slice(-2).toUpperCase())}))},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.keys(e);return n?t.sort():t},f=function(e){return e.filter((function(e){return e})).join("&")},d=function(e,t){return f(l(t).map((function(n){return g(a?"".concat(e,".").concat(n):"".concat(e,"[").concat(n,"]"),t[n])})))},h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o?"":"[]";return t.length?f(t.map((function(t,i){return g(r?e+n:e+"["+i+"]",t)}))):c(e+n)},p=function(e,t){return f(Array.from(t).map((function(t){return g(e,t)})))},g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:typeof t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return t===r?r=i?r:c(e)+"="+r:/string|number|boolean/.test(n)?r=c(e)+"="+c(t):Array.isArray(t)?r=h(e,t):t instanceof Set?r=p(e,t):"object"===n&&(r=d(e,t)),r};return e&&f(l(e).map((function(t){return g(t,e[t])})))}},function(e,t,n){var r=n(63),i=n(195);e.exports=Object.assign({dataset:function(e){return new i(e)}},r)},function(e,t,n){var r=n(266);e.exports=h,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=d;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],d=n[1],h=n.index;if(s+=e.slice(a,h),a=h+f.length,d)s+=d[1];else{var p=e[a],g=n[2],v=n[3],y=n[4],m=n[5],_=n[6],b=n[7];s&&(r.push(s),s="");var w=null!=g&&null!=p&&p!==g,x="+"===_||"*"===_,S="?"===_||"*"===_,k=n[2]||l,E=y||m;r.push({name:v||o++,prefix:g||"",delimiter:k,optional:S,repeat:x,partial:w,asterisk:!!b,pattern:E?c(E):b?".*":"[^"+u(k)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var o="",s=t||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,d=s[l.name];if(null==d){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(d)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var h=0;h<d.length;h++){if(f=u(d[h]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===h?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(d),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');o+=l.prefix+f}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function d(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)a+=u(c);else{var d=u(c.prefix),h="(?:"+c.pattern+")";t.push(c),c.repeat&&(h+="(?:"+d+h+")*"),a+=h=c.optional?c.partial?d+"("+h+")?":"(?:"+d+"("+h+"))?":d+"("+h+")"}}var p=u(n.delimiter||"/"),g=a.slice(-p.length)===p;return i||(a=(g?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&g?"":"(?="+p+"|$)",l(new RegExp("^"+a,f(n)),t)}function h(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(h(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return d(o(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},,function(e,t,n){"use strict";e.exports=n(148)},function(e,t,n){"use strict";var r=n(0),i=n(30),o=n(6),a=n(7),s=n(81),u=n(27),c=n(28),l=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.Session=t.silentlyAuthenticate=void 0;var f=n(140),d=n(9),h=n(92),p=n(113),g=n(84),v=n(114);function y(e,t){return m.apply(this,arguments)}function m(){return m=l(r.mark((function e(t,n){var i,o,a,s,u=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>2&&void 0!==u[2]?u[2]:{inIframe:!1},o=u.length>3?u[3]:void 0,e.next=4,n.validateCurrentSession();case 4:if(null===(s=e.sent)){e.next=10;break}return window.localStorage.setItem(g.KEY_CURRENT_URL,window.location.href),e.next=9,n.login({sessionId:t,prompt:"none",oidcIssuer:s.issuer,redirectUrl:s.redirectUrl,clientId:s.clientAppId,clientSecret:s.clientAppSecret,tokenType:null!==(a=s.tokenType)&&void 0!==a?a:"DPoP",inIframe:i.inIframe},o);case 9:return e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function _(e){return!!(null===e||void 0===e?void 0:e.isLoggedIn)}t.silentlyAuthenticate=y;var b=function(e){u(n,e);var t=c(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=arguments.length>1?arguments[1]:void 0;return o(this,n),(e=t.call(this)).tokenRequestInProgress=!1,e.tmpFetchWithCookies=!1,e.login=function(){var t=l(r.mark((function t(n){var o;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.clientAuthentication.login(i(i({sessionId:e.info.sessionId},n),{},{tokenType:null!==(o=n.tokenType)&&void 0!==o?o:"DPoP"}),s(e));case 2:return t.abrupt("return",new Promise((function(){})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.fetch=function(){var t=l(r.mark((function t(n,o){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.clientAuthentication.fetch(n,i(i({},o),{},{credentials:e.tmpFetchWithCookies?"include":null===o||void 0===o?void 0:o.credentials})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.logout=l(r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.clientAuthentication.logout(e.info.sessionId);case 2:e.info.isLoggedIn=!1,e.tmpFetchWithCookies=!1,e.emit("logout");case 5:case"end":return t.stop()}}),t)}))),e.handleIncomingRedirect=l(r.mark((function t(){var n,i,o,a,u,c,l,f,d,h,p,m,b,w,x=arguments;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=x.length>0&&void 0!==x[0]?x[0]:{},!e.info.isLoggedIn){t.next=3;break}return t.abrupt("return",e.info);case 3:if(!e.tokenRequestInProgress){t.next=5;break}return t.abrupt("return",void 0);case 5:if(a=null!==(i=(o="string"===typeof n?{url:n}:n).url)&&void 0!==i?i:window.location.href,null===window.frameElement){t.next=10;break}return v.postRedirectUrlToParent(a),t.abrupt("return",void 0);case 10:if(!0!==o.useEssSession||!0===o.restorePreviousSession?window.localStorage.setItem("tmp-resource-server-session-enabled","false"):window.localStorage.setItem("tmp-resource-server-session-enabled","true"),"string"!==typeof(u=window.localStorage.getItem("tmp-resource-server-session-info"))||!0===o.restorePreviousSession||!0!==o.useEssSession){t.next=25;break}if(c=function(e){var t,n=Object.keys(null!==(t=e.sessions)&&void 0!==t?t:{});return"string"===typeof e.webId&&n.length>0&&"number"===typeof e.sessions[n[0]].expiration},l=JSON.parse(u),!c(l)){t.next=25;break}if(f=Object.keys(l.sessions),d=new URL(l.webId).hostname,h=f.find((function(e){return new URL(e).hostname===d})),p=null!==h&&void 0!==h?h:f[0],!(l.sessions[p].expiration-Date.now()>3e5)){t.next=25;break}return e.info.isLoggedIn=!0,e.info.webId=l.webId,e.tmpFetchWithCookies=!0,t.abrupt("return",e.info);case 25:return e.tokenRequestInProgress=!0,t.next=28,e.clientAuthentication.handleIncomingRedirect(a,s(e));case 28:if(!_(m=t.sent)){t.next=35;break}e.setSessionInfo(m),null===(b=window.localStorage.getItem(g.KEY_CURRENT_URL))?e.emit("login"):(window.localStorage.removeItem(g.KEY_CURRENT_URL),e.emit("sessionRestore",b)),t.next=43;break;case 35:if(!0!==o.restorePreviousSession){t.next=43;break}if(null===(w=window.localStorage.getItem(g.KEY_CURRENT_SESSION))){t.next=43;break}return t.next=40,y(w,e.clientAuthentication,void 0,s(e));case 40:if(!t.sent){t.next=43;break}return t.abrupt("return",new Promise((function(){})));case 43:return e.tokenRequestInProgress=!1,t.abrupt("return",m);case 45:case"end":return t.stop()}}),t)}))),a.clientAuthentication?e.clientAuthentication=a.clientAuthentication:a.secureStorage&&a.insecureStorage?e.clientAuthentication=p.getClientAuthenticationWithDependencies({secureStorage:a.secureStorage,insecureStorage:a.insecureStorage}):e.clientAuthentication=p.getClientAuthenticationWithDependencies({}),a.sessionInfo?e.info={sessionId:a.sessionInfo.sessionId,isLoggedIn:!1,webId:a.sessionInfo.webId}:e.info={sessionId:null!==u&&void 0!==u?u:h.v4(),isLoggedIn:!1},v.setupIframeListener(function(){var t=l(r.mark((function t(n){var i;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.clientAuthentication.handleIncomingRedirect(n,s(e));case 2:if(_(i=t.sent)){t.next=5;break}return t.abrupt("return");case 5:e.setSessionInfo(i);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.on("tokenRenewal",(function(){return y(e.info.sessionId,e.clientAuthentication,{inIframe:!0},s(e))})),e}return a(n,[{key:"onLogin",value:function(e){this.on("login",e)}},{key:"onLogout",value:function(e){this.on("logout",e)}},{key:"onError",value:function(e){this.on(d.EVENTS.ERROR,e)}},{key:"onSessionRestore",value:function(e){this.on("sessionRestore",e)}},{key:"onSessionExpiration",value:function(e){this.on(d.EVENTS.SESSION_EXPIRED,e)}},{key:"setSessionInfo",value:function(e){var t=this;this.info.isLoggedIn=e.isLoggedIn,this.info.webId=e.webId,this.info.sessionId=e.sessionId,this.info.expirationDate=e.expirationDate,this.on(d.EVENTS.SESSION_EXTENDED,(function(e){t.info.expirationDate=Date.now()+1e3*e}))}}]),n}(f.EventEmitter);t.Session=b},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t,n){"use strict";var r=n(37),i=n(6),o=n(7),a=n(27),s=n(28),u=n(49);Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){a(n,e);var t=s(n);function n(e,r){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return i(this,n),t.call(this,"string"===typeof e?n.substituteParams(e,r):n.appendErrorIri(n.lookupErrorIri(e,r),e,o))}return o(n,[{key:"httpResponse",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.message=n.appendHttpResponseDetails(this.message,e,t),this.httpErrorResponse=e,this}},{key:"hasHttpResponse",value:function(){return void 0!==this.httpErrorResponse}},{key:"getHttpResponse",value:function(){return this.httpErrorResponse}},{key:"getHttpStatusCode",value:function(){if(void 0===this.httpErrorResponse)throw new n("This InruptError was not provided with a HTTP response - so we can't get its HTTP Status Code.");return this.httpErrorResponse.status}},{key:"getHttpStatusText",value:function(){if(void 0===this.httpErrorResponse)throw new n("This InruptError was not provided with a HTTP response - so we can't get its HTTP Status Text!");return this.httpErrorResponse.statusText}}],[{key:"determineIfVocabTerm",value:function(e){return void 0!==e.strict}},{key:"lookupErrorIri",value:function(e,t){if(n.determineIfVocabTerm(e)){var i=void 0===t?e.message:e.messageParams.apply(e,r(t));return void 0===i?"Looked up error message IRI [".concat(e.value,"], but found no message value."):i}return"Error message looked up at: [".concat(e.value,"]").concat(void 0===t?"":", with params [".concat(t.toString(),"]"))}},{key:"appendHttpResponseDetails",value:function(e,t,n){return n&&"undefined"!==typeof t?"".concat(e," HTTP details: status code [").concat(t.status,"], status text [").concat(t.statusText,"]."):e}},{key:"appendErrorIri",value:function(e,t,n){return n?"".concat(e," Error IRI: [").concat(t.value,"]."):e}},{key:"substituteParams",value:function(e,t){var n=e;if(void 0!==t){var r=e.split("{{").length-1;if(r!==t.length)throw new Error("Setting parameters on message [".concat(e,"], but it requires [").concat(r,"] params and we received [").concat(t.length,"]."));for(var i=0;i<t.length;i+=1){var o="{{".concat(i,"}}");n=n.replace(o,t[i])}}return n}}]),n}(u(Error));t.default=c},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){var r=n(160);e.exports=function(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},function(e,t,n){"use strict";var r=n(6),i=n(27),o=n(28),a=n(49);Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidResponseError=void 0;var s=function(e){i(n,e);var t=o(n);function n(e){var i;return r(this,n),(i=t.call(this,"Invalid response from OIDC provider: missing fields ".concat(e))).missingFields=e,i}return n}(a(Error));t.InvalidResponseError=s},function(e,t,n){"use strict";var r=n(6),i=n(27),o=n(28),a=n(49);Object.defineProperty(t,"__esModule",{value:!0}),t.OidcProviderError=void 0;var s=function(e){i(n,e);var t=o(n);function n(e,i,o){var a;return r(this,n),(a=t.call(this,e)).error=i,a.errorDescription=o,a}return n}(a(Error));t.OidcProviderError=s},function(e,t,n){"use strict";var r=n(38),i=n(0),o=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.generateDpopKeyPair=t.createDpopHeader=void 0;var a=n(67),s=n(92),u=n(83);function c(e){var t=new URL(e);return t.hash="",t.username="",t.password="",t.toString()}function l(){return(l=o(i.mark((function e(t,n,r){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new a.SignJWT({htu:c(t),htm:n.toUpperCase(),jti:s.v4()}).setProtectedHeader({alg:u.PREFERRED_SIGNING_ALG[0],jwk:r.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(r.privateKey,{}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=o(i.mark((function e(){var t,n,o,s,c;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.generateKeyPair(u.PREFERRED_SIGNING_ALG[0]);case 2:return t=e.sent,n=t.privateKey,o=t.publicKey,e.t0=n,e.next=8,a.fromKeyLike(o);case 8:return e.t1=e.sent,s={privateKey:e.t0,publicKey:e.t1},c=r(u.PREFERRED_SIGNING_ALG,1),s.publicKey.alg=c[0],e.abrupt("return",s);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.createDpopHeader=function(e,t,n){return l.apply(this,arguments)},t.generateDpopKeyPair=function(){return f.apply(this,arguments)}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getClientAuthenticationWithDependencies=void 0;var i=n(9),o=r(n(170)),a=r(n(171)),s=r(n(172)),u=r(n(173)),c=r(n(174)),l=n(176),f=r(n(177)),d=n(85),h=n(178),p=r(n(179)),g=r(n(180)),v=r(n(181)),y=r(n(182)),m=n(183),_=r(n(184));t.getClientAuthenticationWithDependencies=function(e){var t=new i.InMemoryStorage,n=e.secureStorage||t,r=e.insecureStorage||new g.default,b=new o.default(n,r),w=new c.default(b),x=new y.default(b),S=new d.SessionInfoManager(b),k=new _.default(b,w,x),E=new s.default(b,new u.default(b,new v.default),w,x),P=new p.default([new m.ErrorOidcHandler,new h.AuthCodeRedirectHandler(b,S,w,x,k),new l.FallbackRedirectHandler]);return new a.default(E,P,new f.default(S),S,w)}},function(e,t,n){"use strict";var r,i=n(0),o=n(8);function a(){return"undefined"===typeof r&&((r=window.document.createElement("iframe")).setAttribute("hidden","true"),r.setAttribute("sandbox","allow-scripts allow-same-origin")),r}Object.defineProperty(t,"__esModule",{value:!0}),t.postRedirectUrlToParent=t.setupIframeListener=t.redirectInIframe=void 0,t.redirectInIframe=function(e){var t=a();window.document.body.appendChild(t),t.src=e},t.setupIframeListener=function(e){"undefined"!==typeof window&&window.addEventListener("message",function(){var t=o(i.mark((function t(n){var r;return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a(),n.origin!==window.location.origin||n.source!==r.contentWindow){t.next=5;break}if("string"!==typeof n.data.redirectUrl){t.next=5;break}return t.next=5,e(n.data.redirectUrl);case 5:window.document.body.contains(r)&&window.document.body.removeChild(r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},t.postRedirectUrlToParent=function(e){window.top.postMessage({redirectUrl:e},window.location.origin)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(132),i=n(98);function o(e,t){return!t||"object"!==Object(r.a)(t)&&"function"!==typeof t?Object(i.a)(e):t}},function(e,t,n){var r=n(6),i=n(7),o=function(){"use strict";function e(){r(this,e)}return i(e,[{key:"equals",value:function(e){return!!e&&e.termType===this.termType}}]),e}();o.prototype.termType="DefaultGraph",o.prototype.value="",e.exports=o},function(e,t,n){var r=n(6),i=n(7),o=function(){"use strict";function e(t){r(this,e),this.value=t}return i(e,[{key:"equals",value:function(e){return!!e&&e.termType===this.termType&&e.value===this.value}}]),e}();o.prototype.termType="NamedNode",e.exports=o},function(e,t,n){"use strict";(function(t){var r=n(0),i=n(30),o=n(37),a=n(18),s=n(8),u=n(6),c=n(7),l=n(87),f=n(120),d=n(121),h=n(88);function p(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}e.exports=function(){function e(){u(this,e),this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new l("_:c14n"),this.hashAlgorithm="sha256",this.quads=null}return c(e,[{key:"main",value:function(){var e=s(r.mark((function e(t){var n,s,u,c,f,d,g,v,y,m,_,b,w,x,S,k,E,P,A,O,C,T,L,I,j,F,R,N,M,D,U,B,H,z,K,V,W;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.quads=t,n=a(t);try{for(n.s();!(s=n.n()).done;)u=s.value,this._addBlankNodeQuadInfo({quad:u,component:u.subject}),this._addBlankNodeQuadInfo({quad:u,component:u.object}),this._addBlankNodeQuadInfo({quad:u,component:u.graph})}catch(r){n.e(r)}finally{n.f()}c=new Map,f=o(this.blankNodeInfo.keys()),d=0,g=a(f),e.prev=7,g.s();case 9:if((v=g.n()).done){e.next=18;break}if(y=v.value,++d%100!==0){e.next=14;break}return e.next=14,this._yield();case 14:return e.next=16,this._hashAndTrackBlankNode({id:y,hashToBlankNodes:c});case 16:e.next=9;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(7),g.e(e.t0);case 23:return e.prev=23,g.f(),e.finish(23);case 26:m=o(c.keys()).sort(),_=[],b=a(m),e.prev=29,b.s();case 31:if((w=b.n()).done){e.next=41;break}if(x=w.value,!((S=c.get(x)).length>1)){e.next=37;break}return _.push(S),e.abrupt("continue",39);case 37:k=S[0],this.canonicalIssuer.getId(k);case 39:e.next=31;break;case 41:e.next=46;break;case 43:e.prev=43,e.t1=e.catch(29),b.e(e.t1);case 46:return e.prev=46,b.f(),e.finish(46);case 49:E=0,P=_;case 50:if(!(E<P.length)){e.next=81;break}A=P[E],O=[],C=a(A),e.prev=54,C.s();case 56:if((T=C.n()).done){e.next=68;break}if(L=T.value,!this.canonicalIssuer.hasId(L)){e.next=60;break}return e.abrupt("continue",66);case 60:return(I=new l("_:b")).getId(L),e.next=64,this.hashNDegreeQuads(L,I);case 64:j=e.sent,O.push(j);case 66:e.next=56;break;case 68:e.next=73;break;case 70:e.prev=70,e.t2=e.catch(54),C.e(e.t2);case 73:return e.prev=73,C.f(),e.finish(73);case 76:for(O.sort(p),F=0,R=O;F<R.length;F++){N=R[F],M=N.issuer.getOldIds(),D=a(M);try{for(D.s();!(U=D.n()).done;)B=U.value,this.canonicalIssuer.getId(B)}catch(r){D.e(r)}finally{D.f()}}case 78:E++,e.next=50;break;case 81:H=[],z=a(this.quads);try{for(z.s();!(K=z.n()).done;)V=K.value,(W=i({},V)).subject=this._useCanonicalId({component:W.subject}),W.object=this._useCanonicalId({component:W.object}),W.graph=this._useCanonicalId({component:W.graph}),H.push(h.serializeQuad(W))}catch(r){z.e(r)}finally{z.f()}return H.sort(),e.abrupt("return",H.join(""));case 86:case"end":return e.stop()}}),e,this,[[7,20,23,26],[29,43,46,49],[54,70,73,76]])})));return function(t){return e.apply(this,arguments)}}()},{key:"hashFirstDegreeQuads",value:function(){var e=s(r.mark((function e(t){var n,i,o,s,u,c,l,d,p,g,v;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],i=this.blankNodeInfo.get(t),o=i.quads,s=a(o);try{for(s.s();!(u=s.n()).done;)c=u.value,(l={subject:null,predicate:c.predicate,object:null,graph:null}).subject=this.modifyFirstDegreeComponent(t,c.subject,"subject"),l.object=this.modifyFirstDegreeComponent(t,c.object,"object"),l.graph=this.modifyFirstDegreeComponent(t,c.graph,"graph"),n.push(h.serializeQuad(l))}catch(r){s.e(r)}finally{s.f()}for(n.sort(),d=new f(this.hashAlgorithm),p=0,g=n;p<g.length;p++)v=g[p],d.update(v);return e.next=10,d.digest();case 10:return i.hash=e.sent,e.abrupt("return",i.hash);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"hashRelatedBlankNode",value:function(){var e=s(r.mark((function e(t,n,i,o){var a,s;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.canonicalIssuer.hasId(t)?this.canonicalIssuer.getId(t):i.hasId(t)?i.getId(t):this.blankNodeInfo.get(t).hash,(s=new f(this.hashAlgorithm)).update(o),"g"!==o&&s.update(this.getRelatedPredicate(n)),s.update(a),e.abrupt("return",s.digest());case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"hashNDegreeQuads",value:function(){var e=s(r.mark((function e(t,n){var i,s,u,c,l,h,p,g,v,y,m,_,b,w,x,S,k,E,P,A,O,C;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new f(this.hashAlgorithm),e.next=3,this.createHashToRelated(t,n);case 3:s=e.sent,u=o(s.keys()).sort(),c=a(u),e.prev=6,c.s();case 8:if((l=c.n()).done){e.next=69;break}h=l.value,i.update(h),p="",g=void 0,v=new d(s.get(h)),y=0;case 15:if(!v.hasNext()){e.next=65;break}if(m=v.next(),++y%3!==0){e.next=20;break}return e.next=20,this._yield();case 20:_=n.clone(),b="",w=[],x=!1,S=a(m),e.prev=25,S.s();case 27:if((k=S.n()).done){e.next=35;break}if(E=k.value,this.canonicalIssuer.hasId(E)?b+=this.canonicalIssuer.getId(E):(_.hasId(E)||w.push(E),b+=_.getId(E)),!(0!==p.length&&b>p)){e.next=33;break}return x=!0,e.abrupt("break",35);case 33:e.next=27;break;case 35:e.next=40;break;case 37:e.prev=37,e.t0=e.catch(25),S.e(e.t0);case 40:return e.prev=40,S.f(),e.finish(40);case 43:if(!x){e.next=45;break}return e.abrupt("continue",15);case 45:P=0,A=w;case 46:if(!(P<A.length)){e.next=60;break}return O=A[P],e.next=50,this.hashNDegreeQuads(O,_);case 50:if(C=e.sent,b+=_.getId(O),b+="<".concat(C.hash,">"),_=C.issuer,!(0!==p.length&&b>p)){e.next=57;break}return x=!0,e.abrupt("break",60);case 57:P++,e.next=46;break;case 60:if(!x){e.next=62;break}return e.abrupt("continue",15);case 62:(0===p.length||b<p)&&(p=b,g=_),e.next=15;break;case 65:i.update(p),n=g;case 67:e.next=8;break;case 69:e.next=74;break;case 71:e.prev=71,e.t1=e.catch(6),c.e(e.t1);case 74:return e.prev=74,c.f(),e.finish(74);case 77:return e.next=79,i.digest();case 79:return e.t2=e.sent,e.t3=n,e.abrupt("return",{hash:e.t2,issuer:e.t3});case 82:case"end":return e.stop()}}),e,this,[[6,71,74,77],[25,37,40,43]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"modifyFirstDegreeComponent",value:function(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}},{key:"getRelatedPredicate",value:function(e){return"<".concat(e.predicate.value,">")}},{key:"createHashToRelated",value:function(){var e=s(r.mark((function e(t,n){var i,o,s,u,c,l;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new Map,o=this.blankNodeInfo.get(t).quads,s=0,u=a(o),e.prev=4,u.s();case 6:if((c=u.n()).done){e.next=15;break}if(l=c.value,++s%100!==0){e.next=11;break}return e.next=11,this._yield();case 11:return e.next=13,Promise.all([this._addRelatedBlankNodeHash({quad:l,component:l.subject,position:"s",id:t,issuer:n,hashToRelated:i}),this._addRelatedBlankNodeHash({quad:l,component:l.object,position:"o",id:t,issuer:n,hashToRelated:i}),this._addRelatedBlankNodeHash({quad:l,component:l.graph,position:"g",id:t,issuer:n,hashToRelated:i})]);case 13:e.next=6;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),u.e(e.t0);case 20:return e.prev=20,u.f(),e.finish(20);case 23:return e.abrupt("return",i);case 24:case"end":return e.stop()}}),e,this,[[4,17,20,23]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_hashAndTrackBlankNode",value:function(){var e=s(r.mark((function e(t){var n,i,o,a;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,i=t.hashToBlankNodes,e.next=3,this.hashFirstDegreeQuads(n);case 3:o=e.sent,(a=i.get(o))?a.push(n):i.set(o,[n]);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addBlankNodeQuadInfo",value:function(e){var t=e.quad,n=e.component;if("BlankNode"===n.termType){var r=n.value,i=this.blankNodeInfo.get(r);i?i.quads.add(t):this.blankNodeInfo.set(r,{quads:new Set([t]),hash:null})}}},{key:"_addRelatedBlankNodeHash",value:function(){var e=s(r.mark((function e(t){var n,i,o,a,s,u,c,l,f;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.quad,i=t.component,o=t.position,a=t.id,s=t.issuer,u=t.hashToRelated,"BlankNode"===i.termType&&i.value!==a){e.next=3;break}return e.abrupt("return");case 3:return c=i.value,e.next=6,this.hashRelatedBlankNode(c,n,s,o);case 6:l=e.sent,(f=u.get(l))?f.push(c):u.set(l,[c]);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_useCanonicalId",value:function(e){var t=e.component;return"BlankNode"!==t.termType||t.value.startsWith(this.canonicalIssuer.prefix)?t:{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}}},{key:"_yield",value:function(){var e=s(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return t(e)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}()}).call(this,n(197).setImmediate)},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i=1,o={},a=!1,s=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){l(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(l,0,e)},u.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return o[i]=a,r(i),i++},u.clearImmediate=c}function c(e){delete o[e]}function l(e){if(a)setTimeout(l,0,e);else{var t=o[e];if(t){a=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{c(e),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(58),n(139))},function(e,t,n){"use strict";var r=n(0),i=n(8),o=n(6),a=n(7);n(119);var s=self.crypto||self.msCrypto;e.exports=function(){function e(t){if(o(this,e),!s||!s.subtle)throw new Error("crypto.subtle not found.");if("sha256"===t)this.algorithm={name:"SHA-256"};else{if("sha1"!==t)throw new Error('Unsupport algorithm "'.concat(t,'".'));this.algorithm={name:"SHA-1"}}this._content=""}return a(e,[{key:"update",value:function(e){this._content+=e}},{key:"digest",value:function(){var e=i(r.mark((function e(){var t,n,i,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(new TextEncoder).encode(this._content),e.t0=Uint8Array,e.next=4,s.subtle.digest(this.algorithm,t);case 4:for(e.t1=e.sent,n=new e.t0(e.t1),i="",o=0;o<n.length;++o)i+=n[o].toString(16).padStart(2,"0");return e.abrupt("return",i);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}()},function(e,t,n){"use strict";var r=n(18),i=n(6),o=n(7);e.exports=function(){function e(t){i(this,e),this.current=t.sort(),this.done=!1,this.dir=new Map;for(var n=0;n<t.length;++n)this.dir.set(t[n],!0)}return o(e,[{key:"hasNext",value:function(){return!this.done}},{key:"next",value:function(){for(var e=this.current,t=this.dir,n=e.slice(),i=null,o=0,a=e.length,s=0;s<a;++s){var u=e[s],c=t.get(u);(null===i||u>i)&&(c&&s>0&&u>e[s-1]||!c&&s<a-1&&u>e[s+1])&&(i=u,o=s)}if(null===i)this.done=!0;else{var l=t.get(i)?o-1:o+1;e[o]=e[l],e[l]=i;var f,d=r(e);try{for(d.s();!(f=d.n()).done;){var h=f.value;h>i&&t.set(h,!t.get(h))}}catch(p){d.e(p)}finally{d.f()}}return n}}]),e}()},function(e,t,n){"use strict";var r=n(30),i=n(37),o=n(18),a=n(6),s=n(7),u=n(87),c=n(120),l=n(121),f=n(88);function d(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}e.exports=function(){function e(){a(this,e),this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new u("_:c14n"),this.hashAlgorithm="sha256",this.quads=null}return s(e,[{key:"main",value:function(e){this.quads=e;var t,n=o(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;this._addBlankNodeQuadInfo({quad:a,component:a.subject}),this._addBlankNodeQuadInfo({quad:a,component:a.object}),this._addBlankNodeQuadInfo({quad:a,component:a.graph})}}catch(z){n.e(z)}finally{n.f()}var s,c=new Map,l=i(this.blankNodeInfo.keys()),h=o(l);try{for(h.s();!(s=h.n()).done;){var p=s.value;this._hashAndTrackBlankNode({id:p,hashToBlankNodes:c})}}catch(z){h.e(z)}finally{h.f()}var g,v=i(c.keys()).sort(),y=[],m=o(v);try{for(m.s();!(g=m.n()).done;){var _=g.value,b=c.get(_);if(b.length>1)y.push(b);else{var w=b[0];this.canonicalIssuer.getId(w)}}}catch(z){m.e(z)}finally{m.f()}for(var x=0,S=y;x<S.length;x++){var k,E=S[x],P=[],A=o(E);try{for(A.s();!(k=A.n()).done;){var O=k.value;if(!this.canonicalIssuer.hasId(O)){var C=new u("_:b");C.getId(O);var T=this.hashNDegreeQuads(O,C);P.push(T)}}}catch(z){A.e(z)}finally{A.f()}P.sort(d);for(var L=0,I=P;L<I.length;L++){var j,F=I[L].issuer.getOldIds(),R=o(F);try{for(R.s();!(j=R.n()).done;){var N=j.value;this.canonicalIssuer.getId(N)}}catch(z){R.e(z)}finally{R.f()}}}var M,D=[],U=o(this.quads);try{for(U.s();!(M=U.n()).done;){var B=M.value,H=r({},B);H.subject=this._useCanonicalId({component:H.subject}),H.object=this._useCanonicalId({component:H.object}),H.graph=this._useCanonicalId({component:H.graph}),D.push(f.serializeQuad(H))}}catch(z){U.e(z)}finally{U.f()}return D.sort(),D.join("")}},{key:"hashFirstDegreeQuads",value:function(e){var t,n=[],r=this.blankNodeInfo.get(e),i=r.quads,a=o(i);try{for(a.s();!(t=a.n()).done;){var s=t.value,u={subject:null,predicate:s.predicate,object:null,graph:null};u.subject=this.modifyFirstDegreeComponent(e,s.subject,"subject"),u.object=this.modifyFirstDegreeComponent(e,s.object,"object"),u.graph=this.modifyFirstDegreeComponent(e,s.graph,"graph"),n.push(f.serializeQuad(u))}}catch(g){a.e(g)}finally{a.f()}n.sort();for(var l=new c(this.hashAlgorithm),d=0,h=n;d<h.length;d++){var p=h[d];l.update(p)}return r.hash=l.digest(),r.hash}},{key:"hashRelatedBlankNode",value:function(e,t,n,r){var i;i=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):n.hasId(e)?n.getId(e):this.blankNodeInfo.get(e).hash;var o=new c(this.hashAlgorithm);return o.update(r),"g"!==r&&o.update(this.getRelatedPredicate(t)),o.update(i),o.digest()}},{key:"hashNDegreeQuads",value:function(e,t){var n,r=new c(this.hashAlgorithm),a=this.createHashToRelated(e,t),s=i(a.keys()).sort(),u=o(s);try{for(u.s();!(n=u.n()).done;){var f=n.value;r.update(f);for(var d="",h=void 0,p=new l(a.get(f));p.hasNext();){var g,v=p.next(),y=t.clone(),m="",_=[],b=!1,w=o(v);try{for(w.s();!(g=w.n()).done;){var x=g.value;if(this.canonicalIssuer.hasId(x)?m+=this.canonicalIssuer.getId(x):(y.hasId(x)||_.push(x),m+=y.getId(x)),0!==d.length&&m>d){b=!0;break}}}catch(A){w.e(A)}finally{w.f()}if(!b){for(var S=0,k=_;S<k.length;S++){var E=k[S],P=this.hashNDegreeQuads(E,y);if(m+=y.getId(E),m+="<".concat(P.hash,">"),y=P.issuer,0!==d.length&&m>d){b=!0;break}}b||(0===d.length||m<d)&&(d=m,h=y)}}r.update(d),t=h}}catch(A){u.e(A)}finally{u.f()}return{hash:r.digest(),issuer:t}}},{key:"modifyFirstDegreeComponent",value:function(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}},{key:"getRelatedPredicate",value:function(e){return"<".concat(e.predicate.value,">")}},{key:"createHashToRelated",value:function(e,t){var n,r=new Map,i=this.blankNodeInfo.get(e).quads,a=o(i);try{for(a.s();!(n=a.n()).done;){var s=n.value;this._addRelatedBlankNodeHash({quad:s,component:s.subject,position:"s",id:e,issuer:t,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:s,component:s.object,position:"o",id:e,issuer:t,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:s,component:s.graph,position:"g",id:e,issuer:t,hashToRelated:r})}}catch(u){a.e(u)}finally{a.f()}return r}},{key:"_hashAndTrackBlankNode",value:function(e){var t=e.id,n=e.hashToBlankNodes,r=this.hashFirstDegreeQuads(t),i=n.get(r);i?i.push(t):n.set(r,[t])}},{key:"_addBlankNodeQuadInfo",value:function(e){var t=e.quad,n=e.component;if("BlankNode"===n.termType){var r=n.value,i=this.blankNodeInfo.get(r);i?i.quads.add(t):this.blankNodeInfo.set(r,{quads:new Set([t]),hash:null})}}},{key:"_addRelatedBlankNodeHash",value:function(e){var t=e.quad,n=e.component,r=e.position,i=e.id,o=e.issuer,a=e.hashToRelated;if("BlankNode"===n.termType&&n.value!==i){var s=n.value,u=this.hashRelatedBlankNode(s,t,o,r),c=a.get(u);c?c.push(s):a.set(u,[s])}}},{key:"_useCanonicalId",value:function(e){var t=e.component;return"BlankNode"!==t.termType||t.value.startsWith(this.canonicalIssuer.prefix)?t:{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}}}]),e}()},function(e,t,n){"use strict";var r=n(0),i=n(8),o=n(6),a=n(7);e.exports=function(){function e(){o(this,e),this._requests={}}return a(e,[{key:"wrapLoader",value:function(e){var t=this;return t._loader=e,function(){return t.add.apply(t,arguments)}}},{key:"add",value:function(){var e=i(r.mark((function e(t){var n;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this._requests[t])){e.next=3;break}return e.abrupt("return",Promise.resolve(n));case 3:return n=this._requests[t]=this._loader(t),e.prev=4,e.next=7,n;case 7:return e.abrupt("return",e.sent);case 8:return e.prev=8,delete this._requests[t],e.finish(8);case 11:case"end":return e.stop()}}),e,this,[[4,,8,11]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},function(e,t,n){"use strict";var r=n(6),i=n(7),o=n(205),a=Symbol("max"),s=Symbol("length"),u=Symbol("lengthCalculator"),c=Symbol("allowStale"),l=Symbol("maxAge"),f=Symbol("dispose"),d=Symbol("noDisposeOnSet"),h=Symbol("lruList"),p=Symbol("cache"),g=Symbol("updateAgeOnGet"),v=function(){return 1},y=function(){function e(t){if(r(this,e),"number"===typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!==typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[a]=t.max||1/0;var n=t.length||v;if(this[u]="function"!==typeof n?v:n,this[c]=t.stale||!1,t.maxAge&&"number"!==typeof t.maxAge)throw new TypeError("maxAge must be a number");this[l]=t.maxAge||0,this[f]=t.dispose,this[d]=t.noDisposeOnSet||!1,this[g]=t.updateAgeOnGet||!1,this.reset()}return i(e,[{key:"max",get:function(){return this[a]},set:function(e){if("number"!==typeof e||e<0)throw new TypeError("max must be a non-negative number");this[a]=e||1/0,b(this)}},{key:"allowStale",get:function(){return this[c]},set:function(e){this[c]=!!e}},{key:"maxAge",get:function(){return this[l]},set:function(e){if("number"!==typeof e)throw new TypeError("maxAge must be a non-negative number");this[l]=e,b(this)}},{key:"lengthCalculator",get:function(){return this[u]},set:function(e){var t=this;"function"!==typeof e&&(e=v),e!==this[u]&&(this[u]=e,this[s]=0,this[h].forEach((function(e){e.length=t[u](e.value,e.key),t[s]+=e.length}))),b(this)}},{key:"length",get:function(){return this[s]}},{key:"itemCount",get:function(){return this[h].length}},{key:"rforEach",value:function(e,t){t=t||this;for(var n=this[h].tail;null!==n;){var r=n.prev;S(this,e,n,t),n=r}}},{key:"forEach",value:function(e,t){t=t||this;for(var n=this[h].head;null!==n;){var r=n.next;S(this,e,n,t),n=r}}},{key:"keys",value:function(){return this[h].toArray().map((function(e){return e.key}))}},{key:"values",value:function(){return this[h].toArray().map((function(e){return e.value}))}},{key:"reset",value:function(){var e=this;this[f]&&this[h]&&this[h].length&&this[h].forEach((function(t){return e[f](t.key,t.value)})),this[p]=new Map,this[h]=new o,this[s]=0}},{key:"dump",value:function(){var e=this;return this[h].map((function(t){return!_(e,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}})).toArray().filter((function(e){return e}))}},{key:"dumpLru",value:function(){return this[h]}},{key:"set",value:function(e,t,n){if((n=n||this[l])&&"number"!==typeof n)throw new TypeError("maxAge must be a number");var r=n?Date.now():0,i=this[u](t,e);if(this[p].has(e)){if(i>this[a])return w(this,this[p].get(e)),!1;var o=this[p].get(e).value;return this[f]&&(this[d]||this[f](e,o.value)),o.now=r,o.maxAge=n,o.value=t,this[s]+=i-o.length,o.length=i,this.get(e),b(this),!0}var c=new x(e,t,i,r,n);return c.length>this[a]?(this[f]&&this[f](e,t),!1):(this[s]+=c.length,this[h].unshift(c),this[p].set(e,this[h].head),b(this),!0)}},{key:"has",value:function(e){if(!this[p].has(e))return!1;var t=this[p].get(e).value;return!_(this,t)}},{key:"get",value:function(e){return m(this,e,!0)}},{key:"peek",value:function(e){return m(this,e,!1)}},{key:"pop",value:function(){var e=this[h].tail;return e?(w(this,e),e.value):null}},{key:"del",value:function(e){w(this,this[p].get(e))}},{key:"load",value:function(e){this.reset();for(var t=Date.now(),n=e.length-1;n>=0;n--){var r=e[n],i=r.e||0;if(0===i)this.set(r.k,r.v);else{var o=i-t;o>0&&this.set(r.k,r.v,o)}}}},{key:"prune",value:function(){var e=this;this[p].forEach((function(t,n){return m(e,n,!1)}))}}]),e}(),m=function(e,t,n){var r=e[p].get(t);if(r){var i=r.value;if(_(e,i)){if(w(e,r),!e[c])return}else n&&(e[g]&&(r.value.now=Date.now()),e[h].unshiftNode(r));return i.value}},_=function(e,t){if(!t||!t.maxAge&&!e[l])return!1;var n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[l]&&n>e[l]},b=function(e){if(e[s]>e[a])for(var t=e[h].tail;e[s]>e[a]&&null!==t;){var n=t.prev;w(e,t),t=n}},w=function(e,t){if(t){var n=t.value;e[f]&&e[f](n.key,n.value),e[s]-=n.length,e[p].delete(n.key),e[h].removeNode(t)}},x=function e(t,n,i,o,a){r(this,e),this.key=t,this.value=n,this.length=i,this.now=o,this.maxAge=a||0},S=function(e,t,n,r){var i=n.value;_(e,i)&&(w(e,n),e[c]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};e.exports=y},function(e,t,n){var r=n(70).Symbol;e.exports=r},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[].slice.call(e.querySelectorAll("*"),0).filter(a)};var r=/input|select|textarea|button|object/;function i(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;try{var n=window.getComputedStyle(e);return t?"visible"!==n.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0:"none"==n.getPropertyValue("display")}catch(r){return console.warn("Failed to inspect element style"),!1}}function o(e,t){var n=e.nodeName.toLowerCase();return(r.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e;t&&t!==document.body;){if(i(t))return!1;t=t.parentNode}return!0}(e)}function a(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&o(e,!n)}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){s&&(s.removeAttribute?s.removeAttribute("aria-hidden"):null!=s.length?s.forEach((function(e){return e.removeAttribute("aria-hidden")})):document.querySelectorAll(s).forEach((function(e){return e.removeAttribute("aria-hidden")})));s=null},t.log=function(){return void 0;var e=s||{};console.log("ariaAppHider ----------"),console.log(e.nodeName,e.className,e.id),console.log("end ariaAppHider ----------")},t.assertNodeList=u,t.setElement=function(e){var t=e;if("string"===typeof t&&a.canUseDOM){var n=document.querySelectorAll(t);u(n,t),t=n}return s=t||s},t.validateElement=c,t.hide=function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=c(e)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){i.value.setAttribute("aria-hidden","true")}}catch(a){n=!0,r=a}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}},t.show=function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=c(e)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){i.value.removeAttribute("aria-hidden")}}catch(a){n=!0,r=a}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}},t.documentNotReadyOrSSRTesting=function(){s=null};var r,i=n(271),o=(r=i)&&r.__esModule?r:{default:r},a=n(91);var s=null;function u(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function c(e){var t=e||s;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,o.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=function(){console.log("portalOpenInstances ----------"),console.log(i.openInstances.length),i.openInstances.forEach((function(e){return console.log(e)})),console.log("end portalOpenInstances ----------")},t.resetState=function(){i=new r};var r=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)&&(t.openInstances.push(e),t.emit("register"))},this.deregister=function(e){var n=t.openInstances.indexOf(e);-1!==n&&(t.openInstances.splice(n,1),t.emit("deregister"))},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach((function(n){return n(e,t.openInstances.slice())}))},this.openInstances=[],this.subscribers=[]},i=new r;t.default=i},function(e,t,n){"use strict";e.exports=n(149)},function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(t){var r=n(37),i=n(6),o=n(7),a=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,u=/\s|\uFEFF|\xA0/,c=/\r?\n[\x20\x09]+/g,l=/[;,"]/,f=/[;,"]|\s/,d=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,h=1,p=2,g=4;function v(e){return e.replace(s,"")}function y(e){return u.test(e)}function m(e,t){for(;y(e[t]);)t++;return t}function _(e){return f.test(e)||!d.test(e)}var b=function(){function e(t){i(this,e),this.refs=[],t&&this.parse(t)}return o(e,[{key:"rel",value:function(e){for(var t=[],n=e.toLowerCase(),r=0;r<this.refs.length;r++)this.refs[r].rel.toLowerCase()===n&&t.push(this.refs[r]);return t}},{key:"get",value:function(e,t){e=e.toLowerCase();for(var n=[],r=0;r<this.refs.length;r++)this.refs[r][e]===t&&n.push(this.refs[r]);return n}},{key:"set",value:function(e){return this.refs.push(e),this}},{key:"has",value:function(e,t){e=e.toLowerCase();for(var n=0;n<this.refs.length;n++)if(this.refs[n][e]===t)return!0;return!1}},{key:"parse",value:function(t,n){t=v(t=(n=n||0)?t.slice(n):t).replace(c,"");for(var i,o=h,a=t.length,s=(n=0,null);n<a;)if(o===h){if(y(t[n])){n++;continue}if("<"!==t[n])throw new Error('Unexpected character "'+t[n]+'" at offset '+n);var u;if(null!=s&&(null!=s.rel?(u=this.refs).push.apply(u,r(e.expandRelations(s))):this.refs.push(s)),-1===(_=t.indexOf(">",n)))throw new Error("Expected end of URI delimiter at offset "+n);s={uri:t.slice(n+1,_)},n=_,o=p,n++}else if(o===p){if(y(t[n])){n++;continue}if(";"===t[n])o=g,n++;else{if(","!==t[n])throw new Error('Unexpected character "'+t[n]+'" at offset '+n);o=h,n++}}else{if(o!==g)throw new Error('Unknown parser state "'+o+'"');if(";"===t[n]||y(t[n])){n++;continue}if(-1===(_=t.indexOf("=",n)))throw new Error("Expected attribute delimiter at offset "+n);var f=v(t.slice(n,_)).toLowerCase(),d="";if('"'===t[n=m(t,n=_+1)])for(n++;n<a;){if('"'===t[n]){n++;break}"\\"===t[n]&&n++,d+=t[n],n++}else{for(var _=n+1;!l.test(t[_])&&_<a;)_++;d=t.slice(n,_),n=_}switch(s[f]&&e.isSingleOccurenceAttr(f)||("*"===f[f.length-1]?s[f]=e.parseExtendedValue(d):(d="type"===f?d.toLowerCase():d,null!=s[f]?Array.isArray(s[f])?s[f].push(d):s[f]=[s[f],d]:s[f]=d)),t[n]){case",":o=h;break;case";":o=g}n++}null!=s&&(null!=s.rel?(i=this.refs).push.apply(i,r(e.expandRelations(s))):this.refs.push(s));return s=null,this}},{key:"toString",value:function(){for(var t=[],n="",r=null,i=0;i<this.refs.length;i++)r=this.refs[i],n=Object.keys(this.refs[i]).reduce((function(t,n){return"uri"===n?t:t+"; "+e.formatAttribute(n,r[n])}),"<"+r.uri+">"),t.push(n);return t.join(", ")}}]),e}();b.isCompatibleEncoding=function(e){return a.test(e)},b.parse=function(e,t){return(new b).parse(e,t)},b.isSingleOccurenceAttr=function(e){return"rel"===e||"type"===e||"media"===e||"title"===e||"title*"===e},b.isTokenAttr=function(e){return"rel"===e||"type"===e||"anchor"===e},b.escapeQuotes=function(e){return e.replace(/"/g,'\\"')},b.expandRelations=function(e){return e.rel.split(" ").map((function(t){var n=Object.assign({},e);return n.rel=t,n}))},b.parseExtendedValue=function(e){var t=/([^']+)?(?:'([^']+)')?(.+)/.exec(e);return{language:t[2].toLowerCase(),encoding:b.isCompatibleEncoding(t[1])?null:t[1].toLowerCase(),value:b.isCompatibleEncoding(t[1])?decodeURIComponent(t[3]):t[3]}},b.formatExtendedAttribute=function(e,n){var r=(n.encoding||"utf-8").toUpperCase();return e+"="+r+"'"+(n.language||"en")+"'"+(t.isBuffer(n.value)&&b.isCompatibleEncoding(r)?n.value.toString(r):t.isBuffer(n.value)?n.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):encodeURIComponent(n.value))},b.formatAttribute=function(e,t){return Array.isArray(t)?t.map((function(t){return b.formatAttribute(e,t)})).join("; "):"*"===e[e.length-1]||"string"!==typeof t?b.formatExtendedAttribute(e,t):(b.isTokenAttr(e)?t=_(t)?'"'+b.escapeQuotes(t)+'"':b.escapeQuotes(t):_(t)&&(t='"'+(t=(t=encodeURIComponent(t)).replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"))+'"'),e+"="+t)},e.exports=b}).call(this,n(138).Buffer)},function(e,t,n){var r=n(109),i=n(30),o=n(0),a=n(8),s=["documentLoader"],u=n(86),c=n(201),l=n(31),f=n(203),d=l.IdentifierIssuer,h=n(32),p=n(124),g=n(207),v=n(208).expand,y=n(209).flatten,m=n(210).fromRDF,_=n(211).toRDF,b=n(213),w=b.frameMergedOrDefault,x=b.cleanupNull,S=n(29),k=S.isArray,E=S.isObject,P=S.isString,A=n(39).isSubjectReference,O=n(50),C=O.expandIri,T=O.getInitialContext,L=O.process,I=O.processingMode,j=n(214),F=j.compact,R=j.compactIri,N=n(68),M=N.createNodeMap,D=N.createMergedNodeMap,U=N.mergeNodeMaps,B=function(e){var t={},b=new p({max:100});function S(t,n){var i=n.documentLoader,o=void 0===i?e.documentLoader:i,a=r(n,s);return Object.assign({},{documentLoader:o},a,t)}return e.compact=function(){var t=a(o.mark((function t(n,r,i){var a,s,u,c,p,g,v,y,m,_,w=arguments;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(w.length<2)){t.next=2;break}throw new TypeError("Could not compact, too few arguments.");case 2:if(null!==r){t.next=4;break}throw new h("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});case 4:if(null!==n){t.next=6;break}return t.abrupt("return",null);case 6:if((i=S(i,{base:P(n)?n:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new d("_:b"),contextResolver:new f({sharedCache:b})})).link&&(i.skipExpansion=!0),i.compactToRelative||delete i.base,!i.skipExpansion){t.next=13;break}a=n,t.next=16;break;case 13:return t.next=15,e.expand(n,i);case 15:a=t.sent;case 16:return t.next=18,e.processContext(T(i),r,i);case 18:return s=t.sent,t.next=21,F({activeCtx:s,element:a,options:i,compactionMap:i.compactionMap});case 21:u=t.sent,i.compactArrays&&!i.graph&&k(u)?1===u.length?u=u[0]:0===u.length&&(u={}):i.graph&&E(u)&&(u=[u]),E(r)&&"@context"in r&&(r=r["@context"]),r=l.clone(r),k(r)||(r=[r]),c=r,r=[];for(p=0;p<c.length;++p)(!E(c[p])||Object.keys(c[p]).length>0)&&r.push(c[p]);if(g=r.length>0,1===r.length&&(r=r[0]),k(u))v=R({activeCtx:s,iri:"@graph",relativeTo:{vocab:!0}}),y=u,u={},g&&(u["@context"]=r),u[v]=y;else if(E(u)&&g)for(_ in m=u,u={"@context":r},m)u[_]=m[_];return t.abrupt("return",u);case 33:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),e.expand=function(){var t=a(o.mark((function t(n,r){var i,a,s,u,c,d,h,p,g,y,m=arguments;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(m.length<1)){t.next=2;break}throw new TypeError("Could not expand, too few arguments.");case 2:if(!1===(r=S(r,{keepFreeFloatingNodes:!1,contextResolver:new f({sharedCache:b})})).expansionMap&&(r.expansionMap=void 0),i={},a=[],"expandContext"in r&&(s=l.clone(r.expandContext),E(s)&&"@context"in s?i.expandContext=s:i.expandContext={"@context":s},a.push(i.expandContext)),P(n)){t.next=11;break}i.input=l.clone(n),t.next=17;break;case 11:return t.next=13,e.get(n,r);case 13:c=t.sent,u=c.documentUrl,i.input=c.document,c.contextUrl&&(i.remoteContext={"@context":c.contextUrl},a.push(i.remoteContext));case 17:"base"in r||(r.base=u||""),d=T(r),h=0,p=a;case 20:if(!(h<p.length)){t.next=28;break}return g=p[h],t.next=24,L({activeCtx:d,localCtx:g,options:r});case 24:d=t.sent;case 25:h++,t.next=20;break;case 28:return t.next=30,v({activeCtx:d,element:i.input,options:r,expansionMap:r.expansionMap});case 30:return y=t.sent,E(y)&&"@graph"in y&&1===Object.keys(y).length?y=y["@graph"]:null===y&&(y=[]),k(y)||(y=[y]),t.abrupt("return",y);case 34:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.flatten=function(){var t=a(o.mark((function t(n,r,i){var a,s,u,c=arguments;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(c.length<1)){t.next=2;break}return t.abrupt("return",new TypeError("Could not flatten, too few arguments."));case 2:return r="function"===typeof r?null:r||null,i=S(i,{base:P(n)?n:"",contextResolver:new f({sharedCache:b})}),t.next=6,e.expand(n,i);case 6:if(a=t.sent,s=y(a),null!==r){t.next=10;break}return t.abrupt("return",s);case 10:return i.graph=!0,i.skipExpansion=!0,t.next=14,e.compact(s,r,i);case 14:return u=t.sent,t.abrupt("return",u);case 16:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),e.frame=function(){var t=a(o.mark((function t(n,r,a){var s,u,c,l,d,h,p,g,v,y,m=arguments;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(m.length<2)){t.next=2;break}throw new TypeError("Could not frame, too few arguments.");case 2:if(a=S(a,{base:P(n)?n:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new f({sharedCache:b})}),!P(r)){t.next=9;break}return t.next=6,e.get(r,a);case 6:s=t.sent,r=s.document,s.contextUrl&&((u=r["@context"])?k(u)?u.push(s.contextUrl):u=[u,s.contextUrl]:u=s.contextUrl,r["@context"]=u);case 9:return c=r&&r["@context"]||{},t.next=12,e.processContext(T(a),c,a);case 12:return l=t.sent,a.hasOwnProperty("omitGraph")||(a.omitGraph=I(l,1.1)),a.hasOwnProperty("pruneBlankNodeIdentifiers")||(a.pruneBlankNodeIdentifiers=I(l,1.1)),t.next=17,e.expand(n,a);case 17:return d=t.sent,(h=i({},a)).isFrame=!0,h.keepFreeFloatingNodes=!0,t.next=23,e.expand(r,h);case 23:return p=t.sent,g=Object.keys(r).map((function(e){return C(l,e,{vocab:!0})})),h.merged=!g.includes("@graph"),h.is11=I(l,1.1),v=w(d,p,h),h.graph=!a.omitGraph,h.skipExpansion=!0,h.link={},h.framing=!0,t.next=34,e.compact(v,c,h);case 34:return y=t.sent,h.link={},y=x(y,h),t.abrupt("return",y);case 38:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),e.link=function(){var t=a(o.mark((function t(n,r,i){var a;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={},r&&(a["@context"]=r),a["@embed"]="@link",t.abrupt("return",e.frame(n,a,i));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),e.normalize=e.canonize=function(){var t=a(o.mark((function t(n,r){var a,s,c,l=arguments;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(l.length<1)){t.next=2;break}throw new TypeError("Could not canonize, too few arguments.");case 2:if(!("inputFormat"in(r=S(r,{base:P(n)?n:"",algorithm:"URDNA2015",skipExpansion:!1,contextResolver:new f({sharedCache:b})})))){t.next=8;break}if("application/n-quads"===r.inputFormat||"application/nquads"===r.inputFormat){t.next=6;break}throw new h("Unknown canonicalization input format.","jsonld.CanonizeError");case 6:return a=g.parse(n),t.abrupt("return",u.canonize(a,r));case 8:return delete(s=i({},r)).format,s.produceGeneralizedRdf=!1,t.next=13,e.toRDF(n,s);case 13:return c=t.sent,t.abrupt("return",u.canonize(c,r));case 15:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.fromRDF=function(){var e=a(o.mark((function e(n,r){var i,a,s,u=arguments;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(u.length<1)){e.next=2;break}throw new TypeError("Could not convert from RDF, too few arguments.");case 2:if(r=S(r,{format:P(n)?"application/n-quads":void 0}),i=r.format,a=r.rdfParser,!i){e.next=11;break}if(a=a||t[i]){e.next=9;break}throw new h("Unknown input format.","jsonld.UnknownFormat",{format:i});case 9:e.next=12;break;case 11:a=function(){return n};case 12:return e.next=14,a(n);case 14:return s=e.sent,e.abrupt("return",m(s,r));case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.toRDF=function(){var t=a(o.mark((function t(n,r){var i,a,s=arguments;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(s.length<1)){t.next=2;break}throw new TypeError("Could not convert to RDF, too few arguments.");case 2:if(!(r=S(r,{base:P(n)?n:"",skipExpansion:!1,contextResolver:new f({sharedCache:b})})).skipExpansion){t.next=7;break}i=n,t.next=10;break;case 7:return t.next=9,e.expand(n,r);case 9:i=t.sent;case 10:if(a=_(i,r),!r.format){t.next=15;break}if("application/n-quads"!==r.format&&"application/nquads"!==r.format){t.next=14;break}return t.abrupt("return",g.serialize(a));case 14:throw new h("Unknown output format.","jsonld.UnknownFormat",{format:r.format});case 15:return t.abrupt("return",a);case 16:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.createNodeMap=function(){var t=a(o.mark((function t(n,r){var i,a=arguments;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a.length<1)){t.next=2;break}throw new TypeError("Could not create node map, too few arguments.");case 2:return r=S(r,{base:P(n)?n:"",contextResolver:new f({sharedCache:b})}),t.next=5,e.expand(n,r);case 5:return i=t.sent,t.abrupt("return",D(i,r));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.merge=function(){var t=a(o.mark((function t(n,r,a){var s,u,c,h,p,g,v,y,m,_,w,x,E,P,O,C,T,L=arguments;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(L.length<1)){t.next=2;break}throw new TypeError("Could not merge, too few arguments.");case 2:if(k(n)){t.next=4;break}throw new TypeError('Could not merge, "docs" must be an array.');case 4:return r="function"===typeof r?null:r||null,a=S(a,{contextResolver:new f({sharedCache:b})}),t.next=8,Promise.all(n.map((function(t){var n=i({},a);return e.expand(t,n)})));case 8:s=t.sent,u=!0,"mergeNodes"in a&&(u=a.mergeNodes),c=a.issuer||new d("_:b"),h={"@default":{}},p=0;case 14:if(!(p<s.length)){t.next=33;break}if(g=l.relabelBlankNodes(s[p],{issuer:new d("_:b"+p+"-")}),M(g,v=u||0===p?h:{"@default":{}},"@default",c),v===h){t.next=30;break}t.t0=o.keys(v);case 20:if((t.t1=t.t0()).done){t.next=30;break}if(y=t.t1.value,m=v[y],y in h){t.next=26;break}return h[y]=m,t.abrupt("continue",20);case 26:for(w in _=h[y],m)w in _||(_[w]=m[w]);t.next=20;break;case 30:++p,t.next=14;break;case 33:for(x=U(h),E=[],P=Object.keys(x).sort(),O=0;O<P.length;++O)C=x[P[O]],A(C)||E.push(C);if(null!==r){t.next=39;break}return t.abrupt("return",E);case 39:return a.graph=!0,a.skipExpansion=!0,t.next=43,e.compact(E,r,a);case 43:return T=t.sent,t.abrupt("return",T);case 45:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),Object.defineProperty(e,"documentLoader",{get:function(){return e._documentLoader},set:function(t){return e._documentLoader=t}}),e.documentLoader=function(){var e=a(o.mark((function e(t){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new h("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.get=function(){var t=a(o.mark((function t(n,r){var i,a;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="function"===typeof r.documentLoader?r.documentLoader:e.documentLoader,t.next=3,i(n);case 3:if(a=t.sent,t.prev=4,a.document){t.next=7;break}throw new h("No remote document found at the given URL.","jsonld.NullRemoteDocument");case 7:P(a.document)&&(a.document=JSON.parse(a.document)),t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(4),new h("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:t.t0,remoteDoc:a});case 13:return t.abrupt("return",a);case 14:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e,n){return t.apply(this,arguments)}}(),e.processContext=function(){var e=a(o.mark((function e(t,n,r){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=S(r,{base:"",contextResolver:new f({sharedCache:b})}),null!==n){e.next=3;break}return e.abrupt("return",T(r));case 3:return n=l.clone(n),E(n)&&"@context"in n||(n={"@context":n}),e.abrupt("return",L({activeCtx:t,localCtx:n,options:r}));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),e.getContextValue=n(50).getContextValue,e.documentLoaders={},e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new h('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(e,n){t[e]=n},e.unregisterRDFParser=function(e){delete t[e]},e.registerRDFParser("application/n-quads",g.parse),e.registerRDFParser("application/nquads",g.parse),e.url=n(42),e.util=l,Object.assign(e,l),e.promises=e,e.RequestQueue=n(123),e.JsonLdProcessor=n(216)(e),c.setupGlobals(e),c.setupDocumentLoaders(e),e},H=function e(){return B((function(){return e()}))};B(H),e.exports=H},function(e,t,n){var r=n(217);e.exports=function(e){return e&&e.length?r(e):[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(54),o=(r=n(21))&&r.__esModule?r:{default:r};function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n(265);var d=(0,i.createPathComponent)((function(e,t){e.children;var n=f(e,["children"]),r={},i={};Object.entries(n).forEach((function(e){var t=c(e,2),n=t[0],o=t[1];return n.startsWith("on")?i[n]=o:r[n]=o}));var a=new o.default.markerClusterGroup(r);return Object.entries(i).forEach((function(e){var t=c(e,2),n=t[0],r=t[1],i="cluster".concat(n.substring(2).toLowerCase());a.on(i,r)})),{instance:a,context:s(s({},t),{},{layerContainer:a})}}));t.default=d},function(e,t,n){"use strict";(function(e){var r=n(2),i=n.n(r),o=n(26),a=n(43),s=n.n(a),u=1073741823,c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};function l(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var f=i.a.createContext||function(e,t){var n,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return c[e]=(c[e]||0)+1}()+"__",f=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=l(t.props.value),t}Object(o.a)(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof t?t(r,i):u,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},r.render=function(){return this.props.children},n}(r.Component);f.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var d=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(o.a)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?u:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?u:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return d.contextTypes=((i={})[a]=s.a.object,i),{Provider:f,Consumer:d}};t.a=f}).call(this,n(58))},function(e,t,n){"use strict";(function(e){var r=n(186),i=n(187),o=n(188);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?s(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=s(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(r)return H(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if("number"===typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var f=!0,d=0;d<u;d++)if(c(e,o+d)!==c(t,d)){f=!1;break}if(f)return o}return-1}function _(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function b(e,t,n,r){return K(H(t,e.length-n),e,n,r)}function w(e,t,n,r){return K(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return w(e,t,n,r)}function S(e,t,n,r){return K(z(t),e,n,r)}function k(e,t,n,r){return K(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128===(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=A));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"===typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):g.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(r,i),l=e.slice(t,n),f=0;f<s;++f)if(c[f]!==l[f]){o=c[f],a=l[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function C(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function T(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=B(e[o]);return i}function L(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function I(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function F(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function R(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function N(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,r,o){return o||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function D(e,t,n,r,o){return o||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||j(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||j(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);j(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);j(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=u.isBuffer(e)?e:H(new u(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function K(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(58))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&h())}function h(){if(!l){var e=s(d);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,o=i&&"function"===typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}y(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&y(e,"error",t,n)}(e,i,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var i,o,a,s;if(c(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"===typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=l(e))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=d.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):v(i,i.length)}function g(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function y(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[e];if(void 0===u)return!1;if("function"===typeof u)o(u,this,t);else{var c=u.length,l=v(u,c);for(n=0;n<c;++n)o(l[n],this,t)}return!0},s.prototype.addListener=function(e,t){return f(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return f(this,e,t,!0)},s.prototype.once=function(e,t){return c(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,o,a;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},s.prototype.listenerCount=g,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";var r=n(80),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var _=m.prototype=new y;_.constructor=m,r(_,v.prototype),_.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:b.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+P(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),A(a,t,n,"",(function(e){return e}))):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+P(s=e[c],c);u+=A(s,t,n,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=A(s=s.value,t,n,l=r+P(s,c++),a);else if("object"===s)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function O(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function C(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var T={current:null};function L(){var e=T.current;if(null===e)throw Error(h(321));return e}var I={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error(h(143));return e}},t.Component=v,t.PureComponent=m,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(h(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=b.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return L().useCallback(e,t)},t.useContext=function(e,t){return L().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return L().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return L().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return L().useLayoutEffect(e,t)},t.useMemo=function(e,t){return L().useMemo(e,t)},t.useReducer=function(e,t,n){return L().useReducer(e,t,n)},t.useRef=function(e){return L().useRef(e)},t.useState=function(e){return L().useState(e)},t.version="17.0.2"},function(e,t,n){"use strict";var r=n(2),i=n(80),o=n(143);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},g={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(g,e)||!h.call(p,e)&&(d.test(e)?g[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,_);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,_);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,_);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,S=60106,k=60107,E=60108,P=60114,A=60109,O=60110,C=60112,T=60113,L=60120,I=60115,j=60116,F=60121,R=60128,N=60129,M=60130,D=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),S=U("react.portal"),k=U("react.fragment"),E=U("react.strict_mode"),P=U("react.profiler"),A=U("react.provider"),O=U("react.context"),C=U("react.forward_ref"),T=U("react.suspense"),L=U("react.suspense_list"),I=U("react.memo"),j=U("react.lazy"),F=U("react.block"),U("react.scope"),R=U("react.opaque.id"),N=U("react.debug_trace_mode"),M=U("react.offscreen"),D=U("react.legacy_hidden")}var B,H="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=H&&e[H]||e["@@iterator"])?e:null}function K(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var V=!1;function W(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?K(e):""}function q(e){switch(e.tag){case 5:return K(e.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function J(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case P:return"Profiler";case E:return"StrictMode";case T:return"Suspense";case L:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case I:return J(e.type);case F:return J(e._render);case j:t=e._payload,e=e._init;try{return J(e(t))}catch(n){}}return null}function Z(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Z(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Z(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Z(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Z(n)}}function ce(e,t){var n=Z(t.value),r=Z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ge,ve,ye=(ve=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((ge=ge||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ge.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var _e={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||_e.hasOwnProperty(e)&&_e[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(_e).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_e[t]=_e[e]}))}));var Se=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Pe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,Oe=null,Ce=null;function Te(e){if(e=ri(e)){if("function"!==typeof Ae)throw Error(a(280));var t=e.stateNode;t&&(t=oi(t),Ae(e.stateNode,e.type,t))}}function Le(e){Oe?Ce?Ce.push(e):Ce=[e]:Oe=e}function Ie(){if(Oe){var e=Oe,t=Ce;if(Ce=Oe=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function je(e,t){return e(t)}function Fe(e,t,n,r,i){return e(t,n,r,i)}function Re(){}var Ne=je,Me=!1,De=!1;function Ue(){null===Oe&&null===Ce||(Re(),Ie())}function Be(e,t){var n=e.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var He=!1;if(f)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){He=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ve){He=!1}function Ke(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ve=!1,We=null,qe=!1,Je=null,Ze={onError:function(e){Ve=!0,We=e}};function Ge(e,t,n,r,i,o,a,s,u){Ve=!1,We=null,Ke.apply(Ze,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Qe(e){if(Ye(e)!==e)throw Error(a(188))}function Xe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Qe(i),e;if(o===r)return Qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,dt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function gt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function vt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function _t(e,t,n){mt(e)&&n.delete(t)}function bt(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&mt(st)&&(st=null),null!==ut&&mt(ut)&&(ut=null),null!==ct&&mt(ct)&&(ct=null),lt.forEach(_t),ft.forEach(_t)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<at.length){wt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)yt(n),null===n.blockedOn&&dt.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kt={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},Et={},Pt={};function At(e){if(Et[e])return Et[e];if(!kt[e])return e;var t,n=kt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Pt)return Et[e]=n[t];return e}f&&(Pt=document.createElement("div").style,"AnimationEvent"in window||(delete kt.animationend.animation,delete kt.animationiteration.animation,delete kt.animationstart.animation),"TransitionEvent"in window||delete kt.transitionend.transition);var Ot=At("animationend"),Ct=At("animationiteration"),Tt=At("animationstart"),Lt=At("transitionend"),It=new Map,jt=new Map,Ft=["abort","abort",Ot,"animationEnd",Ct,"animationIteration",Tt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Lt,"transitionEnd","waiting","waiting"];function Rt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),jt.set(r,t),It.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Nt=8;function Mt(e){if(0!==(1&e))return Nt=15,1;if(0!==(2&e))return Nt=14,2;if(0!==(4&e))return Nt=13,4;var t=24&e;return 0!==t?(Nt=12,t):0!==(32&e)?(Nt=11,32):0!==(t=192&e)?(Nt=10,t):0!==(256&e)?(Nt=9,256):0!==(t=3584&e)?(Nt=8,t):0!==(4096&e)?(Nt=7,4096):0!==(t=4186112&e)?(Nt=6,t):0!==(t=62914560&e)?(Nt=5,t):67108864&e?(Nt=4,67108864):0!==(134217728&e)?(Nt=3,134217728):0!==(t=805306368&e)?(Nt=2,t):0!==(1073741824&e)?(Nt=1,1073741824):(Nt=8,e)}function Dt(e,t){var n=e.pendingLanes;if(0===n)return Nt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Nt=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=Mt(u),i=Nt):0!==(s&=o)&&(r=Mt(s),i=Nt)}else 0!==(o=n&~a)?(r=Mt(o),i=Nt):0!==s&&(r=Mt(s),i=Nt);if(0===r)return 0;if(r=n&((0>(r=31-Vt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Mt(t),i<=Nt)return t;Nt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Vt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Bt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ht(24&~t))?Bt(10,t):e;case 10:return 0===(e=Ht(192&~t))?Bt(8,t):e;case 8:return 0===(e=Ht(3584&~t))&&(0===(e=Ht(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ht(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Ht(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Kt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Vt(t)]=n}var Vt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/qt|0)|0},Wt=Math.log,qt=Math.LN2;var Jt=o.unstable_UserBlockingPriority,Zt=o.unstable_runWithPriority,Gt=!0;function Yt(e,t,n,r){Me||Re();var i=Qt,o=Me;Me=!0;try{Fe(i,e,t,n,r)}finally{(Me=o)||Ue()}}function $t(e,t,n,r){Zt(Jt,Qt.bind(null,e,t,n,r))}function Qt(e,t,n,r){var i;if(Gt)if((i=0===(4&t))&&0<at.length&&-1<ht.indexOf(e))e=pt(null,e,t,n,r),at.push(e);else{var o=Xt(e,t,n,r);if(null===o)i&&gt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=pt(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=vt(st,e,t,n,r,i),!0;case"dragenter":return ut=vt(ut,e,t,n,r,i),!0;case"mouseover":return ct=vt(ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,vt(lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ft.set(o,vt(ft.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;gt(e,r)}Rr(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=Pe(r);if(null!==(i=ni(i))){var o=Ye(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=$e(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Rr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var cn,ln,fn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=un(dn),pn=i({},dn,{view:0,detail:0}),gn=un(pn),vn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=un(vn),mn=un(i({},vn,{dataTransfer:0})),_n=un(i({},pn,{relatedTarget:0})),bn=un(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=un(wn),Sn=un(i({},dn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Pn[e])&&!!t[e]}function On(){return An}var Cn=i({},pn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=un(Cn),Ln=un(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On})),jn=un(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Fn=i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=un(Fn),Nn=[9,13,27,32],Mn=f&&"CompositionEvent"in window,Dn=null;f&&"documentMode"in document&&(Dn=document.documentMode);var Un=f&&"TextEvent"in window&&!Dn,Bn=f&&(!Mn||Dn&&8<Dn&&11>=Dn),Hn=String.fromCharCode(32),zn=!1;function Kn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Zn(e,t,n,r){Le(r),0<(t=Mr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Yn=null;function $n(e){Cr(e,0)}function Qn(e){if($(ii(e)))return e}function Xn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Gn&&(Gn.detachEvent("onpropertychange",or),Yn=Gn=null)}function or(e){if("value"===e.propertyName&&Qn(Yn)){var t=[];if(Zn(t,Yn,e,Pe(e)),e=$n,Me)e(t);else{Me=!0;try{je(e,t)}finally{Me=!1,Ue()}}}}function ar(e,t,n){"focusin"===e?(ir(),Yn=n,(Gn=t).attachEvent("onpropertychange",or)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Yn)}function ur(e,t){if("click"===e)return Qn(t)}function cr(e,t){if("input"===e||"change"===e)return Qn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function dr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function gr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?gr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mr=f&&"documentMode"in document&&11>=document.documentMode,_r=null,br=null,wr=null,xr=!1;function Sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==_r||_r!==Q(r)||("selectionStart"in(r=_r)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&dr(wr,r)||(wr=r,0<(r=Mr(br,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_r)))}Rt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Rt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Rt(Ft,2);for(var kr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<kr.length;Er++)jt.set(kr[Er],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ar=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Or(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Ge.apply(this,arguments),Ve){if(!Ve)throw Error(a(198));var l=We;Ve=!1,We=null,qe||(qe=!0,Je=l)}}(r,t,void 0,e),e.currentTarget=null}function Cr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Or(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Or(i,s,c),o=u}}}if(qe)throw e=Je,qe=!1,Je=null,e}function Tr(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Fr(t,e,2,!1),n.add(r))}var Lr="_reactListening"+Math.random().toString(36).slice(2);function Ir(e){e[Lr]||(e[Lr]=!0,s.forEach((function(t){Ar.has(t)||jr(t,!1,e,null),jr(t,!0,e,null)})))}function jr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Ar.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ai(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Fr(o,e,i,t),a.add(s))}function Fr(e,t,n,r){var i=jt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=$t;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!He||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Rr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ni(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(De)return e(t,n);De=!0;try{Ne(e,t,n)}finally{De=!1,Ue()}}((function(){var r=o,i=Pe(n),a=[];e:{var s=It.get(e);if(void 0!==s){var u=hn,c=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":c="focus",u=_n;break;case"focusout":c="blur",u=_n;break;case"beforeblur":case"afterblur":u=_n;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=In;break;case Ot:case Ct:case Tt:u=bn;break;case Lt:u=jn;break;case"scroll":u=gn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Ln}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var h,p=r;null!==p;){var g=(h=p).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==d&&(null!=(g=Be(p,d))&&l.push(Nr(p,g,h)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=yn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Ln,g="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==u?s:ii(u),h=null==c?s:ii(c),(s=new l(g,p+"leave",u,n,i)).target=f,s.relatedTarget=h,g=null,ni(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,g=l),f=g,u&&c)e:{for(d=c,p=0,h=l=u;h;h=Dr(h))p++;for(h=0,g=d;g;g=Dr(g))h++;for(;0<p-h;)l=Dr(l),p--;for(;0<h-p;)d=Dr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Dr(l),d=Dr(d)}l=null}else l=null;null!==u&&Ur(a,s,u,l,!1),null!==c&&null!==f&&Ur(a,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Xn;else if(Jn(s))if(er)v=cr;else{v=sr;var y=ar}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ur);switch(v&&(v=v(e,r))?Zn(a,v,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ii(r):window,e){case"focusin":(Jn(y)||"true"===y.contentEditable)&&(_r=y,br=r,wr=null);break;case"focusout":wr=br=_r=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Sr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":Sr(a,n,i)}var m;if(Mn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Wn?Kn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Bn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Wn&&(m=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(y=Mr(r,_)).length&&(_=new Sn(_,e,null,n,i),a.push({event:_,listeners:y}),m?_.data=m:null!==(m=Vn(n))&&(_.data=m))),(m=Un?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(zn=!0,Hn);case"textInput":return(e=t.data)===Hn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Mn&&Kn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Mr(r,"onBeforeInput")).length&&(i=new Sn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=m))}Cr(a,t)}))}function Nr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Be(e,n))&&r.unshift(Nr(e,o,i)),null!=(o=Be(e,t))&&r.push(Nr(e,o,i))),e=e.return}return r}function Dr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Be(n,o))&&a.unshift(Nr(n,u,s)):i||null!=(u=Be(n,o))&&a.push(Nr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Br(){}var Hr=null,zr=null;function Kr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Vr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,qr="function"===typeof clearTimeout?clearTimeout:void 0;function Jr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Zr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Gr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var $r=Math.random().toString(36).slice(2),Qr="__reactFiber$"+$r,Xr="__reactProps$"+$r,ei="__reactContainer$"+$r,ti="__reactEvents$"+$r;function ni(e){var t=e[Qr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Qr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Gr(e);null!==e;){if(n=e[Qr])return n;e=Gr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Qr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function oi(e){return e[Xr]||null}function ai(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var di={},hi=ci(di),pi=ci(!1),gi=di;function vi(e,t){var n=e.type.contextTypes;if(!n)return di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mi(){li(pi),li(hi)}function _i(e,t,n){if(hi.current!==di)throw Error(a(168));fi(hi,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,J(t)||"Unknown",o));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,gi=hi.current,fi(hi,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=bi(e,t,gi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(hi),fi(hi,e)):li(pi),fi(pi,n)}var Si=null,ki=null,Ei=o.unstable_runWithPriority,Pi=o.unstable_scheduleCallback,Ai=o.unstable_cancelCallback,Oi=o.unstable_shouldYield,Ci=o.unstable_requestPaint,Ti=o.unstable_now,Li=o.unstable_getCurrentPriorityLevel,Ii=o.unstable_ImmediatePriority,ji=o.unstable_UserBlockingPriority,Fi=o.unstable_NormalPriority,Ri=o.unstable_LowPriority,Ni=o.unstable_IdlePriority,Mi={},Di=void 0!==Ci?Ci:function(){},Ui=null,Bi=null,Hi=!1,zi=Ti(),Ki=1e4>zi?Ti:function(){return Ti()-zi};function Vi(){switch(Li()){case Ii:return 99;case ji:return 98;case Fi:return 97;case Ri:return 96;case Ni:return 95;default:throw Error(a(332))}}function Wi(e){switch(e){case 99:return Ii;case 98:return ji;case 97:return Fi;case 96:return Ri;case 95:return Ni;default:throw Error(a(332))}}function qi(e,t){return e=Wi(e),Ei(e,t)}function Ji(e,t,n){return e=Wi(e),Pi(e,t,n)}function Zi(){if(null!==Bi){var e=Bi;Bi=null,Ai(e)}Gi()}function Gi(){if(!Hi&&null!==Ui){Hi=!0;var e=0;try{var t=Ui;qi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Pi(Ii,Zi),n}finally{Hi=!1}}}var Yi=w.ReactCurrentBatchConfig;function $i(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Qi=ci(null),Xi=null,eo=null,to=null;function no(){to=eo=Xi=null}function ro(e){var t=Qi.current;li(Qi),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){Xi=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ma=!0),e.firstContext=null)}function ao(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Xi)throw Error(a(308));eo=t,Xi.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var so=!1;function uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,r){var o=e.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==s&&(null===d?f.firstBaseUpdate=l:d.next=l,f.lastBaseUpdate=c)}}if(null!==a){for(d=o.baseState,s=0,f=l=c=null;;){u=a.lane;var h=a.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(u=t,h=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(h,d,u);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=g.payload)?p.call(h,d,u):p)||void 0===u)break e;d=i({},d,u);break e;case 2:so=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else h={eventTime:h,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(l=f=h,c=d):f=f.next=h,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===f&&(c=d),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=f,Hs|=s,e.lanes=s,e.memoizedState=d}}function go(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var vo=(new r.Component).refs;function yo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var mo={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=du(),i=hu(e),o=lo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=du(),i=hu(e),o=lo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=du(),r=hu(e),i=lo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fo(e,i),pu(e,r,n)}};function _o(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!dr(n,r)||!dr(i,o))}function bo(e,t,n){var r=!1,i=di,o=t.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=yi(t)?gi:hi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?vi(e,i):di),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function xo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=vo,uo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=yi(t)?gi:hi.current,i.context=vi(e,o)),po(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(yo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&mo.enqueueReplaceState(i,i.state,null),po(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var So=Array.isArray;function ko(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===vo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Eo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Po(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=qu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Yu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=ko(e,t,n),r.return=e,r):((r=Ju(n.type,n.key,n.props,null,e.mode,r)).ref=ko(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$u(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Zu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Yu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Ju(t.type,t.key,t.props,null,e.mode,n)).ref=ko(e,null,t),n.return=e,n;case S:return(t=$u(t,e.mode,n)).return=e,t}if(So(t)||z(t))return(t=Zu(t,e.mode,n,null)).return=e,t;Eo(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===k?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case S:return n.key===i?l(e,t,n,r):null}if(So(n)||z(n))return null!==i?null:f(e,t,n,r,null);Eo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===k?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case S:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(So(r)||z(r))return f(t,e=e.get(n)||null,r,i,null);Eo(t,r)}return null}function g(i,a,s,u){for(var c=null,l=null,f=a,g=a=0,v=null;null!==f&&g<s.length;g++){f.index>g?(v=f,f=null):v=f.sibling;var y=h(i,f,s[g],u);if(null===y){null===f&&(f=v);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,g),null===l?c=y:l.sibling=y,l=y,f=v}if(g===s.length)return n(i,f),c;if(null===f){for(;g<s.length;g++)null!==(f=d(i,s[g],u))&&(a=o(f,a,g),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);g<s.length;g++)null!==(v=p(f,i,g,s[g],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?g:v.key),a=o(v,a,g),null===l?c=v:l.sibling=v,l=v);return e&&f.forEach((function(e){return t(i,e)})),c}function v(i,s,u,c){var l=z(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,g=s,v=s=0,y=null,m=u.next();null!==g&&!m.done;v++,m=u.next()){g.index>v?(y=g,g=null):y=g.sibling;var _=h(i,g,m.value,c);if(null===_){null===g&&(g=y);break}e&&g&&null===_.alternate&&t(i,g),s=o(_,s,v),null===f?l=_:f.sibling=_,f=_,g=y}if(m.done)return n(i,g),l;if(null===g){for(;!m.done;v++,m=u.next())null!==(m=d(i,m.value,c))&&(s=o(m,s,v),null===f?l=m:f.sibling=m,f=m);return l}for(g=r(i,g);!m.done;v++,m=u.next())null!==(m=p(g,i,v,m.value,c))&&(e&&null!==m.alternate&&g.delete(null===m.key?v:m.key),s=o(m,s,v),null===f?l=m:f.sibling=m,f=m);return e&&g.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"===typeof o&&null!==o&&o.type===k&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case x:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(o.type===k){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=ko(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===k?((r=Zu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Ju(o.type,o.key,o.props,null,e.mode,u)).ref=ko(e,r,o),u.return=e,e=u)}return s(e);case S:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=$u(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Yu(o,e.mode,u)).return=e,e=r),s(e);if(So(o))return g(e,r,o,u);if(z(o))return v(e,r,o,u);if(l&&Eo(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,J(e.type)||"Component"))}return n(e,r)}}var Ao=Po(!0),Oo=Po(!1),Co={},To=ci(Co),Lo=ci(Co),Io=ci(Co);function jo(e){if(e===Co)throw Error(a(174));return e}function Fo(e,t){switch(fi(Io,t),fi(Lo,e),fi(To,Co),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(To),fi(To,t)}function Ro(){li(To),li(Lo),li(Io)}function No(e){jo(Io.current);var t=jo(To.current),n=pe(t,e.type);t!==n&&(fi(Lo,e),fi(To,n))}function Mo(e){Lo.current===e&&(li(To),li(Lo))}var Do=ci(0);function Uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bo=null,Ho=null,zo=!1;function Ko(e,t){var n=Vu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Vo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wo(e){if(zo){var t=Ho;if(t){var n=t;if(!Vo(e,t)){if(!(t=Zr(n.nextSibling))||!Vo(e,t))return e.flags=-1025&e.flags|2,zo=!1,void(Bo=e);Ko(Bo,n)}Bo=e,Ho=Zr(t.firstChild)}else e.flags=-1025&e.flags|2,zo=!1,Bo=e}}function qo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Bo=e}function Jo(e){if(e!==Bo)return!1;if(!zo)return qo(e),zo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Vr(t,e.memoizedProps))for(t=Ho;t;)Ko(e,t),t=Zr(t.nextSibling);if(qo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ho=Zr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ho=null}}else Ho=Bo?Zr(e.stateNode.nextSibling):null;return!0}function Zo(){Ho=Bo=null,zo=!1}var Go=[];function Yo(){for(var e=0;e<Go.length;e++)Go[e]._workInProgressVersionPrimary=null;Go.length=0}var $o=w.ReactCurrentDispatcher,Qo=w.ReactCurrentBatchConfig,Xo=0,ea=null,ta=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function sa(e,t,n,r,i,o){if(Xo=o,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$o.current=null===e||null===e.memoizedState?ja:Fa,e=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ta=null,t.updateQueue=null,$o.current=Ra,e=n(r,i)}while(ia)}if($o.current=Ia,t=null!==ta&&null!==ta.next,Xo=0,na=ta=ea=null,ra=!1,t)throw Error(a(300));return e}function ua(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ea.memoizedState=na=e:na=na.next=e,na}function ca(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===na?ea.memoizedState:na.next;if(null!==t)na=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===na?ea.memoizedState=na=e:na=na.next=e}return na}function la(e,t){return"function"===typeof t?t(e):t}function fa(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ta,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if((Xo&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,o=r):u=u.next=f,ea.lanes|=l,Hs|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,lr(r,t.memoizedState)||(Ma=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function da(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);lr(o,t.memoizedState)||(Ma=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ha(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xo&e)===e)&&(t._workInProgressVersionPrimary=r,Go.push(t))),e)return n(t._source);throw Go.push(t),Error(a(350))}function pa(e,t,n,r){var i=js;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=$o.current,c=u.useState((function(){return ha(i,t,n)})),l=c[1],f=c[0];c=na;var d=e.memoizedState,h=d.refs,p=h.getSnapshot,g=d.source;d=d.subscribe;var v=ea;return e.memoizedState={refs:h,source:t,subscribe:r},u.useEffect((function(){h.getSnapshot=n,h.setSnapshot=l;var e=o(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=hu(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-Vt(a),c=1<<u;r[u]|=e,a&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=hu(v);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),lr(p,n)&&lr(g,t)&&lr(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:f}).dispatch=l=La.bind(null,ea,e),c.queue=e,c.baseQueue=null,f=ha(i,t,n),c.memoizedState=c.baseState=f),f}function ga(e,t,n){return pa(ca(),e,t,n)}function va(e){var t=ua();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:e}).dispatch=La.bind(null,ea,e),[t.memoizedState,e]}function ya(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ma(e){return e={current:e},ua().memoizedState=e}function _a(){return ca().memoizedState}function ba(e,t,n,r){var i=ua();ea.flags|=e,i.memoizedState=ya(1|t,n,void 0,void 0===r?null:r)}function wa(e,t,n,r){var i=ca();r=void 0===r?null:r;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void ya(t,n,o,r)}ea.flags|=e,i.memoizedState=ya(1|t,n,o,r)}function xa(e,t){return ba(516,4,e,t)}function Sa(e,t){return wa(516,4,e,t)}function ka(e,t){return wa(4,2,e,t)}function Ea(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Pa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wa(4,2,Ea.bind(null,t,e),n)}function Aa(){}function Oa(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ca(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ta(e,t){var n=Vi();qi(98>n?98:n,(function(){e(!0)})),qi(97<n?97:n,(function(){var n=Qo.transition;Qo.transition=1;try{e(!1),t()}finally{Qo.transition=n}}))}function La(e,t,n){var r=du(),i=hu(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ea||null!==a&&a===ea)ia=ra=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Ia={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},ja={readContext:ao,useCallback:function(e,t){return ua().memoizedState=[e,void 0===t?null:t],e},useContext:ao,useEffect:xa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ba(4,2,Ea.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ba(4,2,e,t)},useMemo:function(e,t){var n=ua();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ua();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=La.bind(null,ea,e),[r.memoizedState,e]},useRef:ma,useState:va,useDebugValue:Aa,useDeferredValue:function(e){var t=va(e),n=t[0],r=t[1];return xa((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=va(!1),t=e[0];return ma(e=Ta.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ua();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pa(r,e,t,n)},useOpaqueIdentifier:function(){if(zo){var e=!1,t=function(e){return{$$typeof:R,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(a(355))})),n=va(t)[1];return 0===(2&ea.mode)&&(ea.flags|=516,ya(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return va(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Fa={readContext:ao,useCallback:Oa,useContext:ao,useEffect:Sa,useImperativeHandle:Pa,useLayoutEffect:ka,useMemo:Ca,useReducer:fa,useRef:_a,useState:function(){return fa(la)},useDebugValue:Aa,useDeferredValue:function(e){var t=fa(la),n=t[0],r=t[1];return Sa((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=fa(la)[0];return[_a().current,e]},useMutableSource:ga,useOpaqueIdentifier:function(){return fa(la)[0]},unstable_isNewReconciler:!1},Ra={readContext:ao,useCallback:Oa,useContext:ao,useEffect:Sa,useImperativeHandle:Pa,useLayoutEffect:ka,useMemo:Ca,useReducer:da,useRef:_a,useState:function(){return da(la)},useDebugValue:Aa,useDeferredValue:function(e){var t=da(la),n=t[0],r=t[1];return Sa((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=da(la)[0];return[_a().current,e]},useMutableSource:ga,useOpaqueIdentifier:function(){return da(la)[0]},unstable_isNewReconciler:!1},Na=w.ReactCurrentOwner,Ma=!1;function Da(e,t,n,r){t.child=null===e?Oo(t,null,n,r):Ao(t,e.child,n,r)}function Ua(e,t,n,r,i){n=n.render;var o=t.ref;return oo(t,i),r=sa(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,Da(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Ba(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Wu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ju(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ha(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:dr)(i,r)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=qu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ha(e,t,n,r,i,o){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(Ma=!1,0===(o&i))return t.lanes=e.lanes,os(e,t,o);0!==(16384&e.flags)&&(Ma=!0)}return Va(e,t,n,r,o)}function za(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xu(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xu(t,e),null;t.memoizedState={baseLanes:0},xu(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,xu(t,r);return Da(e,t,i,n),t.child}function Ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Va(e,t,n,r,i){var o=yi(n)?gi:hi.current;return o=vi(t,o),oo(t,i),n=sa(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,Da(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Wa(e,t,n,r,i){if(yi(n)){var o=!0;wi(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),bo(t,n,r),xo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ao(c):c=vi(t,c=yi(n)?gi:hi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&wo(t,a,r,c),so=!1;var d=t.memoizedState;a.state=d,po(t,r,a,i),u=t.memoizedState,s!==r||d!==u||pi.current||so?("function"===typeof l&&(yo(t,n,l,r),u=t.memoizedState),(s=so||_o(t,n,s,r,d,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,co(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:$i(t.type,s),a.props=c,f=t.pendingProps,d=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ao(u):u=vi(t,u=yi(n)?gi:hi.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||d!==u)&&wo(t,a,r,u),so=!1,d=t.memoizedState,a.state=d,po(t,r,a,i);var p=t.memoizedState;s!==f||d!==p||pi.current||so?("function"===typeof h&&(yo(t,n,h,r),p=t.memoizedState),(c=so||_o(t,n,c,r,d,p,u))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return qa(e,t,n,r,o,i)}function qa(e,t,n,r,i,o){Ka(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&xi(t,n,!1),os(e,t,o);r=t.stateNode,Na.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Ao(t,e.child,null,o),t.child=Ao(t,null,s,o)):Da(e,t,s,o),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Ja(e){var t=e.stateNode;t.pendingContext?_i(0,t.pendingContext,t.pendingContext!==t.context):t.context&&_i(0,t.context,!1),Fo(e,t.containerInfo)}var Za,Ga,Ya,$a={dehydrated:null,retryLane:0};function Qa(e,t,n){var r,i=t.pendingProps,o=Do.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),fi(Do,1&o),null===e?(void 0!==i.fallback&&Wo(t),e=i.children,o=i.fallback,a?(e=Xa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$a,e):"number"===typeof i.unstable_expectedLoadTime?(e=Xa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$a,t.lanes=33554432,e):((n=Gu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=ts(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=$a,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Xa(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Gu(t,i,0,null),n=Zu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=qu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=qu(a,s),null!==e?r=qu(e,r):(r=Zu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),io(e.return,t)}function rs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Da(e,t,r.children,n),0!==(2&(r=Do.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Do,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,o,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Hs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=qu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function as(e,t){if(!zo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&mi(),null;case 3:return Ro(),li(pi),li(hi),Yo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Jo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Mo(t);var o=jo(Io.current);if(n=t.type,null!==e&&null!=t.stateNode)Ga(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=jo(To.current),Jo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Qr]=t,r[Xr]=s,n){case"dialog":Tr("cancel",r),Tr("close",r);break;case"iframe":case"object":case"embed":Tr("load",r);break;case"video":case"audio":for(e=0;e<Pr.length;e++)Tr(Pr[e],r);break;case"source":Tr("error",r);break;case"img":case"image":case"link":Tr("error",r),Tr("load",r);break;case"details":Tr("toggle",r);break;case"input":ee(r,s),Tr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Tr("invalid",r);break;case"textarea":ue(r,s),Tr("invalid",r)}for(var c in ke(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Tr("scroll",r));switch(n){case"input":Y(r),re(r,s,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Br)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===fe&&(e=he(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Qr]=t,e[Xr]=r,Za(e,t),t.stateNode=e,c=Ee(n,r),n){case"dialog":Tr("cancel",e),Tr("close",e),o=r;break;case"iframe":case"object":case"embed":Tr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Pr.length;o++)Tr(Pr[o],e);o=r;break;case"source":Tr("error",e),o=r;break;case"img":case"image":case"link":Tr("error",e),Tr("load",e),o=r;break;case"details":Tr("toggle",e),o=r;break;case"input":ee(e,r),o=X(e,r),Tr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Tr("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),Tr("invalid",e);break;default:o=r}ke(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?xe(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&me(e,f):"number"===typeof f&&me(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Tr("scroll",e):null!=f&&b(e,s,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Z(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Br)}Kr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ya(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=jo(Io.current),jo(To.current),Jo(t)?(r=t.stateNode,n=t.memoizedProps,r[Qr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Qr]=t,t.stateNode=r)}return null;case 13:return li(Do),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Jo(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Do.current)?0===Ds&&(Ds=3):(0!==Ds&&3!==Ds||(Ds=4),null===js||0===(134217727&Hs)&&0===(134217727&zs)||mu(js,Rs))),(r||n)&&(t.flags|=4),null);case 4:return Ro(),null===e&&Ir(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(li(Do),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)as(r,!1);else{if(0!==Ds||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Uo(e))){for(t.flags|=64,as(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Do,1&Do.current|2),t.child}e=e.sibling}null!==r.tail&&Ki()>qs&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Uo(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!zo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ki()-r.renderingStartTime>qs&&1073741824!==n&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ki(),n.sibling=null,t=Do.current,fi(Do,s?1&t|2:1&t),n):null;case 23:case 24:return Su(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function us(e){switch(e.tag){case 1:yi(e.type)&&mi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ro(),li(pi),li(hi),Yo(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Mo(e),null;case 13:return li(Do),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Do),null;case 4:return Ro(),null;case 10:return ro(e),null;case 23:case 24:return Su(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Za=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ga=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,jo(To.current);var a,s=null;switch(n){case"input":o=X(e,o),r=X(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Br)}for(f in ke(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var c=o[f];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Tr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===R?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Ya=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function ds(e,t,n){(n=lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ys||(Ys=!0,$s=r),ls(0,t)},n}function hs(e,t,n){(n=lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Qs?Qs=new Set([this]):Qs.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function gs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Bu(e,n)}else t.current=null}function vs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:$i(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Jr(t.stateNode.containerInfo))}throw Error(a(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Mu(n,e),Nu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:$i(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&go(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}go(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Kr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(a(163))}function ms(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function _s(e,t){if(ki&&"function"===typeof ki.onCommitFiberUnmount)try{ki.onCommitFiberUnmount(Si,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Mu(t,n);else{r=t;try{i()}catch(o){Bu(r,o)}}n=n.next}while(n!==e)}break;case 1:if(gs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Bu(t,o)}break;case 5:gs(t);break;case 4:Es(e,t)}}function bs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(me(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Ss(e,n,t):ks(e,n,t)}function Ss(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Br));else if(4!==r&&null!==(e=e.child))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function ks(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ks(e,t,n),e=e.sibling;null!==e;)ks(e,t,n),e=e.sibling}function Es(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(_s(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(_s(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Ps(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ee(e,i),t=Ee(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?xe(n,u):"dangerouslySetInnerHTML"===s?ye(n,u):"children"===s?me(n,u):b(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ws=Ki(),ms(t.child,!0)),void As(t);case 19:return void As(t);case 23:case 24:return void ms(t,null!==t.memoizedState)}throw Error(a(163))}function As(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=zu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Os(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Cs=Math.ceil,Ts=w.ReactCurrentDispatcher,Ls=w.ReactCurrentOwner,Is=0,js=null,Fs=null,Rs=0,Ns=0,Ms=ci(0),Ds=0,Us=null,Bs=0,Hs=0,zs=0,Ks=0,Vs=null,Ws=0,qs=1/0;function Js(){qs=Ki()+500}var Zs,Gs=null,Ys=!1,$s=null,Qs=null,Xs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,ou=0,au=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function du(){return 0!==(48&Is)?Ki():-1!==su?su:su=Ki()}function hu(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Vi()?1:2;if(0===uu&&(uu=Bs),0!==Yi.transition){0!==cu&&(cu=null!==Vs?Vs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Vi(),0!==(4&Is)&&98===e?e=Bt(12,uu):e=Bt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<ou)throw ou=0,au=null,Error(a(185));if(null===(e=gu(e,t)))return null;Kt(e,t,n),e===js&&(zs|=t,4===Ds&&mu(e,Rs));var r=Vi();1===t?0!==(8&Is)&&0===(48&Is)?_u(e):(vu(e,n),0===Is&&(Js(),Zi())):(0===(4&Is)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),vu(e,n)),Vs=e}function gu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function vu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Vt(s),c=1<<u,l=o[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Mt(c);var f=Nt;o[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Dt(e,e===js?Rs:0),t=Nt,0===r)null!==n&&(n!==Mi&&Ai(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Ai(n)}15===t?(n=_u.bind(null,e),null===Ui?(Ui=[n],Bi=Pi(Ii,Gi)):Ui.push(n),n=Mi):14===t?n=Ji(99,_u.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Ji(n,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yu(e){if(su=-1,cu=uu=0,0!==(48&Is))throw Error(a(327));var t=e.callbackNode;if(Ru()&&e.callbackNode!==t)return null;var n=Dt(e,e===js?Rs:0);if(0===n)return null;var r=n,i=Is;Is|=16;var o=Pu();for(js===e&&Rs===r||(Js(),ku(e,r));;)try{Cu();break}catch(u){Eu(e,u)}if(no(),Ts.current=o,Is=i,null!==Fs?r=0:(js=null,Rs=0,r=Ds),0!==(Bs&zs))ku(e,0);else if(0!==r){if(2===r&&(Is|=64,e.hydrate&&(e.hydrate=!1,Jr(e.containerInfo)),0!==(n=Ut(e))&&(r=Au(e,n))),1===r)throw t=Us,ku(e,0),mu(e,n),vu(e,Ki()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Iu(e);break;case 3:if(mu(e,n),(62914560&n)===n&&10<(r=Ws+500-Ki())){if(0!==Dt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){du(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Iu.bind(null,e),r);break}Iu(e);break;case 4:if(mu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Vt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Ki()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cs(n/1960))-n)){e.timeoutHandle=Wr(Iu.bind(null,e),n);break}Iu(e);break;default:throw Error(a(329))}}return vu(e,Ki()),e.callbackNode===t?yu.bind(null,e):null}function mu(e,t){for(t&=~Ks,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vt(t),r=1<<n;e[n]=-1,t&=~r}}function _u(e){if(0!==(48&Is))throw Error(a(327));if(Ru(),e===js&&0!==(e.expiredLanes&Rs)){var t=Rs,n=Au(e,t);0!==(Bs&zs)&&(n=Au(e,t=Dt(e,t)))}else n=Au(e,t=Dt(e,0));if(0!==e.tag&&2===n&&(Is|=64,e.hydrate&&(e.hydrate=!1,Jr(e.containerInfo)),0!==(t=Ut(e))&&(n=Au(e,t))),1===n)throw n=Us,ku(e,0),mu(e,t),vu(e,Ki()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Iu(e),vu(e,Ki()),null}function bu(e,t){var n=Is;Is|=1;try{return e(t)}finally{0===(Is=n)&&(Js(),Zi())}}function wu(e,t){var n=Is;Is&=-2,Is|=8;try{return e(t)}finally{0===(Is=n)&&(Js(),Zi())}}function xu(e,t){fi(Ms,Ns),Ns|=t,Bs|=t}function Su(){Ns=Ms.current,li(Ms)}function ku(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,qr(n)),null!==Fs)for(n=Fs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&mi();break;case 3:Ro(),li(pi),li(hi),Yo();break;case 5:Mo(r);break;case 4:Ro();break;case 13:case 19:li(Do);break;case 10:ro(r);break;case 23:case 24:Su()}n=n.return}js=e,Fs=qu(e.current,null),Rs=Ns=Bs=t,Ds=0,Us=null,Ks=zs=Hs=0}function Eu(e,t){for(;;){var n=Fs;try{if(no(),$o.current=Ia,ra){for(var r=ea.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if(Xo=0,na=ta=ea=null,ia=!1,Ls.current=null,null===n||null===n.return){Ds=1,Us=t,Fs=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=Rs,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Do.current),d=a;do{var h;if(h=13===d.tag){var p=d.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var g=d.memoizedProps;h=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!f)}}if(h){var v=d.updateQueue;if(null===v){var y=new Set;y.add(c),d.updateQueue=y}else v.add(c);if(0===(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var m=lo(-1,1);m.tag=2,fo(s,m)}s.lanes|=1;break e}u=void 0,s=t;var _=o.pingCache;if(null===_?(_=o.pingCache=new fs,u=new Set,_.set(c,u)):void 0===(u=_.get(c))&&(u=new Set,_.set(c,u)),!u.has(s)){u.add(s);var b=Hu.bind(null,o,c,s);c.then(b,b)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);u=Error((J(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ds&&(Ds=2),u=cs(u,s),d=a;do{switch(d.tag){case 3:o=u,d.flags|=4096,t&=-t,d.lanes|=t,ho(d,ds(0,o,t));break e;case 1:o=u;var w=d.type,x=d.stateNode;if(0===(64&d.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Qs||!Qs.has(x)))){d.flags|=4096,t&=-t,d.lanes|=t,ho(d,hs(d,o,t));break e}}d=d.return}while(null!==d)}Lu(n)}catch(S){t=S,Fs===n&&null!==n&&(Fs=n=n.return);continue}break}}function Pu(){var e=Ts.current;return Ts.current=Ia,null===e?Ia:e}function Au(e,t){var n=Is;Is|=16;var r=Pu();for(js===e&&Rs===t||ku(e,t);;)try{Ou();break}catch(i){Eu(e,i)}if(no(),Is=n,Ts.current=r,null!==Fs)throw Error(a(261));return js=null,Rs=0,Ds}function Ou(){for(;null!==Fs;)Tu(Fs)}function Cu(){for(;null!==Fs&&!Oi();)Tu(Fs)}function Tu(e){var t=Zs(e.alternate,e,Ns);e.memoizedProps=e.pendingProps,null===t?Lu(e):Fs=t,Ls.current=null}function Lu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ns)))return void(Fs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ns)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Fs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Fs=t);Fs=t=e}while(null!==t);0===Ds&&(Ds=5)}function Iu(e){var t=Vi();return qi(99,ju.bind(null,e,t)),null}function ju(e,t){do{Ru()}while(null!==eu);if(0!==(48&Is))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-Vt(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===js&&(Fs=js=null,Rs=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Is,Is|=32,Ls.current=null,Hr=Gt,yr(s=vr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(P){u=null;break e}var f=0,d=-1,h=-1,p=0,g=0,v=s,y=null;t:for(;;){for(var m;v!==u||0!==o&&3!==v.nodeType||(d=f+o),v!==c||0!==l&&3!==v.nodeType||(h=f+l),3===v.nodeType&&(f+=v.nodeValue.length),null!==(m=v.firstChild);)y=v,v=m;for(;;){if(v===s)break t;if(y===u&&++p===o&&(d=f),y===c&&++g===l&&(h=f),null!==(m=v.nextSibling))break;y=(v=y).parentNode}v=m}u=-1===d||-1===h?null:{start:d,end:h}}else u=null;u=u||{start:0,end:0}}else u=null;zr={focusedElem:s,selectionRange:u},Gt=!1,lu=null,fu=!1,Gs=r;do{try{Fu()}catch(P){if(null===Gs)throw Error(a(330));Bu(Gs,P),Gs=Gs.nextEffect}}while(null!==Gs);lu=null,Gs=r;do{try{for(s=e;null!==Gs;){var _=Gs.flags;if(16&_&&me(Gs.stateNode,""),128&_){var b=Gs.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&_){case 2:xs(Gs),Gs.flags&=-3;break;case 6:xs(Gs),Gs.flags&=-3,Ps(Gs.alternate,Gs);break;case 1024:Gs.flags&=-1025;break;case 1028:Gs.flags&=-1025,Ps(Gs.alternate,Gs);break;case 4:Ps(Gs.alternate,Gs);break;case 8:Es(s,u=Gs);var x=u.alternate;bs(u),null!==x&&bs(x)}Gs=Gs.nextEffect}}catch(P){if(null===Gs)throw Error(a(330));Bu(Gs,P),Gs=Gs.nextEffect}}while(null!==Gs);if(w=zr,b=vr(),_=w.focusedElem,s=w.selectionRange,b!==_&&_&&_.ownerDocument&&gr(_.ownerDocument.documentElement,_)){null!==s&&yr(_)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in _?(_.selectionStart=b,_.selectionEnd=Math.min(w,_.value.length)):(w=(b=_.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=_.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!w.extend&&x>s&&(u=s,s=x,x=u),u=pr(_,x),o=pr(_,s),u&&o&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),x>s?(w.addRange(b),w.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),w.addRange(b))))),b=[];for(w=_;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof _.focus&&_.focus(),_=0;_<b.length;_++)(w=b[_]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Gt=!!Hr,zr=Hr=null,e.current=n,Gs=r;do{try{for(_=e;null!==Gs;){var S=Gs.flags;if(36&S&&ys(_,Gs.alternate,Gs),128&S){b=void 0;var k=Gs.ref;if(null!==k){var E=Gs.stateNode;Gs.tag,b=E,"function"===typeof k?k(b):k.current=b}}Gs=Gs.nextEffect}}catch(P){if(null===Gs)throw Error(a(330));Bu(Gs,P),Gs=Gs.nextEffect}}while(null!==Gs);Gs=null,Di(),Is=i}else e.current=n;if(Xs)Xs=!1,eu=e,tu=t;else for(Gs=r;null!==Gs;)t=Gs.nextEffect,Gs.nextEffect=null,8&Gs.flags&&((S=Gs).sibling=null,S.stateNode=null),Gs=t;if(0===(r=e.pendingLanes)&&(Qs=null),1===r?e===au?ou++:(ou=0,au=e):ou=0,n=n.stateNode,ki&&"function"===typeof ki.onCommitFiberRoot)try{ki.onCommitFiberRoot(Si,n,void 0,64===(64&n.current.flags))}catch(P){}if(vu(e,Ki()),Ys)throw Ys=!1,e=$s,$s=null,e;return 0!==(8&Is)||Zi(),null}function Fu(){for(;null!==Gs;){var e=Gs.alternate;fu||null===lu||(0!==(8&Gs.flags)?et(Gs,lu)&&(fu=!0):13===Gs.tag&&Os(e,Gs)&&et(Gs,lu)&&(fu=!0));var t=Gs.flags;0!==(256&t)&&vs(e,Gs),0===(512&t)||Xs||(Xs=!0,Ji(97,(function(){return Ru(),null}))),Gs=Gs.nextEffect}}function Ru(){if(90!==tu){var e=97<tu?97:tu;return tu=90,qi(e,Du)}return!1}function Nu(e,t){nu.push(t,e),Xs||(Xs=!0,Ji(97,(function(){return Ru(),null})))}function Mu(e,t){ru.push(t,e),Xs||(Xs=!0,Ji(97,(function(){return Ru(),null})))}function Du(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Is))throw Error(a(331));var t=Is;Is|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===o)throw Error(a(330));Bu(o,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===o)throw Error(a(330));Bu(o,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Is=t,Zi(),!0}function Uu(e,t,n){fo(e,t=ds(0,t=cs(n,t),1)),t=du(),null!==(e=gu(e,1))&&(Kt(e,1,t),vu(e,t))}function Bu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Qs||!Qs.has(r))){var i=hs(n,e=cs(t,e),1);if(fo(n,i),i=du(),null!==(n=gu(n,1)))Kt(n,1,i),vu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Qs||!Qs.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Hu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=du(),e.pingedLanes|=e.suspendedLanes&n,js===e&&(Rs&n)===n&&(4===Ds||3===Ds&&(62914560&Rs)===Rs&&500>Ki()-Ws?ku(e,0):Ks|=n),vu(e,t)}function zu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Vi()?1:2:(0===uu&&(uu=Bs),0===(t=Ht(62914560&~uu))&&(t=4194304))),n=du(),null!==(e=gu(e,t))&&(Kt(e,t,n),vu(e,n))}function Ku(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Vu(e,t,n,r){return new Ku(e,t,n,r)}function Wu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qu(e,t){var n=e.alternate;return null===n?((n=Vu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ju(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Wu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Zu(n.children,i,o,t);case N:s=8,i|=16;break;case E:s=8,i|=1;break;case P:return(e=Vu(12,n,t,8|i)).elementType=P,e.type=P,e.lanes=o,e;case T:return(e=Vu(13,n,t,i)).type=T,e.elementType=T,e.lanes=o,e;case L:return(e=Vu(19,n,t,i)).elementType=L,e.lanes=o,e;case M:return Gu(n,i,o,t);case D:return(e=Vu(24,n,t,i)).elementType=D,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:s=10;break e;case O:s=9;break e;case C:s=11;break e;case I:s=14;break e;case j:s=16,r=null;break e;case F:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Vu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Zu(e,t,n,r){return(e=Vu(7,e,r,t)).lanes=n,e}function Gu(e,t,n,r){return(e=Vu(23,e,r,t)).elementType=M,e.lanes=n,e}function Yu(e,t,n){return(e=Vu(6,e,null,t)).lanes=n,e}function $u(e,t,n){return(t=Vu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Xu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,o=du(),s=hu(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,u);break e}}n=u}else n=di;return null===t.context?t.context=n:t.pendingContext=n,(t=lo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fo(i,t),pu(i,s,o),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Qu(e,t,null!=n&&!0===n.hydrate),t=Vu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,uo(t),e[ei]=n.current,Ir(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function oc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(a);s.call(e)}}ec(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(a);u.call(e)}}wu((function(){ec(t,a,e,i)}))}return tc(a)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oc(t))throw Error(a(200));return Xu(e,t,null,n)}Zs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Ma=!0;else{if(0===(n&r)){switch(Ma=!1,t.tag){case 3:Ja(t),Zo();break;case 5:No(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Fo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Qi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Qa(e,t,n):(fi(Do,1&Do.current),null!==(t=os(e,t,n))?t.sibling:null);fi(Do,1&Do.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Do,Do.current),r)break;return null;case 23:case 24:return t.lanes=0,za(e,t,n)}return os(e,t,n)}Ma=0!==(16384&e.flags)}else Ma=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=vi(t,hi.current),oo(t,n),i=sa(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var o=!0;wi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,uo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&yo(t,r,s,e),i.updater=mo,t.stateNode=i,i._reactInternals=t,xo(t,r,e,n),t=qa(null,t,r,!0,o,n)}else t.tag=0,Da(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Wu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===I)return 14}return 2}(i),e=$i(i,e),o){case 0:t=Va(null,t,i,e,n);break e;case 1:t=Wa(null,t,i,e,n);break e;case 11:t=Ua(null,t,i,e,n);break e;case 14:t=Ba(null,t,i,$i(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Va(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wa(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 3:if(Ja(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,co(e,t),po(t,r,null,n),(r=t.memoizedState.element)===i)Zo(),t=os(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Ho=Zr(t.stateNode.containerInfo.firstChild),Bo=t,o=zo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Go.push(o);for(n=Oo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Da(e,t,r,n),Zo();t=t.child}return t;case 5:return No(t),null===e&&Wo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Vr(r,i)?s=null:null!==o&&Vr(r,o)&&(t.flags|=16),Ka(e,t),Da(e,t,s,n),t.child;case 6:return null===e&&Wo(t),null;case 13:return Qa(e,t,n);case 4:return Fo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ao(t,null,r,n):Da(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ua(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 7:return Da(e,t,t.pendingProps,n),t.child;case 8:case 12:return Da(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(fi(Qi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=lr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!pi.current){t=os(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=lo(-1,n&-n)).tag=2,fo(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),io(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Da(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(i=ao(i,o.unstable_observedBits)),t.flags|=1,Da(e,t,r,n),t.child;case 14:return o=$i(i=t.type,t.pendingProps),Ba(e,t,i,o=$i(i.type,o),r,n);case 15:return Ha(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$i(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,oo(t,n),bo(t,r,i),xo(t,r,i,n),qa(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return za(e,t,n)}throw Error(a(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,du()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,du()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=du(),n=hu(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ae=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oi(r);if(!i)throw Error(a(90));$(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},je=bu,Fe=function(e,t,n,r,i){var o=Is;Is|=4;try{return qi(98,e.bind(null,t,n,r,i))}finally{0===(Is=o)&&(Js(),Zi())}},Re=function(){0===(49&Is)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,vu(e,Ki())}))}Zi()}(),Ru())},Ne=function(e,t){var n=Is;Is|=2;try{return e(t)}finally{0===(Is=n)&&(Js(),Zi())}};var uc={Events:[ri,ii,oi,Le,Ie,Ru,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Si=fc.inject(lc),ki=fc}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Is;if(0!==(48&n))return e(t);Is|=1;try{if(e)return qi(99,e.bind(null,t))}finally{Is=n,Zi()}},t.hydrate=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!oc(e))throw Error(a(40));return!!e._reactRootContainer&&(wu((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!oc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ac(e,t,n,!1,r)},t.version="17.0.2"},function(e,t,n){"use strict";e.exports=n(144)},function(e,t,n){"use strict";var r,i,o,a;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,f=null,d=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(d,0))},i=function(e,t){f=setTimeout(e,t)},o=function(){clearTimeout(f)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var g=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,y=null,m=-1,_=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,x=w.port2;w.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();b=e+_;try{y(!0,e)?x.postMessage(null):(v=!1,y=null)}catch(n){throw x.postMessage(null),n}}else v=!1},r=function(e){y=e,v||(v=!0,x.postMessage(null))},i=function(e,n){m=h((function(){e(t.unstable_now())}),n)},o=function(){p(m),m=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<P(i,t)))break e;e[r]=t,e[n]=i,n=r}}function k(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>P(a,n))void 0!==u&&0>P(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>P(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function P(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var A=[],O=[],C=1,T=null,L=3,I=!1,j=!1,F=!1;function R(e){for(var t=k(O);null!==t;){if(null===t.callback)E(O);else{if(!(t.startTime<=e))break;E(O),t.sortIndex=t.expirationTime,S(A,t)}t=k(O)}}function N(e){if(F=!1,R(e),!j)if(null!==k(A))j=!0,r(M);else{var t=k(O);null!==t&&i(N,t.startTime-e)}}function M(e,n){j=!1,F&&(F=!1,o()),I=!0;var r=L;try{for(R(n),T=k(A);null!==T&&(!(T.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=T.callback;if("function"===typeof a){T.callback=null,L=T.priorityLevel;var s=a(T.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?T.callback=s:T===k(A)&&E(A),R(n)}else E(A);T=k(A)}if(null!==T)var u=!0;else{var c=k(O);null!==c&&i(N,c.startTime-n),u=!1}return u}finally{T=null,L=r,I=!1}}var D=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){j||I||(j=!0,r(M))},t.unstable_getCurrentPriorityLevel=function(){return L},t.unstable_getFirstCallbackNode=function(){return k(A)},t.unstable_next=function(e){switch(L){case 1:case 2:case 3:var t=3;break;default:t=L}var n=L;L=t;try{return e()}finally{L=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=D,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=L;L=e;try{return t()}finally{L=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:n,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,S(O,e),null===k(A)&&e===k(O)&&(F?o():F=!0,i(N,a-s))):(e.sortIndex=u,S(A,e),j||I||(j=!0,r(M))),e},t.unstable_wrapCallback=function(e){var t=L;return function(){var n=L;L=t;try{return e.apply(this,arguments)}finally{L=n}}}},,function(e,t,n){"use strict";var r=n(147);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,_=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case d:case a:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case h:case y:case v:case c:return e;default:return t}}case o:return t}}}function S(e){return x(e)===d}t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||x(e)===f},t.isConcurrentMode=S,t.isContextConsumer=function(e){return x(e)===l},t.isContextProvider=function(e){return x(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return x(e)===h},t.isFragment=function(e){return x(e)===a},t.isLazy=function(e){return x(e)===y},t.isMemo=function(e){return x(e)===v},t.isPortal=function(e){return x(e)===o},t.isProfiler=function(e){return x(e)===u},t.isStrictMode=function(e){return x(e)===s},t.isSuspense=function(e){return x(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===u||e===s||e===p||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===c||e.$$typeof===l||e.$$typeof===h||e.$$typeof===_||e.$$typeof===b||e.$$typeof===w||e.$$typeof===m)},t.typeOf=x},function(e,t,n){"use strict";var r=60103,i=60106,o=60107,a=60108,s=60114,u=60109,c=60110,l=60112,f=60113,d=60120,h=60115,p=60116,g=60121,v=60122,y=60117,m=60129,_=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;r=b("react.element"),i=b("react.portal"),o=b("react.fragment"),a=b("react.strict_mode"),s=b("react.profiler"),u=b("react.provider"),c=b("react.context"),l=b("react.forward_ref"),f=b("react.suspense"),d=b("react.suspense_list"),h=b("react.memo"),p=b("react.lazy"),g=b("react.block"),v=b("react.server.block"),y=b("react.fundamental"),m=b("react.debug_trace_mode"),_=b("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case f:case d:return e;default:switch(e=e&&e.$$typeof){case c:case l:case p:case h:case u:return e;default:return t}}case i:return t}}}var x=u,S=r,k=l,E=o,P=p,A=h,O=i,C=s,T=a,L=f;t.ContextConsumer=c,t.ContextProvider=x,t.Element=S,t.ForwardRef=k,t.Fragment=E,t.Lazy=P,t.Memo=A,t.Portal=O,t.Profiler=C,t.StrictMode=T,t.Suspense=L,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===l},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===p},t.isMemo=function(e){return w(e)===h},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===s||e===m||e===a||e===f||e===d||e===_||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===h||e.$$typeof===u||e.$$typeof===c||e.$$typeof===l||e.$$typeof===y||e.$$typeof===g||e[0]===v)},t.typeOf=w},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(L){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),a=new O(r||[]);return o._invoke=function(e,t,n){var r=f;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return T()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:d,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",g={};function v(){}function y(){}function m(){}var _={};u(_,o,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(C([])));w&&w!==n&&r.call(w,o)&&(_=w);var x=m.prototype=v.prototype=Object.create(_);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(i,o,a,s){var u=l(e[i],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function C(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:T}}function T(){return{value:t,done:!0}}return y.prototype=m,u(x,"constructor",m),u(m,"constructor",y),y.displayName=u(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},S(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(x),u(x,s,"Generator"),u(x,o,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=r}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){var r=n(152),i=n(81);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?i(e):t}},function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){"use strict";var r=n(0),i=n(37),o=n(8),a=n(6),s=n(7),u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=u(n(106)),l=function(){function e(t){a(this,e),this.handleables=t}return s(e,[{key:"getProperHandler",value:function(){var e=o(r.mark((function e(t){var n,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.handleables.map((function(e){return e.canHandle.apply(e,i(t))})));case 2:n=e.sent,o=0;case 4:if(!(o<n.length)){e.next=10;break}if(!n[o]){e.next=7;break}return e.abrupt("return",this.handleables[o]);case 7:o+=1,e.next=4;break;case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"canHandle",value:function(){var e=o(r.mark((function e(){var t,n,i,o=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=o.length,n=new Array(t),i=0;i<t;i++)n[i]=o[i];return e.next=3,this.getProperHandler(n);case 3:return e.t0=e.sent,e.abrupt("return",null!==e.t0);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=o(r.mark((function e(){var t,n,i,o,a=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=a.length,n=new Array(t),i=0;i<t;i++)n[i]=a[i];return e.next=3,this.getProperHandler(n);case 3:if(!(o=e.sent)){e.next=6;break}return e.abrupt("return",o.handle.apply(o,n));case 6:throw new c.default("[".concat(this.constructor.name,"] cannot find a suitable handler for: ").concat(n.map((function(e){try{return JSON.stringify(e)}catch(t){return e.toString()}})).join(", ")));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();t.default=l},function(e,t,n){var r=n(104);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(e,t,n){var r=n(82),i=n(103);function o(t,n,a){return i()?e.exports=o=Reflect.construct:e.exports=o=function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&r(o,n.prototype),o},o.apply(null,arguments)}e.exports=o},function(e,t,n){"use strict";var r=n(0),i=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.getWebidFromTokenPayload=t.fetchJwks=void 0;var o=n(73),a=n(67);function s(e,t){return u.apply(this,arguments)}function u(){return(u=i(r.mark((function e(t,n){var i,a;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.fetch(t);case 2:if(200===(i=e.sent).status){e.next=5;break}throw new Error("Could not fetch JWKS for [".concat(n,"] at [").concat(t,"]: ").concat(i.status," ").concat(i.statusText));case 5:return e.prev=5,e.next=8,i.json();case 8:a=e.sent.keys[0],e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(5),new Error("Malformed JWKS for [".concat(n,"] at [").concat(t,"]: ").concat(e.t0.message));case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}function c(){return(c=i(r.mark((function e(t,n,i,o){var u,c,l,f;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(n,i);case 2:return u=e.sent,e.prev=3,e.t0=a,e.t1=t,e.next=8,a.parseJwk(u);case 8:return e.t2=e.sent,e.t3={issuer:i,audience:o},e.next=12,e.t0.jwtVerify.call(e.t0,e.t1,e.t2,e.t3);case 12:l=e.sent,f=l.payload,c=f,e.next=20;break;case 17:throw e.prev=17,e.t4=e.catch(3),new Error("ID token verification failed: ".concat(e.t4.stack));case 20:if("string"!==typeof c.webid){e.next=22;break}return e.abrupt("return",c.webid);case 22:if("string"===typeof c.sub){e.next=24;break}throw new Error("The ID token ".concat(JSON.stringify(c)," is invalid: it has no 'webid' claim and no 'sub' claim."));case 24:return e.prev=24,new URL(c.sub),e.abrupt("return",c.sub);case 29:throw e.prev=29,e.t5=e.catch(24),new Error("The ID token has no 'webid' claim, and its 'sub' claim of [".concat(c.sub,"] is invalid as a URL - error [").concat(e.t5,"]."));case 32:case"end":return e.stop()}}),e,null,[[3,17],[24,29]])})))).apply(this,arguments)}t.fetchJwks=s,t.getWebidFromTokenPayload=function(e,t,n,r){return c.apply(this,arguments)}},function(e,t){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSupportedTokenType=void 0,t.isSupportedTokenType=function(e){return"string"===typeof e&&["DPoP","Bearer"].includes(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USER_SESSION_PREFIX=void 0,t.USER_SESSION_PREFIX="solidClientAuthenticationUser"},function(e,t,n){"use strict";var r=n(0),i=n(8);function o(e){try{return new URL(e),!0}catch(t){return!1}}function a(e,t){return void 0===e.clientId||o(e.clientId)?"https://solidproject.org/TR/solid-oidc"===t.solidOidcSupported&&void 0!==e.clientId&&o(e.clientId)?"solid-oidc":"dynamic":"static"}function s(){return(s=i(r.mark((function e(t,n,i,o){var s;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("dynamic"!==(s=a(t,n))){e.next=3;break}return e.abrupt("return",o.getClient({sessionId:t.sessionId,clientName:t.clientName,redirectUrl:t.redirectUrl},n));case 3:return e.next=5,i.setForUser(t.sessionId,{clientId:t.clientId});case 5:if(!t.clientSecret){e.next=8;break}return e.next=8,i.setForUser(t.sessionId,{clientSecret:t.clientSecret});case 8:if(!t.clientName){e.next=11;break}return e.next=11,i.setForUser(t.sessionId,{clientName:t.clientName});case 11:return e.abrupt("return",{clientId:t.clientId,clientSecret:t.clientSecret,clientName:t.clientName,clientType:s});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.handleRegistration=t.determineSigningAlg=void 0,t.determineSigningAlg=function(e,t){var n;return null!==(n=t.find((function(t){return e.includes(t)})))&&void 0!==n?n:null},t.handleRegistration=function(e,t,n,r){return s.apply(this,arguments)}},function(e,t,n){"use strict";var r=n(38),i=n(30),o=n(0),a=n(6),s=n(7),u=n(8),c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.saveSessionInfoToStorage=t.loadOidcContextFromStorage=t.getSessionIdFromOauthState=void 0;var l=n(67),f=c(n(106));function d(){return(d=u(o.mark((function e(t,n){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getForUser(n,"sessionId"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=u(o.mark((function e(t,n,i){var a,s,u,c,l,f,d;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([n.getForUser(t,"issuer",{errorIfNull:!0}),n.getForUser(t,"codeVerifier"),n.getForUser(t,"redirectUrl"),n.getForUser(t,"dpop",{errorIfNull:!0})]);case 3:return a=e.sent,s=r(a,4),u=s[0],c=s[1],l=s[2],f=s[3],e.next=11,i.fetchConfig(u);case 11:return d=e.sent,e.abrupt("return",{codeVerifier:c,redirectUrl:l,issuerConfig:d,dpop:"true"===f});case 15:throw e.prev=15,e.t0=e.catch(0),new Error("Failed to retrieve OIDC context from storage associated with session [".concat(t,"]: ").concat(e.t0.toString()));case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function p(){return(p=u(o.mark((function e(t,n,r,i,a,s,u,c){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===s){e.next=3;break}return e.next=3,t.setForUser(n,{refreshToken:s},{secure:u});case 3:if(void 0===r){e.next=6;break}return e.next=6,t.setForUser(n,{idToken:r},{secure:u});case 6:if(void 0===i){e.next=9;break}return e.next=9,t.setForUser(n,{webId:i},{secure:u});case 9:if(void 0===a){e.next=12;break}return e.next=12,t.setForUser(n,{isLoggedIn:a},{secure:u});case 12:if(void 0===c){e.next=25;break}return e.t0=t,e.t1=n,e.t2=JSON.stringify(c.publicKey),e.t3=JSON,e.next=19,l.fromKeyLike(c.privateKey);case 19:return e.t4=e.sent,e.t5=e.t3.stringify.call(e.t3,e.t4),e.t6={publicKey:e.t2,privateKey:e.t5},e.t7={secure:u},e.next=25,e.t0.setForUser.call(e.t0,e.t1,e.t6,e.t7);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.getSessionIdFromOauthState=function(e,t){return d.apply(this,arguments)},t.loadOidcContextFromStorage=function(e,t,n){return h.apply(this,arguments)},t.saveSessionInfoToStorage=function(e,t,n,r,i,o,a,s){return p.apply(this,arguments)};var g=function(){function e(t,n){a(this,e),this.secureStorage=t,this.insecureStorage=n,this.RESOURCE_SERVER_SESSION_INFORMATION_KEY="tmp-resource-server-session-info"}return s(e,[{key:"getKey",value:function(e){return"solidClientAuthenticationUser:".concat(e)}},{key:"getUserData",value:function(){var e=u(o.mark((function e(t,n){var r;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(n?this.secureStorage:this.insecureStorage).get(this.getKey(t));case 2:if(void 0!==(r=e.sent)){e.next=5;break}return e.abrupt("return",{});case 5:return e.prev=5,e.abrupt("return",JSON.parse(r));case 9:throw e.prev=9,e.t0=e.catch(5),new f.default("Data for user [".concat(t,"] in [").concat(n?"secure":"unsecure","] storage is corrupted - expected valid JSON, but got: ").concat(r));case 12:case"end":return e.stop()}}),e,this,[[5,9]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setUserData",value:function(){var e=u(o.mark((function e(t,n,r){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(r?this.secureStorage:this.insecureStorage).set(this.getKey(t),JSON.stringify(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=u(o.mark((function e(t,n){var r;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,((null===n||void 0===n?void 0:n.secure)?this.secureStorage:this.insecureStorage).get(t);case 2:if(void 0!==(r=e.sent)||!(null===n||void 0===n?void 0:n.errorIfNull)){e.next=5;break}throw new f.default("[".concat(t,"] is not stored"));case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=u(o.mark((function e(t,n,r){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",((null===r||void 0===r?void 0:r.secure)?this.secureStorage:this.insecureStorage).set(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=u(o.mark((function e(t,n){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",((null===n||void 0===n?void 0:n.secure)?this.secureStorage:this.insecureStorage).delete(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getForUser",value:function(){var e=u(o.mark((function e(t,n,r){var i,a;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserData(t,null===r||void 0===r?void 0:r.secure);case 2:if((i=e.sent)&&i[n]||(a=void 0),void 0!==(a=i[n])||!(null===r||void 0===r?void 0:r.errorIfNull)){e.next=7;break}throw new f.default("Field [".concat(n,"] for user [").concat(t,"] is not stored"));case 7:return e.abrupt("return",a||void 0);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"setForUser",value:function(){var e=u(o.mark((function e(t,n,r){var a;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getUserData(t,null===r||void 0===r?void 0:r.secure);case 3:a=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),a={};case 9:return e.next=11,this.setUserData(t,i(i({},a),n),null===r||void 0===r?void 0:r.secure);case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"deleteForUser",value:function(){var e=u(o.mark((function e(t,n,r){var i;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserData(t,null===r||void 0===r?void 0:r.secure);case 2:return delete(i=e.sent)[n],e.next=6,this.setUserData(t,i,null===r||void 0===r?void 0:r.secure);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"deleteAllUserData",value:function(){var e=u(o.mark((function e(t,n){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,((null===n||void 0===n?void 0:n.secure)?this.secureStorage:this.insecureStorage).delete(this.getKey(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"storeResourceServerSessionInfo",value:function(){var e=u(o.mark((function e(t,n,r){var i,a;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=JSON,e.next=3,this.insecureStorage.get(this.RESOURCE_SERVER_SESSION_INFORMATION_KEY);case 3:if(e.t2=i=e.sent,e.t1=null!==e.t2,!e.t1){e.next=7;break}e.t1=void 0!==i;case 7:if(!e.t1){e.next=11;break}e.t3=i,e.next=12;break;case 11:e.t3="{}";case 12:return e.t4=e.t3,(a=e.t0.parse.call(e.t0,e.t4)).webId!==t&&(a.sessions={}),a.webId=t,a.sessions[n]={expiration:r},e.next=19,this.insecureStorage.set(this.RESOURCE_SERVER_SESSION_INFORMATION_KEY,JSON.stringify(a));case 19:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"clearResourceServerSessionInfo",value:function(){var e=u(o.mark((function e(t){var n,r;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=JSON,e.next=3,this.insecureStorage.get(this.RESOURCE_SERVER_SESSION_INFORMATION_KEY);case 3:if(e.t2=n=e.sent,e.t1=null!==e.t2,!e.t1){e.next=7;break}e.t1=void 0!==n;case 7:if(!e.t1){e.next=11;break}e.t3=n,e.next=12;break;case 11:e.t3="{}";case 12:if(e.t4=e.t3,void 0===(r=e.t0.parse.call(e.t0,e.t4)).sessions){e.next=23;break}if(delete r.sessions[t],0!==Object.keys(r.sessions).length){e.next=21;break}return e.next=19,this.insecureStorage.set(this.RESOURCE_SERVER_SESSION_INFORMATION_KEY,"{}");case 19:e.next=23;break;case 21:return e.next=23,this.insecureStorage.set(this.RESOURCE_SERVER_SESSION_INFORMATION_KEY,JSON.stringify(r));case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=g},function(e,t,n){"use strict";var r=n(0),i=n(8),o=n(6),a=n(7);Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(){o(this,e),this.map={}}return a(e,[{key:"get",value:function(){var e=i(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.map[t]||void 0);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=i(r.mark((function e(t,n){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.map[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=i(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.map[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=s},function(e,t,n){"use strict";var r=n(6),i=n(27),o=n(28),a=n(49);Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){i(n,e);var t=o(n);function n(e){return r(this,n),t.call(this,e)}return n}(a(Error));t.default=s},function(e,t,n){"use strict";var r=n(6),i=n(27),o=n(28),a=n(49);Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){i(n,e);var t=o(n);function n(e){return r(this,n),t.call(this,"[".concat(e,"] is not implemented"))}return n}(a(Error));t.default=s},function(e,t,n){"use strict";var r=n(0),i=n(30),o=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.buildAuthenticatedFetch=t.DEFAULT_EXPIRATION_TIME_SECONDS=void 0;var a=n(83),s=n(112),u=n(111),c=n(110);function l(e){return[401,403].includes(e)}function f(e,t,n,r){return d.apply(this,arguments)}function d(){return(d=o(r.mark((function e(t,n,o,a){var u,c;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=i({},a),e.t0=i,e.t1=i({},null===a||void 0===a?void 0:a.headers),e.t2={},e.t3="DPoP ".concat(n),e.next=7,s.createDpopHeader(t,null!==(u=null===a||void 0===a?void 0:a.method)&&void 0!==u?u:"get",o);case 7:return e.t4=e.sent,e.t5={Authorization:e.t3,DPoP:e.t4},c.headers=(0,e.t0)(e.t1,e.t2,e.t5),e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t,n,r){return p.apply(this,arguments)}function p(){return(p=o(r.mark((function e(t,n,o,a){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===o){e.next=2;break}return e.abrupt("return",f(t,n,o,a));case 2:return e.abrupt("return",i(i({},a),{},{headers:i(i({},null===a||void 0===a?void 0:a.headers),{},{Authorization:"Bearer ".concat(n)})}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t,n,r,i){return v.apply(this,arguments)}function v(){return(v=o(r.mark((function e(t,n,i,o,a){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=i,e.next=4,h(i.toString(),n,a,o);case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t,n){return m.apply(this,arguments)}function m(){return(m=o(r.mark((function e(n,i,o){var s,u;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.tokenRefresher.refresh(n.sessionId,n.refreshToken,i);case 2:return u=e.sent,null===o||void 0===o||o.emit(a.EVENTS.SESSION_EXTENDED,null!==(s=u.expiresIn)&&void 0!==s?s:t.DEFAULT_EXPIRATION_TIME_SECONDS),"string"===typeof u.refreshToken&&(null===o||void 0===o||o.emit(a.EVENTS.NEW_REFRESH_TOKEN,u.refreshToken)),e.abrupt("return",{accessToken:u.accessToken,refreshToken:u.refreshToken,expiresIn:u.expiresIn});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.DEFAULT_EXPIRATION_TIME_SECONDS=600;var _=function(e){return void 0!==e?e-a.REFRESH_BEFORE_EXPIRATION_SECONDS>0?e-a.REFRESH_BEFORE_EXPIRATION_SECONDS:e:t.DEFAULT_EXPIRATION_TIME_SECONDS};function b(){return b=o(r.mark((function e(t,n,i){var s,f,d,h,p,v;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=n,void 0!==(h=null===i||void 0===i?void 0:i.refreshOptions)?(p=function(){var e=o(r.mark((function e(){var t,n,o,s,l,g,v,m;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y(h,i.dpopKey,i.eventEmitter);case 3:l=e.sent,g=l.accessToken,v=l.refreshToken,m=l.expiresIn,f=g,void 0!==v&&(h.refreshToken=v),clearTimeout(d),d=setTimeout(p,1e3*_(m)),null===(t=i.eventEmitter)||void 0===t||t.emit(a.EVENTS.TIMEOUT_SET,d),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),e.t0 instanceof u.OidcProviderError&&(null===(n=null===i||void 0===i?void 0:i.eventEmitter)||void 0===n||n.emit(a.EVENTS.ERROR,e.t0.error,e.t0.errorDescription),null===(o=null===i||void 0===i?void 0:i.eventEmitter)||void 0===o||o.emit(a.EVENTS.SESSION_EXPIRED)),e.t0 instanceof c.InvalidResponseError&&e.t0.missingFields.includes("access_token")&&(null===(s=null===i||void 0===i?void 0:i.eventEmitter)||void 0===s||s.emit(a.EVENTS.SESSION_EXPIRED));case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),d=setTimeout(p,1e3*_(i.expiresIn)),null===(s=i.eventEmitter)||void 0===s||s.emit(a.EVENTS.TIMEOUT_SET,d)):void 0!==i&&void 0!==i.eventEmitter&&(v=setTimeout((function(){i.eventEmitter.emit(a.EVENTS.SESSION_EXPIRED)}),1e3*_(i.expiresIn)),i.eventEmitter.emit(a.EVENTS.TIMEOUT_SET,v)),e.abrupt("return",function(){var e=o(r.mark((function e(n,o){var a,s;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t,f,n,o,null===i||void 0===i?void 0:i.dpopKey);case 2:if(a=e.sent,s=!a.ok&&!l(a.status),!a.ok&&!s){e.next=6;break}return e.abrupt("return",a);case 6:if(!(a.url!==n)||void 0===(null===i||void 0===i?void 0:i.dpopKey)){e.next=11;break}return e.next=10,g(t,f,a.url,o,i.dpopKey);case 10:a=e.sent;case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}t.buildAuthenticatedFetch=function(e,t,n){return b.apply(this,arguments)}},function(e,t,n){"use strict";var r=n(0),i=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.mockStorageUtility=t.mockStorage=t.StorageUtilityMock=t.StorageUtilityGetResponse=void 0;var o=n(9);t.StorageUtilityGetResponse="getResponse",t.StorageUtilityMock={get:function(){var e=i(r.mark((function e(n,i){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.StorageUtilityGetResponse);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),set:function(){var e=i(r.mark((function e(t,n){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),delete:function(){var e=i(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getForUser:function(){var e=i(r.mark((function e(n,i,o){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.StorageUtilityGetResponse);case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),setForUser:function(){var e=i(r.mark((function e(t,n,i){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),deleteForUser:function(){var e=i(r.mark((function e(t,n,i){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),deleteAllUserData:function(){var e=i(r.mark((function e(t,n){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),storeResourceServerSessionInfo:function(){var e=i(r.mark((function e(t,n,i){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),clearResourceServerSessionInfo:function(){var e=i(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.mockStorage=function(e){var t=e;return{get:function(){var e=i(r.mark((function e(n){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t[n]){e.next=2;break}return e.abrupt("return",void 0);case 2:if("string"!==typeof t[n]){e.next=4;break}return e.abrupt("return",t[n]);case 4:return e.abrupt("return",JSON.stringify(t[n]));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),set:function(){var e=i(r.mark((function e(n,i){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t[n]=i;case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),delete:function(){var e=i(r.mark((function e(n){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete t[n];case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}};t.mockStorageUtility=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n?new o.StorageUtility(t.mockStorage(e),t.mockStorage({})):new o.StorageUtility(t.mockStorage({}),t.mockStorage(e))}},function(e,t,n){"use strict";var r=n(6),i=n(27),o=n(28);Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){i(n,e);var t=o(n);function n(e,i){return r(this,n),t.call(this,e,i)}return n}(n(9).StorageUtility);t.default=a},function(e,t,n){"use strict";var r=n(0),i=n(30),o=n(8),a=n(6);Object.defineProperty(t,"__esModule",{value:!0});var s=n(9),u=n(53),c=n(67),l=n(84),f=function(e,t){return window.fetch(e,t)};t.default=function e(t,n,d,h,p){var g=this;a(this,e),this.loginHandler=t,this.redirectHandler=n,this.logoutHandler=d,this.sessionInfoManager=h,this.issuerConfigFetcher=p,this.login=function(){var e=o(r.mark((function e(t,n){var o,a,s;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.sessionInfoManager.clear(t.sessionId);case 2:return s=u.removeOidcQueryParam(null!==(o=t.redirectUrl)&&void 0!==o?o:window.location.href),e.next=5,g.loginHandler.handle(i(i({},t),{},{redirectUrl:s,clientName:null!==(a=t.clientName)&&void 0!==a?a:t.clientId,eventEmitter:n}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.fetch=f,this.logout=function(){var e=o(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.logoutHandler.handle(t);case 2:g.fetch=f;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getSessionInfo=function(){var e=o(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g.sessionInfoManager.get(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllSessionInfo=o(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g.sessionInfoManager.getAll());case 1:case"end":return e.stop()}}),e)}))),this.validateCurrentSession=o(r.mark((function e(){var t,n,i,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=window.localStorage.getItem(l.KEY_CURRENT_SESSION))){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,g.sessionInfoManager.get(t);case 5:if(void 0!==(n=e.sent)&&void 0!==n.idToken&&void 0!==n.clientAppId&&void 0!==n.issuer){e.next=8;break}return e.abrupt("return",null);case 8:return e.next=10,g.issuerConfigFetcher.fetchConfig(n.issuer);case 10:return i=e.sent,e.prev=11,e.next=14,s.fetchJwks(i.jwksUri,i.issuer);case 14:return o=e.sent,e.t0=c,e.t1=n.idToken,e.next=19,c.parseJwk(o);case 19:return e.t2=e.sent,e.t3={audience:n.clientAppId,issuer:i.issuer},e.next=23,e.t0.jwtVerify.call(e.t0,e.t1,e.t2,e.t3);case 23:return e.abrupt("return",n);case 26:e.prev=26,e.t4=e.catch(11);case 28:return e.abrupt("return",null);case 29:case"end":return e.stop()}}),e,null,[[11,26]])}))),this.handleIncomingRedirect=function(){var e=o(r.mark((function e(t,n){var i,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.redirectHandler.handle(t,n);case 2:return i=e.sent,g.fetch=i.fetch.bind(window),(o=new URL(t)).searchParams.delete("state"),o.searchParams.delete("code"),o.searchParams.delete("id_token"),o.searchParams.delete("access_token"),o.searchParams.delete("error"),o.searchParams.delete("error_description"),window.history.replaceState(null,"",o.toString()),e.abrupt("return",{isLoggedIn:i.isLoggedIn,webId:i.webId,sessionId:i.sessionId,expirationDate:i.expirationDate});case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}},function(e,t,n){"use strict";var r=n(30),i=n(0),o=n(8),a=n(6),s=n(7);Object.defineProperty(t,"__esModule",{value:!0});var u=n(9);function c(e){return"string"===typeof e.oidcIssuer}function l(e){return"string"===typeof e.redirectUrl}var f=function(){function e(t,n,r,i){a(this,e),this.storageUtility=t,this.oidcHandler=n,this.issuerConfigFetcher=r,this.clientRegistrar=i}return s(e,[{key:"canHandle",value:function(){var e=o(i.mark((function e(t){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c(t)&&l(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=o(i.mark((function e(t){var n,o,a;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(t)){e.next=2;break}throw new u.ConfigurationError("OidcLoginHandler requires an OIDC issuer: missing property 'oidcIssuer' in ".concat(JSON.stringify(t)));case 2:if(l(t)){e.next=4;break}throw new u.ConfigurationError("OidcLoginHandler requires a redirect URL: missing property 'redirectUrl' in ".concat(JSON.stringify(t)));case 4:return e.next=6,this.issuerConfigFetcher.fetchConfig(t.oidcIssuer);case 6:return n=e.sent,e.next=9,u.handleRegistration(t,n,this.storageUtility,this.clientRegistrar);case 9:return o=e.sent,a=r(r({issuer:n.issuer,dpop:"dpop"===t.tokenType.toLowerCase()},t),{},{issuerConfiguration:n,client:o}),e.abrupt("return",this.oidcHandler.handle(a));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=f},function(e,t,n){"use strict";var r=n(0),i=n(8),o=n(6),a=n(7);Object.defineProperty(t,"__esModule",{value:!0});var s=n(53),u=function(){function e(t,n){o(this,e),this.storageUtility=t,this.redirector=n}return a(e,[{key:"canHandle",value:function(){var e=i(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!!(t.issuerConfiguration.grantTypesSupported&&t.issuerConfiguration.grantTypesSupported.indexOf("authorization_code")>-1));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=i(r.mark((function e(t){var n,i,o,a,u,c;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={authority:t.issuer.toString(),client_id:t.client.clientId,client_secret:t.client.clientSecret,redirect_uri:t.redirectUrl.toString(),post_logout_redirect_uri:t.redirectUrl.toString(),response_type:"code",scope:"openid offline_access",filterProtocolClaims:!0,loadUserInfo:!1,code_verifier:!0,prompt:null!==(n=t.prompt)&&void 0!==n?n:"consent"},o=new s.OidcClient(i),a=this.redirector,u=this.storageUtility,e.prev=4,e.next=7,o.createSigninRequest();case 7:return c=e.sent,e.next=10,Promise.all([u.setForUser(c.state._id,{sessionId:t.sessionId}),u.setForUser(t.sessionId,{codeVerifier:c.state._code_verifier,issuer:t.issuer.toString(),redirectUrl:t.redirectUrl,dpop:t.dpop?"true":"false"})]);case 10:a.redirect(c.url.toString(),{handleRedirect:t.handleRedirect,redirectInIframe:t.inIframe}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.error(e.t0);case 16:return e.abrupt("return",void 0);case 17:case"end":return e.stop()}}),e,this,[[4,13]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=u},function(e,t,n){"use strict";var r=n(0),i=n(8),o=n(6),a=n(7);Object.defineProperty(t,"__esModule",{value:!0}),t.WELL_KNOWN_OPENID_CONFIG=void 0;var s=n(9),u=n(175);t.WELL_KNOWN_OPENID_CONFIG=".well-known/openid-configuration";var c={issuer:{toKey:"issuer",convertToUrl:!0},authorization_endpoint:{toKey:"authorizationEndpoint",convertToUrl:!0},token_endpoint:{toKey:"tokenEndpoint",convertToUrl:!0},userinfo_endpoint:{toKey:"userinfoEndpoint",convertToUrl:!0},jwks_uri:{toKey:"jwksUri",convertToUrl:!0},registration_endpoint:{toKey:"registrationEndpoint",convertToUrl:!0},scopes_supported:{toKey:"scopesSupported"},response_types_supported:{toKey:"responseTypesSupported"},response_modes_supported:{toKey:"responseModesSupported"},grant_types_supported:{toKey:"grantTypesSupported"},acr_values_supported:{toKey:"acrValuesSupported"},subject_types_supported:{toKey:"subjectTypesSupported"},id_token_signing_alg_values_supported:{toKey:"idTokenSigningAlgValuesSupported"},id_token_encryption_alg_values_supported:{toKey:"idTokenEncryptionAlgValuesSupported"},id_token_encryption_enc_values_supported:{toKey:"idTokenEncryptionEncValuesSupported"},userinfo_signing_alg_values_supported:{toKey:"userinfoSigningAlgValuesSupported"},userinfo_encryption_alg_values_supported:{toKey:"userinfoEncryptionAlgValuesSupported"},userinfo_encryption_enc_values_supported:{toKey:"userinfoEncryptionEncValuesSupported"},request_object_signing_alg_values_supported:{toKey:"requestObjectSigningAlgValuesSupported"},request_object_encryption_alg_values_supported:{toKey:"requestObjectEncryptionAlgValuesSupported"},request_object_encryption_enc_values_supported:{toKey:"requestObjectEncryptionEncValuesSupported"},token_endpoint_auth_methods_supported:{toKey:"tokenEndpointAuthMethodsSupported"},token_endpoint_auth_signing_alg_values_supported:{toKey:"tokenEndpointAuthSigningAlgValuesSupported"},display_values_supported:{toKey:"displayValuesSupported"},claim_types_supported:{toKey:"claimTypesSupported"},claims_supported:{toKey:"claimsSupported"},service_documentation:{toKey:"serviceDocumentation"},claims_locales_supported:{toKey:"claimsLocalesSupported"},ui_locales_supported:{toKey:"uiLocalesSupported"},claims_parameter_supported:{toKey:"claimsParameterSupported"},request_parameter_supported:{toKey:"requestParameterSupported"},request_uri_parameter_supported:{toKey:"requestUriParameterSupported"},require_request_uri_registration:{toKey:"requireRequestUriRegistration"},op_policy_uri:{toKey:"opPolicyUri",convertToUrl:!0},op_tos_uri:{toKey:"opTosUri",convertToUrl:!0},solid_oidc_supported:{toKey:"solidOidcSupported"}};function l(e){var t={};return Object.keys(e).forEach((function(n){c[n]&&(t[c[n].toKey]=e[n])})),t}var f=function(){function e(t){o(this,e),this.storageUtility=t}return a(e,[{key:"fetchConfig",value:function(){var n=i(r.mark((function n(i){var o,a,c;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=u.appendToUrlPathname(i,t.WELL_KNOWN_OPENID_CONFIG),n.next=3,window.fetch(a);case 3:return c=n.sent,n.prev=4,n.t0=l,n.next=8,c.json();case 8:n.t1=n.sent,o=(0,n.t0)(n.t1),n.next=15;break;case 12:throw n.prev=12,n.t2=n.catch(4),new s.ConfigurationError("[".concat(i.toString(),"] has an invalid configuration: ").concat(n.t2.message));case 15:return n.next=17,this.storageUtility.set(e.getLocalStorageKey(i),JSON.stringify(o));case 17:return n.abrupt("return",o);case 18:case"end":return n.stop()}}),n,this,[[4,12]])})));return function(e){return n.apply(this,arguments)}}()}],[{key:"getLocalStorageKey",value:function(e){return"issuerConfig:".concat(e)}}]),e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appendToUrlPathname=void 0,t.appendToUrlPathname=function(e,t){var n=new URL(e),r=n.pathname;return n.pathname="".concat(r).concat(r.endsWith("/")?"":"/").concat(t.startsWith("/")?t.substring(1):t),n.toString()}},function(e,t,n){"use strict";var r=n(0),i=n(8),o=n(6),a=n(7);Object.defineProperty(t,"__esModule",{value:!0}),t.FallbackRedirectHandler=void 0;var s=n(85),u=function(){function e(){o(this,e)}return a(e,[{key:"canHandle",value:function(){var e=i(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,new URL(t),e.abrupt("return",!0);case 5:throw e.prev=5,e.t0=e.catch(0),new Error("[".concat(t,"] is not a valid URL, and cannot be used as a redirect URL: ").concat(e.t0.toString()));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=i(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.getUnauthenticatedSession());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.FallbackRedirectHandler=u},function(e,t,n){"use strict";var r=n(0),i=n(8),o=n(6),a=n(7);Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(t){o(this,e),this.sessionInfoManager=t}return a(e,[{key:"canHandle",value:function(){var e=i(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=i(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionInfoManager.clear(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=s},function(e,t,n){"use strict";var r=n(0),i=n(6),o=n(7),a=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.AuthCodeRedirectHandler=t.DEFAULT_LIFESPAN=void 0;var s=n(9),u=n(53),c=n(84);function l(e,t,n){return f.apply(this,arguments)}function f(){return(f=a(r.mark((function e(n,i,o){var a,s;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URL(n),s=a.origin,e.next=4,i(n);case 4:return e.prev=4,e.next=7,i("".concat(s,"/session"));case 7:if(200!==e.sent.status){e.next=12;break}return e.next=11,o.storeResourceServerSessionInfo(n,s,Date.now()+t.DEFAULT_LIFESPAN);case 11:return e.abrupt("return");case 12:return e.next=14,o.clearResourceServerSessionInfo(s);case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(4),e.next=20,o.clearResourceServerSessionInfo(s);case 20:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}t.DEFAULT_LIFESPAN=18e5;var d=function(){function e(t,n,r,o,a){i(this,e),this.storageUtility=t,this.sessionInfoManager=n,this.issuerConfigFetcher=r,this.clientRegistrar=o,this.tokerRefresher=a}return o(e,[{key:"canHandle",value:function(){var e=a(r.mark((function e(t){var n;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new URL(t),e.abrupt("return",null!==n.searchParams.get("code")&&null!==n.searchParams.get("state"));case 5:throw e.prev=5,e.t0=e.catch(0),new Error("[".concat(t,"] is not a valid URL, and cannot be used as a redirect URL: ").concat(e.t0.toString()));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=a(r.mark((function e(t,n){var i,o,a,f,d,h,p,g,v,y,m,_,b,w;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.canHandle(t);case 2:if(e.sent){e.next=4;break}throw new Error("AuthCodeRedirectHandler cannot handle [".concat(t,"]: it is missing one of [code, state]."));case 4:return i=new URL(t),o=i.searchParams.get("state"),e.next=8,this.storageUtility.getForUser(o,"sessionId",{errorIfNull:!0});case 8:return a=e.sent,e.next=11,this.storageUtility.getForUser(a,"dpop");case 11:return e.t0=e.sent,f="true"===e.t0,e.next=15,this.storageUtility.getForUser(a,"issuer",{errorIfNull:!0});case 15:return d=e.sent,window.localStorage.setItem(c.KEY_CURRENT_SESSION,a),e.next=19,this.issuerConfigFetcher.fetchConfig(d);case 19:return h=e.sent,e.next=22,this.clientRegistrar.getClient({sessionId:a},h);case 22:if(p=e.sent,v=Date.now(),!f){e.next=36;break}return e.next=27,this.storageUtility.getForUser(a,"codeVerifier",{errorIfNull:!0});case 27:return y=e.sent,e.next=30,this.storageUtility.getForUser(a,"redirectUrl",{errorIfNull:!0});case 30:return m=e.sent,e.next=33,u.getDpopToken(h,p,{grantType:"authorization_code",code:i.searchParams.get("code"),codeVerifier:y,redirectUrl:m});case 33:g=e.sent,e.next=39;break;case 36:return e.next=38,u.getBearerToken(i.toString());case 38:g=e.sent;case 39:return void 0!==g.refreshToken&&(_={sessionId:a,refreshToken:g.refreshToken,tokenRefresher:this.tokerRefresher}),e.next=42,s.buildAuthenticatedFetch(fetch,g.accessToken,{dpopKey:g.dpopKey,refreshOptions:_,eventEmitter:n,expiresIn:g.expiresIn});case 42:return b=e.sent,e.next=45,this.storageUtility.setForUser(a,{refreshToken:"<Refresh token that *is* coming back in the redirect URL is not yet being parsed and provided by oidc-client-js in it's response object>",webId:g.webId,isLoggedIn:"true"},{secure:!0});case 45:return i.searchParams.delete("code"),e.next=48,this.storageUtility.setForUser(a,{redirectUrl:i.toString(),idToken:g.idToken},{secure:!1});case 48:if("false"===window.localStorage.getItem("tmp-resource-server-session-enabled")){e.next=52;break}return e.next=52,l(g.webId,b,this.storageUtility);case 52:return e.next=54,this.sessionInfoManager.get(a);case 54:if(w=e.sent){e.next=57;break}throw new Error("Could not retrieve session: [".concat(a,"]."));case 57:return e.abrupt("return",Object.assign(w,{fetch:b,expirationDate:"number"===typeof g.expiresIn?v+1e3*g.expiresIn:null}));case 58:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();t.AuthCodeRedirectHandler=d},function(e,t,n){"use strict";var r=n(6),i=n(27),o=n(28);Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){i(n,e);var t=o(n);function n(e){return r(this,n),t.call(this,e)}return n}(n(9).AggregateHandler);t.default=a},function(e,t,n){"use strict";var r=n(0),i=n(8),o=n(6),a=n(7);Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(){o(this,e)}return a(e,[{key:"storage",get:function(){return window.localStorage}},{key:"get",value:function(){var e=i(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.storage.getItem(t)||void 0);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=i(r.mark((function e(t,n){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage.setItem(t,n);case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=i(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage.removeItem(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=s},function(e,t,n){"use strict";var r=n(6),i=n(7);Object.defineProperty(t,"__esModule",{value:!0});var o=n(114),a=function(){function e(){r(this,e)}return i(e,[{key:"redirect",value:function(e,t){t&&t.handleRedirect?t.handleRedirect(e):t&&t.redirectByReplacingState?window.history.replaceState({},"",e):(null===t||void 0===t?void 0:t.redirectInIframe)?o.redirectInIframe(e):window.location.href=e}}]),e}();t.default=a},function(e,t,n){"use strict";var r=n(0),i=n(30),o=n(38),a=n(8),s=n(6),u=n(7);Object.defineProperty(t,"__esModule",{value:!0});var c=n(53),l=function(){function e(t){s(this,e),this.storageUtility=t}return u(e,[{key:"getClient",value:function(){var e=a(r.mark((function e(t,n){var a,s,u,l,f,d,h,p;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.storageUtility.getForUser(t.sessionId,"clientId",{secure:!1}),this.storageUtility.getForUser(t.sessionId,"clientSecret",{secure:!1})]);case 2:if(s=e.sent,u=o(s,2),l=u[0],f=u[1],!l){e.next=8;break}return e.abrupt("return",{clientId:l,clientSecret:f,clientType:"dynamic"});case 8:if(d=i({},t),null===(a=d.registrationAccessToken)||void 0===a){e.next=13;break}e.t0=a,e.next=16;break;case 13:return e.next=15,this.storageUtility.getForUser(t.sessionId,"registrationAccessToken");case 15:e.t0=e.sent;case 16:return d.registrationAccessToken=e.t0,e.prev=17,e.next=20,c.registerClient(d,n);case 20:return h=e.sent,p={clientId:h.clientId},h.clientSecret&&(p.clientSecret=h.clientSecret),h.idTokenSignedResponseAlg&&(p.idTokenSignedResponseAlg=h.idTokenSignedResponseAlg),e.next=26,this.storageUtility.setForUser(d.sessionId,p,{secure:!1});case 26:return e.abrupt("return",h);case 29:throw e.prev=29,e.t1=e.catch(17),new Error("Client registration failed: [".concat(e.t1.toString(),"]"));case 32:case"end":return e.stop()}}),e,this,[[17,29]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();t.default=l},function(e,t,n){"use strict";var r=n(0),i=n(8),o=n(6),a=n(7);Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorOidcHandler=void 0;var s=n(9),u=n(85),c=function(){function e(){o(this,e)}return a(e,[{key:"canHandle",value:function(){var e=i(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",new URL(t).searchParams.has("error"));case 4:throw e.prev=4,e.t0=e.catch(0),new Error("[".concat(t,"] is not a valid URL, and cannot be used as a redirect URL: ").concat(e.t0.toString()));case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=i(r.mark((function e(t,n){var i,o,a;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0!==n&&(i=new URL(t),o=i.searchParams.get("error"),a=i.searchParams.get("error_description"),n.emit(s.EVENTS.ERROR,o,a)),e.abrupt("return",u.getUnauthenticatedSession());case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();t.ErrorOidcHandler=c},function(e,t,n){"use strict";var r=n(0),i=n(8),o=n(6),a=n(7);Object.defineProperty(t,"__esModule",{value:!0});var s=n(9),u=n(53),c=function(){function e(t,n,r){o(this,e),this.storageUtility=t,this.issuerConfigFetcher=n,this.clientRegistrar=r}return a(e,[{key:"refresh",value:function(){var e=i(r.mark((function e(t,n,i,o){var a,c,l;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.loadOidcContextFromStorage(t,this.storageUtility,this.issuerConfigFetcher);case 2:return a=e.sent,e.next=5,this.clientRegistrar.getClient({sessionId:t},a.issuerConfig);case 5:if(c=e.sent,void 0!==n){e.next=8;break}throw new Error("Session [".concat(t,"] has no refresh token to allow it to refresh its access token."));case 8:if(!a.dpop||void 0!==i){e.next=10;break}throw new Error("For session [".concat(t,"], the key bound to the DPoP access token must be provided to refresh said access token."));case 10:return e.next=12,u.refresh(n,a.issuerConfig,c,i);case 12:if(void 0===(l=e.sent).refreshToken){e.next=17;break}return null===o||void 0===o||o.emit(s.EVENTS.NEW_REFRESH_TOKEN,l.refreshToken),e.next=17,this.storageUtility.setForUser(t,{refreshToken:l.refreshToken});case 17:return e.abrupt("return",l);case 18:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onSessionRestore=t.onLogout=t.onLogin=t.handleIncomingRedirect=t.logout=t.login=t.fetch=t.getDefaultSession=void 0;var r,i=n(101);function o(){return"undefined"===typeof r&&(r=new i.Session),r}t.getDefaultSession=o;t.fetch=function(){var e=o();return e.fetch.apply(e,arguments)};t.login=function(){var e=o();return e.login.apply(e,arguments)};t.logout=function(){var e=o();return e.logout.apply(e,arguments)};t.handleIncomingRedirect=function(){var e=o();return e.handleIncomingRedirect.apply(e,arguments)};t.onLogin=function(){var e=o();return e.onLogin.apply(e,arguments)};t.onLogout=function(){var e=o();return e.onLogout.apply(e,arguments)};t.onSessionRestore=function(){var e=o();return e.onSessionRestore.apply(e,arguments)}},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),a=r[0],s=r[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[l++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,u=n-i;s<u;s+=a)o.push(l(e,s,s+a>u?u:s+a));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=c}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+h]=255&a,h+=p,a/=256,c-=8);e[n+h-p]|=128*g}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){var r=n(190),i=n(116),o=n(191),a=n(192),s=n(117),u=n(193),c=n(194);var l={namedNode:function(e){return new s(e)},blankNode:function(e){return new r(e)},literal:function(e,t){return"string"===typeof t?-1===t.indexOf(":")?new a(e,t):new a(e,null,l.namedNode(t)):new a(e,null,t)},variable:function(e){return new c(e)},defaultGraph:function(){return l.defaultGraphInstance},triple:function(e,t,n){return l.quad(e,t,n)},quad:function(e,t,n,r){return new u(e,t,n,r||l.defaultGraphInstance)},fromTerm:function(e){return o.call(l,e)},fromQuad:function(e){return o.call(l,e)},defaultGraphInstance:new i};e.exports=l},function(e,t,n){var r=n(6),i=n(7),o=function(){"use strict";function e(t){r(this,e),this.value=t||"b"+ ++e.nextId}return i(e,[{key:"equals",value:function(e){return!!e&&e.termType===this.termType&&e.value===this.value}}]),e}();o.prototype.termType="BlankNode",o.nextId=0,e.exports=o},function(e,t){e.exports=function(e){if(!e)return null;if("BlankNode"===e.termType)return this.blankNode(e.value);if("DefaultGraph"===e.termType)return this.defaultGraph();if("Literal"===e.termType)return this.literal(e.value,e.language||this.namedNode(e.datatype.value));if("NamedNode"===e.termType)return this.namedNode(e.value);if("Quad"===e.termType){var t=this.fromTerm(e.subject),n=this.fromTerm(e.predicate),r=this.fromTerm(e.object),i=this.fromTerm(e.graph);return this.quad(t,n,r,i)}if("Variable"===e.termType)return this.variable(e.value);throw new Error("unknown termType ".concat(e.termType))}},function(e,t,n){var r=n(6),i=n(7),o=n(117),a=function(){"use strict";function e(t,n,i){r(this,e),this.value=t,this.datatype=e.stringDatatype,this.language="",n?(this.language=n,this.datatype=e.langStringDatatype):i&&(this.datatype=i)}return i(e,[{key:"equals",value:function(e){return!!e&&e.termType===this.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)}}]),e}();a.prototype.termType="Literal",a.langStringDatatype=new o("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),a.stringDatatype=new o("http://www.w3.org/2001/XMLSchema#string"),e.exports=a},function(e,t,n){var r=n(6),i=n(7),o=n(116),a=function(){"use strict";function e(t,n,i,a){r(this,e),this.subject=t,this.predicate=n,this.object=i,this.graph=a||new o}return i(e,[{key:"equals",value:function(e){return!!e&&("Quad"===e.termType||!e.termType)&&e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)}}]),e}();a.prototype.termType="Quad",a.prototype.value="",e.exports=a},function(e,t,n){var r=n(6),i=n(7),o=function(){"use strict";function e(t){r(this,e),this.value=t}return i(e,[{key:"equals",value:function(e){return!!e&&e.termType===this.termType&&e.value===this.value}}]),e}();o.prototype.termType="Variable",e.exports=o},function(e,t,n){var r=n(65),i=n(18),o=n(6),a=n(7);function s(e){return"string"===typeof e||e instanceof String}function u(e){if("string"===typeof e)return e;if(!e)return"";if("undefined"!==typeof e.id&&"Quad"!==e.termType)return e.id;var t,n,r,i;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return"_:".concat(e.value);case"Variable":return"?".concat(e.value);case"DefaultGraph":return"";case"Literal":return e.language?'"'.concat(e.value,'"@').concat(e.language):'"'.concat(e.value,'"').concat(e.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==e.datatype.value?"^^".concat(e.datatype.value):"");case"Quad":return t=l(u(e.subject)),n=l(u(e.predicate)),r=l(u(e.object)),i="DefaultGraph"===e.graph.termType?"":" ".concat(u(e.graph)),"<<".concat(t," ").concat(n," ").concat(r).concat(i,">>");default:throw new Error("Unexpected termType: ".concat(e.termType))}}var c=/^"(.*".*)(?="[^"]*$)/;function l(e){return e.replace(c,(function(e,t){return'"'.concat(t.replace(/"/g,'""'))}))}var f=function(e){"use strict";function t(e){if(o(this,t),this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._quads=new Map,e){var n,r=i(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;this.add(a)}}catch(s){r.e(s)}finally{r.f()}}}return a(t,[{key:"size",get:function(){var e=this._size;if(null!==e)return e;e=0;var t,n,r=this._graphs;for(var i in r)for(var o in t=r[i].subjects)for(var a in n=t[o])e+=Object.keys(n[a]).length;return this._size=e,this._size}},{key:"add",value:function(e){var t=u(e.subject),n=u(e.predicate),r=u(e.object),i=u(e.graph),o=this._graphs[i];o||(o=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(o));var a=this._ids,s=this._entities;return t=a[t]||(a[s[++this._id]=t]=this._id),n=a[n]||(a[s[++this._id]=n]=this._id),r=a[r]||(a[s[++this._id]=r]=this._id),this._addToIndex(o.subjects,t,n,r),this._addToIndex(o.predicates,n,r,t),this._addToIndex(o.objects,r,t,n),this._setQuad(t,n,r,i,e),this._size=null,this}},{key:"delete",value:function(e){var t,n,r,i=u(e.subject),o=u(e.predicate),a=u(e.object),s=u(e.graph),c=this._ids,l=this._graphs;if(!(i=c[i])||!(o=c[o])||!(a=c[a])||!(t=l[s])||!(n=t.subjects[i])||!(r=n[o])||!(a in r))return this;for(i in this._removeFromIndex(t.subjects,i,o,a),this._removeFromIndex(t.predicates,o,a,i),this._removeFromIndex(t.objects,a,i,o),null!==this._size&&this._size--,this._deleteQuad(i,o,a,s),t.subjects)return this;return delete l[s],this}},{key:"has",value:function(e){var t=u(e.subject),n=u(e.predicate),r=u(e.object),i=u(e.graph),o=this._graphs[i];if(!o)return!1;var a,c,l,f=this._ids;return!(s(t)&&!(a=f[t])||s(n)&&!(c=f[n])||s(r)&&!(l=f[r]))&&1===this._countInIndex(o.objects,l,a,c)}},{key:"match",value:function(e,t,n,r){return this._createDataset(this._match(e,t,n,r))}},{key:e,value:function(){return this._match()[Symbol.iterator]()}},{key:"_addToIndex",value:function(e,t,n,r){var i=e[t]||(e[t]={}),o=i[n]||(i[n]={}),a=r in o;return a||(o[r]=null),!a}},{key:"_removeFromIndex",value:function(e,t,n,r){var i=e[t],o=i[n];for(var a in delete o[r],o)return;for(var s in delete i[n],i)return;delete e[t]}},{key:"_findInIndex",value:function(e,t,n,i,o,a,s,u,c,l){var f,d,h;for(var p in t&&((f=e,e={})[t]=f[t]),e)if(d=e[p])for(var g in n&&((f=d,d={})[n]=f[n]),d)if(h=d[g])for(var v=(i?i in h?[i]:[]:Object.keys(h)),y=0;y<v.length;y++){var m,_=(r(m={},o,p),r(m,a,g),r(m,s,v[y]),m),b=this._getQuad(_.subject,_.predicate,_.object,u);if(l)l.push(b);else if(c(b))return!0}return l}},{key:"_countInIndex",value:function(e,t,n,r){var i,o,a,s=0;for(var u in t&&((i=e,e={})[t]=i[t]),e)if(o=e[u])for(var c in n&&((i=o,o={})[n]=i[n]),o)(a=o[c])&&(r?r in a&&s++:s+=Object.keys(a).length);return s}},{key:"_getGraphs",value:function(e){return s(e)?r({},e,this._graphs[e]):this._graphs}},{key:"_match",value:function(e,t,n,r){e=e&&u(e),t=t&&u(t),n=n&&u(n),r=r&&u(r);var i,o,a,c,l=[],f=this._getGraphs(r),d=this._ids;if(s(e)&&!(o=d[e])||s(t)&&!(a=d[t])||s(n)&&!(c=d[n]))return l;for(var h in f)(i=f[h])&&(o?c?this._findInIndex(i.objects,c,o,a,"object","subject","predicate",h,null,l):this._findInIndex(i.subjects,o,a,null,"subject","predicate","object",h,null,l):a?this._findInIndex(i.predicates,a,c,null,"predicate","object","subject",h,null,l):c?this._findInIndex(i.objects,c,null,null,"object","subject","predicate",h,null,l):this._findInIndex(i.subjects,null,null,null,"subject","predicate","object",h,null,l));return l}},{key:"_getQuad",value:function(e,t,n,r){return this._quads.get(this._toId(e,t,n,r))}},{key:"_setQuad",value:function(e,t,n,r,i){this._quads.set(this._toId(e,t,n,r),i)}},{key:"_deleteQuad",value:function(e,t,n,r){this._quads.delete(this._toId(e,t,n,r))}},{key:"_createDataset",value:function(e){return new this.constructor(e)}},{key:"_toId",value:function(e,t,n,r){return"".concat(e,":").concat(t,":").concat(n,":").concat(r)}}]),t}(Symbol.iterator);e.exports=f},function(e,t,n){"use strict";var r,i=n(0),o=n(8),a=n(118),s=n(198),u=n(122),c=n(199);try{r=n(200)}catch(f){}var l={};e.exports=l,l.NQuads=n(88),l.IdentifierIssuer=n(87),l._rdfCanonizeNative=function(e){return e&&(r=e),r},l.canonize=function(){var e=o(i.mark((function e(t,n){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t)||(t=l.NQuads.legacyDatasetToQuads(t)),!n.useNative){e.next=5;break}if(r){e.next=4;break}throw new Error("rdf-canonize-native not available");case 4:return e.abrupt("return",new Promise((function(e,i){return r.canonize(t,n,(function(t,n){return t?i(t):e(n)}))})));case 5:if("URDNA2015"!==n.algorithm){e.next=7;break}return e.abrupt("return",new a(n).main(t));case 7:if("URGNA2012"!==n.algorithm){e.next=9;break}return e.abrupt("return",new s(n).main(t));case 9:if("algorithm"in n){e.next=11;break}throw new Error("No RDF Dataset Canonicalization algorithm specified.");case 11:throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+n.algorithm);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l._canonizeSync=function(e,t){if(Array.isArray(e)||(e=l.NQuads.legacyDatasetToQuads(e)),t.useNative){if(r)return r.canonizeSync(e,t);throw new Error("rdf-canonize-native not available")}if("URDNA2015"===t.algorithm)return new u(t).main(e);if("URGNA2012"===t.algorithm)return new c(t).main(e);if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)}},function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(119),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(58))},function(e,t,n){"use strict";var r=n(0),i=n(18),o=n(8),a=n(6),s=n(7),u=n(27),c=n(28),l=n(118);e.exports=function(e){u(n,e);var t=c(n);function n(){var e;return a(this,n),(e=t.call(this)).name="URGNA2012",e.hashAlgorithm="sha1",e}return s(n,[{key:"modifyFirstDegreeComponent",value:function(e,t,n){return"BlankNode"!==t.termType?t:"graph"===n?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}},{key:"getRelatedPredicate",value:function(e){return e.predicate.value}},{key:"createHashToRelated",value:function(){var e=o(r.mark((function e(t,n){var o,a,s,u,c,l,f,d,h,p;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=new Map,a=this.blankNodeInfo.get(t).quads,s=0,u=i(a),e.prev=4,u.s();case 6:if((c=u.n()).done){e.next=31;break}if(l=c.value,f=void 0,d=void 0,"BlankNode"!==l.subject.termType||l.subject.value===t){e.next=15;break}d=l.subject.value,f="p",e.next=21;break;case 15:if("BlankNode"!==l.object.termType||l.object.value===t){e.next=20;break}d=l.object.value,f="r",e.next=21;break;case 20:return e.abrupt("continue",29);case 21:if(++s%100!==0){e.next=24;break}return e.next=24,this._yield();case 24:return e.next=26,this.hashRelatedBlankNode(d,l,n,f);case 26:h=e.sent,(p=o.get(h))?p.push(d):o.set(h,[d]);case 29:e.next=6;break;case 31:e.next=36;break;case 33:e.prev=33,e.t0=e.catch(4),u.e(e.t0);case 36:return e.prev=36,u.f(),e.finish(36);case 39:return e.abrupt("return",o);case 40:case"end":return e.stop()}}),e,this,[[4,33,36,39]])})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(l)},function(e,t,n){"use strict";var r=n(18),i=n(6),o=n(7),a=n(27),s=n(28),u=n(122);e.exports=function(e){a(n,e);var t=s(n);function n(){var e;return i(this,n),(e=t.call(this)).name="URGNA2012",e.hashAlgorithm="sha1",e}return o(n,[{key:"modifyFirstDegreeComponent",value:function(e,t,n){return"BlankNode"!==t.termType?t:"graph"===n?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}},{key:"getRelatedPredicate",value:function(e){return e.predicate.value}},{key:"createHashToRelated",value:function(e,t){var n,i=new Map,o=this.blankNodeInfo.get(e).quads,a=r(o);try{for(a.s();!(n=a.n()).done;){var s=n.value,u=void 0,c=void 0;if("BlankNode"===s.subject.termType&&s.subject.value!==e)c=s.subject.value,u="p";else{if("BlankNode"!==s.object.termType||s.object.value===e)continue;c=s.object.value,u="r"}var l=this.hashRelatedBlankNode(c,s,t,u),f=i.get(l);f?f.push(c):i.set(l,[c])}}catch(d){a.e(d)}finally{a.f()}return i}}]),n}(u)},,function(e,t,n){"use strict";var r=n(202),i={};e.exports=i,i.setupDocumentLoaders=function(e){"undefined"!==typeof XMLHttpRequest&&(e.documentLoaders.xhr=r,e.useDocumentLoader("xhr"))},i.setupGlobals=function(e){"undefined"===typeof globalThis.JsonLdProcessor&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})}},function(e,t,n){"use strict";var r=n(0),i=n(8),o=n(31),a=o.parseLinkHeader,s=o.buildHeaders,u=n(89).LINK_HEADER_CONTEXT,c=n(32),l=n(123),f=n(42).prependBase,d=/(^|(\r\n))link:/i;function h(e,t,n){var r=new(e=e||XMLHttpRequest);return new Promise((function(e,i){for(var o in r.onload=function(){return e(r)},r.onerror=function(e){return i(e)},r.open("GET",t,!0),n)r.setRequestHeader(o,n[o]);r.send()}))}e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{headers:{}},t=e.secure,n=e.headers,o=void 0===n?{}:n,p=e.xhr;o=s(o);var g=new l;return g.wrapLoader(v);function v(e){return y.apply(this,arguments)}function y(){return(y=i(r.mark((function e(n){var i,s,l,g,y,m,_;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===n.indexOf("http:")||0===n.indexOf("https:")){e.next=2;break}throw new c('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:n});case 2:if(!t||0===n.indexOf("https")){e.next=4;break}throw new c('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:n});case 4:return e.prev=4,e.next=7,h(p,n,o);case 7:i=e.sent,e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(4),new c("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:n,cause:e.t0});case 13:if(!(i.status>=400)){e.next=15;break}throw new c("URL could not be dereferenced: "+i.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:n,httpStatusCode:i.status});case 15:if(s={contextUrl:null,documentUrl:n,document:i.response},l=null,g=i.getResponseHeader("Content-Type"),d.test(i.getAllResponseHeaders())&&(y=i.getResponseHeader("Link")),!y||"application/ld+json"===g){e.next=30;break}if(m=a(y),_=m[u],!Array.isArray(_)){e.next=24;break}throw new c("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:n});case 24:if(_&&(s.contextUrl=_.target),!(l=m.alternate)||"application/ld+json"!=l.type||(g||"").match(/^application\/(\w*\+)?json$/)){e.next=30;break}return e.next=29,v(f(n,l.target));case 29:s=e.sent;case 30:return e.abrupt("return",s);case 31:case"end":return e.stop()}}),e,null,[[4,10]])})))).apply(this,arguments)}}},function(e,t,n){"use strict";var r=n(0),i=n(37),o=n(18),a=n(8),s=n(6),u=n(7),c=n(29),l=c.isArray,f=c.isObject,d=c.isString,h=n(31).asArray,p=n(42).prependBase,g=n(32),v=n(204);function y(e){throw new g("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function m(e){var t=e.context,n=e.base;if(t){var r=t["@context"];if(d(r))t["@context"]=p(n,r);else if(l(r))for(var i=0;i<r.length;++i){var o=r[i];d(o)?r[i]=p(n,o):f(o)&&m({context:{"@context":o},base:n})}else if(f(r))for(var a in r)m({context:r[a],base:n})}}e.exports=function(){function e(t){var n=t.sharedCache;s(this,e),this.perOpCache=new Map,this.sharedCache=n}return u(e,[{key:"resolve",value:function(){var e=a(r.mark((function e(t){var n,a,s,u,c,p,g,m,_,b,w,x,S;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.activeCtx,a=t.context,s=t.documentLoader,u=t.base,c=t.cycles,p=void 0===c?new Set:c,a&&f(a)&&a["@context"]&&(a=a["@context"]),a=h(a),g=[],m=o(a),e.prev=5,m.s();case 7:if((_=m.n()).done){e.next=27;break}if(b=_.value,!d(b)){e.next=17;break}if(w=this._get(b)){e.next=15;break}return e.next=14,this._resolveRemoteContext({activeCtx:n,url:b,documentLoader:s,base:u,cycles:p});case 14:w=e.sent;case 15:return l(w)?g.push.apply(g,i(w)):g.push(w),e.abrupt("continue",25);case 17:if(null!==b){e.next=20;break}return g.push(new v({document:null})),e.abrupt("continue",25);case 20:f(b)||y(a),x=JSON.stringify(b),(S=this._get(x))||(S=new v({document:b}),this._cacheResolvedContext({key:x,resolved:S,tag:"static"})),g.push(S);case 25:e.next=7;break;case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(5),m.e(e.t0);case 32:return e.prev=32,m.f(),e.finish(32);case 35:return e.abrupt("return",g);case 36:case"end":return e.stop()}}),e,this,[[5,29,32,35]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_get",value:function(e){var t=this.perOpCache.get(e);if(!t){var n=this.sharedCache.get(e);n&&(t=n.get("static"))&&this.perOpCache.set(e,t)}return t}},{key:"_cacheResolvedContext",value:function(e){var t=e.key,n=e.resolved,r=e.tag;if(this.perOpCache.set(t,n),void 0!==r){var i=this.sharedCache.get(t);i||(i=new Map,this.sharedCache.set(t,i)),i.set(r,n)}return n}},{key:"_resolveRemoteContext",value:function(){var e=a(r.mark((function e(t){var n,i,o,a,s,u,c,l,f;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.activeCtx,i=t.url,o=t.documentLoader,a=t.base,s=t.cycles,i=p(a,i),e.next=4,this._fetchContext({activeCtx:n,url:i,documentLoader:o,cycles:s});case 4:return u=e.sent,c=u.context,l=u.remoteDoc,a=l.documentUrl||i,m({context:c,base:a}),e.next=11,this.resolve({activeCtx:n,context:c,documentLoader:o,base:a,cycles:s});case 11:return f=e.sent,this._cacheResolvedContext({key:i,resolved:f,tag:l.tag}),e.abrupt("return",f);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_fetchContext",value:function(){var e=a(r.mark((function e(t){var n,i,o,a,s,u;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.activeCtx,i=t.url,o=t.documentLoader,!((a=t.cycles).size>10)){e.next=3;break}throw new g("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===n.processingMode?"loading remote context failed":"context overflow",max:10});case 3:if(!a.has(i)){e.next=5;break}throw new g("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===n.processingMode?"recursive context inclusion":"context overflow",url:i});case 5:return a.add(i),e.prev=6,e.next=9,o(i);case 9:u=e.sent,s=u.document||null,d(s)&&(s=JSON.parse(s)),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(6),new g("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:i,cause:e.t0});case 17:if(f(s)){e.next=19;break}throw new g("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:i});case 19:return s="@context"in s?{"@context":s["@context"]}:{"@context":{}},u.contextUrl&&(l(s["@context"])||(s["@context"]=[s["@context"]]),s["@context"].push(u.contextUrl)),e.abrupt("return",{context:s,remoteDoc:u});case 22:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},function(e,t,n){"use strict";var r=n(6),i=n(7),o=n(124);e.exports=function(){function e(t){var n=t.document;r(this,e),this.document=n,this.cache=new o({max:10})}return i(e,[{key:"getProcessed",value:function(e){return this.cache.get(e)}},{key:"setProcessed",value:function(e,t){this.cache.set(e,t)}}]),e}()},function(e,t,n){"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"===typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)t.push(arguments[n]);return t}function i(e,t,n){var r=t===e.head?new s(n,null,t,e):new s(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function o(e,t){e.tail=new s(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new s(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function s(e,t,n,r){if(!(this instanceof s))return new s(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=r,r.Node=s,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},r.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},r.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,i=this.head;null!==i;)n.push(e.call(t,i.value,this)),i=i.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,i=this.tail;null!==i;)n.push(e.call(t,i.value,this)),i=i.prev;return n},r.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var i=0;null!==r;i++)n=e(n,r.value,i),r=r.next;return n},r.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==r;i--)n=e(n,r.value,i),r=r.prev;return n},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)n.push(o.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)n.push(o.value);return n},r.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,r=this.head;null!==r&&n<e;n++)r=r.next;var o=[];for(n=0;r&&n<t;n++)o.push(r.value),r=this.removeNode(r);null===r&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev);for(n=0;n<(arguments.length<=2?0:arguments.length-2);n++)r=i(this,r,n+2<2||arguments.length<=n+2?void 0:arguments[n+2]);return o},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{n(206)(r)}catch(u){}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e){e.prototype[Symbol.iterator]=r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.head;case 1:if(!t){e.next=7;break}return e.next=4,t.value;case 4:t=t.next,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))}},function(e,t,n){"use strict";e.exports=n(86).NQuads},function(e,t,n){"use strict";var r=n(38),i=n(0),o=n(18),a=n(8),s=n(32),u=n(29),c=u.isArray,l=u.isObject,f=u.isEmptyObject,d=u.isString,h=u.isUndefined,p=n(39),g=p.isList,v=p.isValue,y=p.isGraph,m=p.isSubject,_=n(50),b=_.expandIri,w=_.getContextValue,x=_.isKeyword,S=_.process,k=_.processingMode,E=n(42).isAbsolute,P=n(31),A=P.addValue,O=P.asArray,C=P.getValues,T=P.validateTypeValue,L={};e.exports=L;var I=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/;function j(e){return F.apply(this,arguments)}function F(){return(F=a(i.mark((function e(t){var n,a,u,p,y,_,P,C,F,R,D,U,B,H,z,K,V,W,q,J,Z,G,Y,$,Q,X,ee,te,ne,re,ie,oe,ae,se,ue,ce,le,fe,de,he,pe,ge,ve,ye,me,_e,be,we,xe,Se,ke,Ee,Pe,Ae;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.activeCtx,a=t.activeProperty,u=t.expandedActiveProperty,p=t.element,y=t.expandedParent,_=t.options,P=void 0===_?{}:_,C=t.insideList,F=t.typeKey,R=t.typeScopedContext,D=t.expansionMap,U=Object.keys(p).sort(),B=[],z=p[F]&&"@json"===b(n,c(p[F])?p[F][0]:p[F],{vocab:!0},P),K=o(U),e.prev=5,K.s();case 7:if((V=K.n()).done){e.next=202;break}if(W=V.value,q=p[W],J=void 0,"@context"!==W){e.next=13;break}return e.abrupt("continue",200);case 13:if(null!==(Z=b(n,W,{vocab:!0},P))&&(E(Z)||x(Z))){e.next=18;break}if(void 0!==(Z=D({unmappedProperty:W,activeCtx:n,activeProperty:a,parent:p,options:P,insideList:C,value:q,expandedParent:y}))){e.next=18;break}return e.abrupt("continue",200);case 18:if(!x(Z)){e.next=23;break}if("@reverse"!==u){e.next=21;break}throw new s("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:q});case 21:if(!(Z in y)||"@included"===Z||"@type"===Z){e.next=23;break}throw new s("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:Z});case 23:if("@id"!==Z){e.next=40;break}if(d(q)){e.next=38;break}if(P.isFrame){e.next=27;break}throw new s('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:q});case 27:if(!l(q)){e.next=32;break}if(f(q)){e.next=30;break}throw new s('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:q});case 30:e.next=38;break;case 32:if(!c(q)){e.next=37;break}if(q.every((function(e){return d(e)}))){e.next=35;break}throw new s('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:q});case 35:e.next=38;break;case 37:throw new s('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:q});case 38:return A(y,"@id",O(q).map((function(e){return d(e)?b(n,e,{base:!0},P):e})),{propertyIsArray:P.isFrame}),e.abrupt("continue",200);case 40:if("@type"!==Z){e.next=45;break}return l(q)&&(q=Object.fromEntries(Object.entries(q).map((function(e){var t=r(e,2),n=t[0],i=t[1];return[b(R,n,{vocab:!0}),O(i).map((function(e){return b(R,e,{base:!0,vocab:!0})}))]})))),T(q,P.isFrame),A(y,"@type",O(q).map((function(e){return d(e)?b(R,e,{base:!0,vocab:!0},P):e})),{propertyIsArray:P.isFrame}),e.abrupt("continue",200);case 45:if("@included"!==Z||!k(n,1.1)){e.next=55;break}return e.t0=O,e.next=49,L.expand({activeCtx:n,activeProperty:a,element:q,options:P,expansionMap:D});case 49:if(e.t1=e.sent,(G=(0,e.t0)(e.t1)).every((function(e){return m(e)}))){e.next=53;break}throw new s("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:q});case 53:return A(y,"@included",G,{propertyIsArray:!0}),e.abrupt("continue",200);case 55:if("@graph"!==Z||l(q)||c(q)){e.next=57;break}throw new s('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:q});case 57:if("@value"!==Z){e.next=61;break}return H=q,z&&k(n,1.1)?y["@value"]=q:A(y,"@value",q,{propertyIsArray:P.isFrame}),e.abrupt("continue",200);case 61:if("@language"!==Z){e.next=71;break}if(null!==q){e.next=64;break}return e.abrupt("continue",200);case 64:if(d(q)||P.isFrame){e.next=66;break}throw new s('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:q});case 66:q=O(q).map((function(e){return d(e)?e.toLowerCase():e})),Y=o(q);try{for(Y.s();!($=Y.n()).done;)Q=$.value,d(Q)&&!Q.match(I)&&console.warn("@language must be valid BCP47: ".concat(Q))}catch(Oe){Y.e(Oe)}finally{Y.f()}return A(y,"@language",q,{propertyIsArray:P.isFrame}),e.abrupt("continue",200);case 71:if("@direction"!==Z){e.next=94;break}if(d(q)||P.isFrame){e.next=74;break}throw new s('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:q});case 74:q=O(q),X=o(q),e.prev=76,X.s();case 78:if((ee=X.n()).done){e.next=84;break}if(te=ee.value,!d(te)||"ltr"===te||"rtl"===te){e.next=82;break}throw new s('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:q});case 82:e.next=78;break;case 84:e.next=89;break;case 86:e.prev=86,e.t2=e.catch(76),X.e(e.t2);case 89:return e.prev=89,X.f(),e.finish(89);case 92:return A(y,"@direction",q,{propertyIsArray:P.isFrame}),e.abrupt("continue",200);case 94:if("@index"!==Z){e.next=99;break}if(d(q)){e.next=97;break}throw new s('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:q});case 97:return A(y,"@index",q),e.abrupt("continue",200);case 99:if("@reverse"!==Z){e.next=127;break}if(l(q)){e.next=102;break}throw new s('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:q});case 102:return e.next=104,L.expand({activeCtx:n,activeProperty:"@reverse",element:q,options:P,expansionMap:D});case 104:if("@reverse"in(J=e.sent))for(ne in J["@reverse"])A(y,ne,J["@reverse"][ne],{propertyIsArray:!0});re=y["@reverse"]||null,e.t3=i.keys(J);case 108:if((e.t4=e.t3()).done){e.next=126;break}if("@reverse"!==(ie=e.t4.value)){e.next=112;break}return e.abrupt("continue",108);case 112:null===re&&(re=y["@reverse"]={}),A(re,ie,[],{propertyIsArray:!0}),oe=J[ie],ae=0;case 116:if(!(ae<oe.length)){e.next=124;break}if(se=oe[ae],!v(se)&&!g(se)){e.next=120;break}throw new s('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:J});case 120:A(re,ie,se,{propertyIsArray:!0});case 121:++ae,e.next=116;break;case 124:e.next=108;break;case 126:return e.abrupt("continue",200);case 127:if("@nest"!==Z){e.next=130;break}return B.push(W),e.abrupt("continue",200);case 130:if(ue=n,ce=w(n,W,"@context"),h(ce)){e.next=136;break}return e.next=135,S({activeCtx:n,localCtx:ce,propagate:!0,overrideProtected:!0,options:P});case 135:ue=e.sent;case 136:if(!(le=w(ue,W,"@container")||[]).includes("@language")||!l(q)){e.next=142;break}fe=w(ue,W,"@direction"),J=N(ue,q,fe,P),e.next=180;break;case 142:if(!le.includes("@index")||!l(q)){e.next=151;break}return de=le.includes("@graph"),he=w(ue,W,"@index")||"@index",pe="@index"!==he&&b(n,he,{vocab:!0},P),e.next=148,M({activeCtx:ue,options:P,activeProperty:W,value:q,expansionMap:D,asGraph:de,indexKey:he,propertyIndex:pe});case 148:J=e.sent,e.next=180;break;case 151:if(!le.includes("@id")||!l(q)){e.next=158;break}return ge=le.includes("@graph"),e.next=155,M({activeCtx:ue,options:P,activeProperty:W,value:q,expansionMap:D,asGraph:ge,indexKey:"@id"});case 155:J=e.sent,e.next=180;break;case 158:if(!le.includes("@type")||!l(q)){e.next=164;break}return e.next=161,M({activeCtx:ue.revertToPreviousContext(),options:P,activeProperty:W,value:q,expansionMap:D,asGraph:!1,indexKey:"@type"});case 161:J=e.sent,e.next=180;break;case 164:if(!(ve="@list"===Z)&&"@set"!==Z){e.next=173;break}return ye=a,ve&&"@graph"===u&&(ye=null),e.next=170,L.expand({activeCtx:ue,activeProperty:ye,element:q,options:P,insideList:ve,expansionMap:D});case 170:J=e.sent,e.next=180;break;case 173:if("@json"!==w(n,W,"@type")){e.next=177;break}J={"@type":"@json","@value":q},e.next=180;break;case 177:return e.next=179,L.expand({activeCtx:ue,activeProperty:W,element:q,options:P,insideList:!1,expansionMap:D});case 179:J=e.sent;case 180:if(null!==J||"@value"===Z){e.next=184;break}if(void 0!==(J=D({unmappedValue:q,expandedProperty:Z,activeCtx:ue,activeProperty:a,parent:p,options:P,insideList:C,key:W,expandedParent:y}))){e.next=184;break}return e.abrupt("continue",200);case 184:if("@list"!==Z&&!g(J)&&le.includes("@list")&&(J={"@list":O(J)}),le.includes("@graph")&&!le.some((function(e){return"@id"===e||"@index"===e}))&&(J=O(J).map((function(e){return{"@graph":O(e)}}))),!ue.mappings.has(W)||!ue.mappings.get(W).reverse){e.next=199;break}me=y["@reverse"]=y["@reverse"]||{},J=O(J),_e=0;case 190:if(!(_e<J.length)){e.next=198;break}if(be=J[_e],!v(be)&&!g(be)){e.next=194;break}throw new s('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:J});case 194:A(me,Z,be,{propertyIsArray:!0});case 195:++_e,e.next=190;break;case 198:return e.abrupt("continue",200);case 199:A(y,Z,J,{propertyIsArray:!0});case 200:e.next=7;break;case 202:e.next=207;break;case 204:e.prev=204,e.t5=e.catch(5),K.e(e.t5);case 207:return e.prev=207,K.f(),e.finish(207);case 210:if(!("@value"in y)){e.next=216;break}if("@json"!==y["@type"]||!k(n,1.1)){e.next=214;break}e.next=216;break;case 214:if(!l(H)&&!c(H)||P.isFrame){e.next=216;break}throw new s('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:H});case 216:we=0,xe=B;case 217:if(!(we<xe.length)){e.next=242;break}Se=xe[we],ke=c(p[Se])?p[Se]:[p[Se]],Ee=o(ke),e.prev=221,Ee.s();case 223:if((Pe=Ee.n()).done){e.next=231;break}if(Ae=Pe.value,l(Ae)&&!Object.keys(Ae).some((function(e){return"@value"===b(n,e,{vocab:!0},P)}))){e.next=227;break}throw new s("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:Ae});case 227:return e.next=229,j({activeCtx:n,activeProperty:a,expandedActiveProperty:u,element:Ae,expandedParent:y,options:P,insideList:C,typeScopedContext:R,typeKey:F,expansionMap:D});case 229:e.next=223;break;case 231:e.next=236;break;case 233:e.prev=233,e.t6=e.catch(221),Ee.e(e.t6);case 236:return e.prev=236,Ee.f(),e.finish(236);case 239:we++,e.next=217;break;case 242:case"end":return e.stop()}}),e,null,[[5,204,207,210],[76,86,89,92],[221,233,236,239]])})))).apply(this,arguments)}function R(e){var t=e.activeCtx,n=e.activeProperty,r=e.value,i=e.options;if(null===r||void 0===r)return null;var o=b(t,n,{vocab:!0},i);if("@id"===o)return b(t,r,{base:!0},i);if("@type"===o)return b(t,r,{vocab:!0,base:!0},i);var a=w(t,n,"@type");if(("@id"===a||"@graph"===o)&&d(r))return{"@id":b(t,r,{base:!0},i)};if("@vocab"===a&&d(r))return{"@id":b(t,r,{vocab:!0,base:!0},i)};if(x(o))return r;var s={};if(a&&!["@id","@vocab","@none"].includes(a))s["@type"]=a;else if(d(r)){var u=w(t,n,"@language");null!==u&&(s["@language"]=u);var c=w(t,n,"@direction");null!==c&&(s["@direction"]=c)}return["boolean","number","string"].includes(typeof r)||(r=r.toString()),s["@value"]=r,s}function N(e,t,n,r){var i,a=[],u=Object.keys(t).sort(),l=o(u);try{for(l.s();!(i=l.n()).done;){var f=i.value,h=b(e,f,{vocab:!0},r),p=t[f];c(p)||(p=[p]);var g,v=o(p);try{for(v.s();!(g=v.n()).done;){var y=g.value;if(null!==y){if(!d(y))throw new s("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});var m={"@value":y};"@none"!==h&&(m["@language"]=f.toLowerCase()),n&&(m["@direction"]=n),a.push(m)}}}catch(_){v.e(_)}finally{v.f()}}}catch(_){l.e(_)}finally{l.f()}return a}function M(e){return D.apply(this,arguments)}function D(){return(D=a(i.mark((function e(t){var n,r,a,u,l,f,d,p,g,m,_,x,k,E,P,O,C,T,I,j;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.activeCtx,r=t.options,a=t.activeProperty,u=t.value,l=t.expansionMap,f=t.asGraph,d=t.indexKey,p=t.propertyIndex,g=[],m=Object.keys(u).sort(),_="@type"===d,x=o(m),e.prev=5,x.s();case 7:if((k=x.n()).done){e.next=51;break}if(E=k.value,!_){e.next=15;break}if(P=w(n,E,"@context"),h(P)){e.next=15;break}return e.next=14,S({activeCtx:n,localCtx:P,propagate:!1,options:r});case 14:n=e.sent;case 15:return O=u[E],c(O)||(O=[O]),e.next=19,L.expand({activeCtx:n,activeProperty:a,element:O,options:r,insideList:!1,insideIndex:!0,expansionMap:l});case 19:O=e.sent,C=void 0,C=p?"@none"===E?"@none":R({activeCtx:n,activeProperty:d,value:E,options:r}):b(n,E,{vocab:!0},r),"@id"===d?E=b(n,E,{base:!0},r):_&&(E=C),T=o(O),e.prev=24,T.s();case 26:if((I=T.n()).done){e.next=41;break}if(j=I.value,f&&!y(j)&&(j={"@graph":[j]}),"@type"!==d){e.next=33;break}"@none"===C||(j["@type"]?j["@type"]=[E].concat(j["@type"]):j["@type"]=[E]),e.next=38;break;case 33:if(!v(j)||["@language","@type","@index"].includes(d)){e.next=37;break}throw new s("Invalid JSON-LD syntax; Attempt to add illegal key to value "+'object: "'.concat(d,'".'),"jsonld.SyntaxError",{code:"invalid value object",value:j});case 37:p?"@none"!==C&&A(j,p,C,{propertyIsArray:!0,prependValue:!0}):"@none"===C||d in j||(j[d]=E);case 38:g.push(j);case 39:e.next=26;break;case 41:e.next=46;break;case 43:e.prev=43,e.t0=e.catch(24),T.e(e.t0);case 46:return e.prev=46,T.f(),e.finish(46);case 49:e.next=7;break;case 51:e.next=56;break;case 53:e.prev=53,e.t1=e.catch(5),x.e(e.t1);case 56:return e.prev=56,x.f(),e.finish(56);case 59:return e.abrupt("return",g);case 60:case"end":return e.stop()}}),e,null,[[5,53,56,59],[24,43,46,49]])})))).apply(this,arguments)}L.expand=function(){var e=a(i.mark((function e(t){var n,r,a,u,p,g,v,y,m,_,x,P,A,T,I,F,N,M,D,U,B,H,z,K,V,W,q,J,Z,G,Y,$,Q,X,ee,te,ne,re,ie,oe,ae,se,ue,ce,le;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.activeCtx,r=t.activeProperty,a=void 0===r?null:r,u=t.element,p=t.options,g=void 0===p?{}:p,v=t.insideList,y=void 0!==v&&v,m=t.insideIndex,_=void 0!==m&&m,x=t.typeScopedContext,P=void 0===x?null:x,A=t.expansionMap,T=void 0===A?function(){}:A,null!==u&&void 0!==u){e.next=3;break}return e.abrupt("return",null);case 3:if("@default"===a&&(g=Object.assign({},g,{isFrame:!1})),c(u)||l(u)){e.next=13;break}if(y||null!==a&&"@graph"!==b(n,a,{vocab:!0},g)){e.next=12;break}return e.next=8,T({unmappedValue:u,activeCtx:n,activeProperty:a,options:g,insideList:y});case 8:if(void 0!==(I=e.sent)){e.next=11;break}return e.abrupt("return",null);case 11:return e.abrupt("return",I);case 12:return e.abrupt("return",R({activeCtx:n,activeProperty:a,value:u,options:g}));case 13:if(!c(u)){e.next=34;break}F=[],N=w(n,a,"@container")||[],y=y||N.includes("@list"),M=0;case 18:if(!(M<u.length)){e.next=33;break}return e.next=21,L.expand({activeCtx:n,activeProperty:a,element:u[M],options:g,expansionMap:T,insideIndex:_,typeScopedContext:P});case 21:if(D=e.sent,y&&c(D)&&(D={"@list":D}),null!==D){e.next=29;break}return e.next=26,T({unmappedValue:u[M],activeCtx:n,activeProperty:a,parent:u,index:M,options:g,expandedParent:F,insideList:y});case 26:if(void 0!==(D=e.sent)){e.next=29;break}return e.abrupt("continue",30);case 29:c(D)?F=F.concat(D):F.push(D);case 30:++M,e.next=18;break;case 33:return e.abrupt("return",F);case 34:if(U=b(n,a,{vocab:!0},g),B=w(n,a,"@context"),P=P||(n.previousContext?n:null),H=Object.keys(u).sort(),!((z=!_)&&P&&H.length<=2)||H.includes("@context")){e.next=63;break}K=o(H),e.prev=41,K.s();case 43:if((V=K.n()).done){e.next=55;break}if(W=V.value,"@value"!==(q=b(P,W,{vocab:!0},g))){e.next=50;break}return z=!1,n=P,e.abrupt("break",55);case 50:if("@id"!==q||1!==H.length){e.next=53;break}return z=!1,e.abrupt("break",55);case 53:e.next=43;break;case 55:e.next=60;break;case 57:e.prev=57,e.t0=e.catch(41),K.e(e.t0);case 60:return e.prev=60,K.f(),e.finish(60);case 63:if(z&&(n=n.revertToPreviousContext()),h(B)){e.next=68;break}return e.next=67,S({activeCtx:n,localCtx:B,propagate:!0,overrideProtected:!0,options:g});case 67:n=e.sent;case 68:if(!("@context"in u)){e.next=72;break}return e.next=71,S({activeCtx:n,localCtx:u["@context"],options:g});case 71:n=e.sent;case 72:P=n,J=null,Z=o(H),e.prev=75,Z.s();case 77:if((G=Z.n()).done){e.next=106;break}if(Y=G.value,"@type"!==b(n,Y,{vocab:!0},g)){e.next=104;break}J=J||Y,$=u[Y],Q=Array.isArray($)?$.length>1?$.slice().sort():$:[$],X=o(Q),e.prev=85,X.s();case 87:if((ee=X.n()).done){e.next=96;break}if(te=ee.value,ne=w(P,te,"@context"),h(ne)){e.next=94;break}return e.next=93,S({activeCtx:n,localCtx:ne,options:g,propagate:!1});case 93:n=e.sent;case 94:e.next=87;break;case 96:e.next=101;break;case 98:e.prev=98,e.t1=e.catch(85),X.e(e.t1);case 101:return e.prev=101,X.f(),e.finish(101);case 104:e.next=77;break;case 106:e.next=111;break;case 108:e.prev=108,e.t2=e.catch(75),Z.e(e.t2);case 111:return e.prev=111,Z.f(),e.finish(111);case 114:return re={},e.next=117,j({activeCtx:n,activeProperty:a,expandedActiveProperty:U,element:u,expandedParent:re,options:g,insideList:y,typeKey:J,typeScopedContext:P,expansionMap:T});case 117:if(H=Object.keys(re),ie=H.length,!("@value"in re)){e.next=149;break}if(!("@type"in re)||!("@language"in re)&&!("@direction"in re)){e.next=122;break}throw new s('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:re});case 122:if(oe=ie-1,"@type"in re&&(oe-=1),"@index"in re&&(oe-=1),"@language"in re&&(oe-=1),"@direction"in re&&(oe-=1),0===oe){e.next=129;break}throw new s('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:re});case 129:if(ae=null===re["@value"]?[]:O(re["@value"]),se=C(re,"@type"),!k(n,1.1)||!se.includes("@json")||1!==se.length){e.next=134;break}e.next=147;break;case 134:if(0!==ae.length){e.next=141;break}return e.next=137,T({unmappedValue:re,activeCtx:n,activeProperty:a,element:u,options:g,insideList:y});case 137:ue=e.sent,re=void 0!==ue?ue:null,e.next=147;break;case 141:if(ae.every((function(e){return d(e)||f(e)}))||!("@language"in re)){e.next=145;break}throw new s("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:re});case 145:if(se.every((function(e){return E(e)&&!(d(e)&&0===e.indexOf("_:"))||f(e)}))){e.next=147;break}throw new s('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:re});case 147:e.next=164;break;case 149:if(!("@type"in re)||c(re["@type"])){e.next=153;break}re["@type"]=[re["@type"]],e.next=164;break;case 153:if(!("@set"in re)&&!("@list"in re)){e.next=159;break}if(!(ie>1)||2===ie&&"@index"in re){e.next=156;break}throw new s('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:re});case 156:"@set"in re&&(re=re["@set"],H=Object.keys(re),ie=H.length),e.next=164;break;case 159:if(1!==ie||!("@language"in re)){e.next=164;break}return e.next=162,T(re,{unmappedValue:re,activeCtx:n,activeProperty:a,element:u,options:g,insideList:y});case 162:ce=e.sent,re=void 0!==ce?ce:null;case 164:if(!l(re)||g.keepFreeFloatingNodes||y||null!==a&&"@graph"!==U){e.next=170;break}if(!(0===ie||"@value"in re||"@list"in re||1===ie&&"@id"in re)){e.next=170;break}return e.next=168,T({unmappedValue:re,activeCtx:n,activeProperty:a,element:u,options:g,insideList:y});case 168:le=e.sent,re=void 0!==le?le:null;case 170:return e.abrupt("return",re);case 171:case"end":return e.stop()}}),e,null,[[41,57,60,63],[75,108,111,114],[85,98,101,104]])})));return function(t){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";var r=n(39).isSubjectReference,i=n(68).createMergedNodeMap,o={};e.exports=o,o.flatten=function(e){for(var t=i(e),n=[],o=Object.keys(t).sort(),a=0;a<o.length;++a){var s=t[o[a]];r(s)||n.push(s)}return n}},function(e,t,n){"use strict";var r=n(38),i=n(0),o=n(18),a=n(8),s=n(32),u=n(39),c=n(29),l=n(31),f=n(89),d=f.RDF_LIST,h=f.RDF_FIRST,p=f.RDF_REST,g=f.RDF_NIL,v=f.RDF_TYPE,y=f.RDF_JSON_LITERAL,m=f.XSD_BOOLEAN,_=f.XSD_DOUBLE,b=f.XSD_INTEGER,w=f.XSD_STRING,x=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,S={};function k(e,t,n){if(e.termType.endsWith("Node"))return{"@id":e.value};var i={"@value":e.value};if(e.language)i["@language"]=e.language;else{var o=e.datatype.value;if(o||(o=w),o===y){o="@json";try{i["@value"]=JSON.parse(i["@value"])}catch(h){throw new s("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:i["@value"],cause:h})}}if(t){if(o===m)"true"===i["@value"]?i["@value"]=!0:"false"===i["@value"]&&(i["@value"]=!1);else if(c.isNumeric(i["@value"]))if(o===b){var a=parseInt(i["@value"],10);a.toFixed(0)===i["@value"]&&(i["@value"]=a)}else o===_&&(i["@value"]=parseFloat(i["@value"]));[m,b,_,w].includes(o)||(i["@type"]=o)}else if("i18n-datatype"===n&&o.startsWith("https://www.w3.org/ns/i18n#")){var u=o.split(/[#_]/),l=r(u,3),f=l[1],d=l[2];f.length>0&&(i["@language"]=f,f.match(x)||console.warn("@language must be valid BCP47: ".concat(f))),i["@direction"]=d}else o!==w&&(i["@type"]=o)}return i}e.exports=S,S.fromRDF=function(){var e=a(i.mark((function e(t,n){var r,a,s,f,y,m,_,b,w,x,S,E,P,A,O,C,T,L,I,j,F,R,N,M,D,U,B,H,z,K,V,W,q,J,Z,G,Y,$,Q,X,ee,te,ne,re,ie,oe,ae,se,ue;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.useRdfType,a=void 0!==r&&r,s=n.useNativeTypes,f=void 0!==s&&s,y=n.rdfDirection,m=void 0===y?null:y,b={"@default":_={}},w={},x=o(t),e.prev=5,x.s();case 7:if((S=x.n()).done){e.next=28;break}if(E=S.value,(P="DefaultGraph"===E.graph.termType?"@default":E.graph.value)in b||(b[P]={}),"@default"===P||P in _||(_[P]={"@id":P}),A=b[P],O=E.subject.value,C=E.predicate.value,T=E.object,O in A||(A[O]={"@id":O}),L=A[O],(I=T.termType.endsWith("Node"))&&!(T.value in A)&&(A[T.value]={"@id":T.value}),C!==v||a||!I){e.next=23;break}return l.addValue(L,"@type",T.value,{propertyIsArray:!0}),e.abrupt("continue",26);case 23:j=k(T,f,m),l.addValue(L,C,j,{propertyIsArray:!0}),I&&(T.value===g?("usages"in(F=A[T.value])||(F.usages=[]),F.usages.push({node:L,property:C,value:j})):T.value in w?w[T.value]=!1:w[T.value]={node:L,property:C,value:j});case 26:e.next=7;break;case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(5),x.e(e.t0);case 33:return e.prev=33,x.f(),e.finish(33);case 36:e.t1=i.keys(b);case 37:if((e.t2=e.t1()).done){e.next=84;break}if(R=e.t2.value,N=b[R],g in N){e.next=42;break}return e.abrupt("continue",37);case 42:if((M=N[g]).usages){e.next=45;break}return e.abrupt("continue",37);case 45:D=o(M.usages),e.prev=46,D.s();case 48:if((U=D.n()).done){e.next=73;break}B=U.value,H=B.node,z=B.property,K=B.value,V=[],W=[],q=Object.keys(H).length;case 56:if(!(z===p&&c.isObject(w[H["@id"]])&&c.isArray(H[h])&&1===H[h].length&&c.isArray(H[p])&&1===H[p].length&&(3===q||4===q&&c.isArray(H["@type"])&&1===H["@type"].length&&H["@type"][0]===d))){e.next=68;break}if(V.push(H[h][0]),W.push(H["@id"]),B=w[H["@id"]],H=B.node,z=B.property,K=B.value,q=Object.keys(H).length,u.isBlankNode(H)){e.next=66;break}return e.abrupt("break",68);case 66:e.next=56;break;case 68:for(delete K["@id"],K["@list"]=V.reverse(),J=0,Z=W;J<Z.length;J++)G=Z[J],delete N[G];case 71:e.next=48;break;case 73:e.next=78;break;case 75:e.prev=75,e.t3=e.catch(46),D.e(e.t3);case 78:return e.prev=78,D.f(),e.finish(78);case 81:delete M.usages,e.next=37;break;case 84:Y=[],$=Object.keys(_).sort(),Q=o($);try{for(Q.s();!(X=Q.n()).done;){if(ee=X.value,te=_[ee],ee in b){ne=te["@graph"]=[],re=b[ee],ie=Object.keys(re).sort(),oe=o(ie);try{for(oe.s();!(ae=oe.n()).done;)se=ae.value,ue=re[se],u.isSubjectReference(ue)||ne.push(ue)}catch(ce){oe.e(ce)}finally{oe.f()}}u.isSubjectReference(te)||Y.push(te)}}catch(ce){Q.e(ce)}finally{Q.f()}return e.abrupt("return",Y);case 89:case"end":return e.stop()}}),e,null,[[5,30,33,36],[46,75,78,81]])})));return function(t,n){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";var r=n(18),i=n(68).createNodeMap,o=n(50).isKeyword,a=n(39),s=n(212),u=n(29),c=n(31),l=n(89),f=l.RDF_FIRST,d=l.RDF_REST,h=l.RDF_NIL,p=l.RDF_TYPE,g=l.RDF_JSON_LITERAL,v=l.RDF_LANGSTRING,y=l.XSD_BOOLEAN,m=l.XSD_DOUBLE,_=l.XSD_INTEGER,b=l.XSD_STRING,w=n(42).isAbsolute,x={};function S(e,t,n,i,a){var s,u=Object.keys(t).sort(),c=r(u);try{for(c.s();!(s=c.n()).done;){var l,f=s.value,d=t[f],h=Object.keys(d).sort(),g=r(h);try{for(g.s();!(l=g.n()).done;){var v=l.value,y=d[v];if("@type"===v)v=p;else if(o(v))continue;var m,_=r(y);try{for(_.s();!(m=_.n()).done;){var b=m.value,x={termType:f.startsWith("_:")?"BlankNode":"NamedNode",value:f};if(w(f)){var S={termType:v.startsWith("_:")?"BlankNode":"NamedNode",value:v};if(w(v)&&("BlankNode"!==S.termType||a.produceGeneralizedRdf)){var E=k(b,i,e,n,a.rdfDirection);E&&e.push({subject:x,predicate:S,object:E,graph:n})}}}}catch(P){_.e(P)}finally{_.f()}}}catch(P){g.e(P)}finally{g.f()}}}catch(P){c.e(P)}finally{c.f()}}function k(e,t,n,i,o){var c={};if(a.isValue(e)){c.termType="Literal",c.value=void 0,c.datatype={termType:"NamedNode"};var l=e["@value"],p=e["@type"]||null;if("@json"===p)c.value=s(l),c.datatype.value=g;else if(u.isBoolean(l))c.value=l.toString(),c.datatype.value=p||y;else if(u.isDouble(l)||p===m)u.isDouble(l)||(l=parseFloat(l)),c.value=l.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),c.datatype.value=p||m;else if(u.isNumber(l))c.value=l.toFixed(0),c.datatype.value=p||_;else if("i18n-datatype"===o&&"@direction"in e){var x="https://www.w3.org/ns/i18n#"+(e["@language"]||"")+"_".concat(e["@direction"]);c.datatype.value=x,c.value=l}else"@language"in e?(c.value=l,c.datatype.value=p||v,c.language=e["@language"]):(c.value=l,c.datatype.value=p||b)}else if(a.isList(e)){var S=function(e,t,n,i,o){var a,s={termType:"NamedNode",value:f},u={termType:"NamedNode",value:d},c={termType:"NamedNode",value:h},l=e.pop(),p=l?{termType:"BlankNode",value:t.getId()}:c,g=p,v=r(e);try{for(v.s();!(a=v.n()).done;){var y=k(a.value,t,n,i,o),m={termType:"BlankNode",value:t.getId()};n.push({subject:g,predicate:s,object:y,graph:i}),n.push({subject:g,predicate:u,object:m,graph:i}),g=m}}catch(b){v.e(b)}finally{v.f()}if(l){var _=k(l,t,n,i,o);n.push({subject:g,predicate:s,object:_,graph:i}),n.push({subject:g,predicate:u,object:c,graph:i})}return p}(e["@list"],t,n,i,o);c.termType=S.termType,c.value=S.value}else{var E=u.isObject(e)?e["@id"]:e;c.termType=E.startsWith("_:")?"BlankNode":"NamedNode",c.value=E}return"NamedNode"!==c.termType||w(c.value)?c:null}e.exports=x,x.toRDF=function(e,t){var n=new c.IdentifierIssuer("_:b"),o={"@default":{}};i(e,o,"@default",n);var a,s=[],u=Object.keys(o).sort(),l=r(u);try{for(l.s();!(a=l.n()).done;){var f=a.value,d=void 0;if("@default"===f)d={termType:"DefaultGraph",value:""};else{if(!w(f))continue;(d=f.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"}).value=f}S(s,o[f],d,n,t)}}catch(h){l.e(h)}finally{l.f()}return s}},function(e,t,n){"use strict";e.exports=function e(t){return null===t||"object"!==typeof t||null!=t.toJSON?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((function(t,n,r){return t+(0===r?"":",")+e(void 0===n||"symbol"===typeof n?null:n)}),"")+"]":"{"+Object.keys(t).sort().reduce((function(n,r,i){return void 0===t[r]||"symbol"===typeof t[r]?n:n+(0===n.length?"":",")+e(r)+":"+e(t[r])}),"")+"}"}},function(e,t,n){"use strict";var r=n(30),i=n(65),o=n(18),a=n(50).isKeyword,s=n(39),u=n(29),c=n(31),l=n(42),f=n(32),d=n(68),h=d.createNodeMap,p=d.mergeNodeMapGraphs,g={};function v(e){var t={};for(var n in e)void 0!==e[n]&&(t["@"+n]=[e[n]]);return[t]}function y(e,t,n){for(var r=n.length-1;r>=0;--r){var i=n[r];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function m(e,t,n){var r="@"+n,i=r in e?e[r][0]:t[n];if("embed"===n)if(!0===i)i="@once";else if(!1===i)i="@never";else if("@always"!==i&&"@never"!==i&&"@link"!==i&&"@first"!==i&&"@last"!==i&&"@once"!==i)throw new f("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e});return i}function _(e){if(!u.isArray(e)||1!==e.length||!u.isObject(e[0]))throw new f("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0]){var t,n=o(c.asArray(e[0]["@id"]));try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!u.isObject(r)&&!l.isAbsolute(r)||u.isString(r)&&0===r.indexOf("_:"))throw new f("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}}catch(d){n.e(d)}finally{n.f()}}if("@type"in e[0]){var i,a=o(c.asArray(e[0]["@type"]));try{for(a.s();!(i=a.n()).done;){var s=i.value;if(!u.isObject(s)&&!l.isAbsolute(s)||u.isString(s)&&0===s.indexOf("_:"))throw new f("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}}catch(d){a.e(d)}finally{a.f()}}}function b(e,t,n,r){var i,a={},s=o(t);try{for(s.s();!(i=s.n()).done;){var u=i.value,c=e.graphMap[e.graph][u];w(e,c,n,r)&&(a[u]=c)}}catch(l){s.e(l)}finally{s.f()}return a}function w(e,t,n,r){var i=!0,l=!1;for(var f in n){var d=!1,h=c.getValues(t,f),p=0===c.getValues(n,f).length;if("@id"===f){if(u.isEmptyObject(n["@id"][0]||{})?d=!0:n["@id"].length>=0&&(d=n["@id"].includes(h[0])),!r.requireAll)return d}else if("@type"===f){if(i=!1,p){if(h.length>0)return!1;d=!0}else if(1===n["@type"].length&&u.isEmptyObject(n["@type"][0]))d=h.length>0;else{var g,v=o(n["@type"]);try{var y=function(){var e=g.value;d=!(!u.isObject(e)||!("@default"in e))||(d||h.some((function(t){return t===e})))};for(v.s();!(g=v.n()).done;)y()}catch(b){v.e(b)}finally{v.f()}}if(!r.requireAll)return d}else{if(a(f))continue;var m=function(){var t=c.getValues(n,f)[0],o=!1;if(t&&(_([t]),o="@default"in t),i=!1,0===h.length&&o)return"continue";if(h.length>0&&p)return{v:!1};if(void 0===t){if(h.length>0)return{v:!1};d=!0}else if(s.isList(t)){var a=t["@list"][0];if(s.isList(h[0])){var l=h[0]["@list"];s.isValue(a)?d=l.some((function(e){return P(a,e)})):(s.isSubject(a)||s.isSubjectReference(a))&&(d=l.some((function(t){return E(e,a,t,r)})))}}else d=s.isValue(t)?h.some((function(e){return P(t,e)})):s.isSubjectReference(t)?h.some((function(n){return E(e,t,n,r)})):!!u.isObject(t)&&h.length>0}();if("continue"===m)continue;if("object"===typeof m)return m.v}if(!d&&r.requireAll)return!1;l=l||d}return i||l}function x(e,t){var n=e.uniqueEmbeds[e.graph],r=n[t],i=r.parent,o=r.property,a={"@id":t};if(u.isArray(i)){for(var s=0;s<i.length;++s)if(c.compareValues(i[s],a)){i[s]=a;break}}else{var l=u.isArray(i[o]);c.removeValue(i,o,a,{propertyIsArray:l}),c.addValue(i,o,a,{propertyIsArray:l})}!function e(t){for(var r=0,i=Object.keys(n);r<i.length;r++){var o=i[r];o in n&&u.isObject(n[o].parent)&&n[o].parent["@id"]===t&&(delete n[o],e(o))}}(t)}function S(e,t){if(u.isArray(e))return e.map((function(e){return S(e,t)}));if(u.isObject(e)){if("@preserve"in e)return e["@preserve"][0];if(s.isValue(e))return e;if(s.isList(e))return e["@list"]=S(e["@list"],t),e;if("@id"in e){var n=e["@id"];if(t.link.hasOwnProperty(n)){var r=t.link[n].indexOf(e);if(-1!==r)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(var i in e)"@id"===i&&t.bnodesToClear.includes(e[i])?delete e["@id"]:e[i]=S(e[i],t)}return e}function k(e,t,n){u.isObject(e)?c.addValue(e,t,n,{propertyIsArray:!0}):e.push(n)}function E(e,t,n,r){if(!("@id"in n))return!1;var i=e.subjects[n["@id"]];return i&&w(e,i,t,r)}function P(e,t){var n=t["@value"],r=t["@type"],i=t["@language"],o=e["@value"]?u.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],a=e["@type"]?u.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],s=e["@language"]?u.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===o.length&&0===a.length&&0===s.length||!(!o.includes(n)&&!u.isEmptyObject(o[0]))&&(!!(!r&&0===a.length||a.includes(r)||r&&u.isEmptyObject(a[0]))&&!!(!i&&0===s.length||s.includes(i)||i&&u.isEmptyObject(s[0])))}e.exports=g,g.frameMergedOrDefault=function(e,t,n){var r={options:n,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},i=new c.IdentifierIssuer("_:b");h(e,r.graphMap,"@default",i),n.merged&&(r.graphMap["@merged"]=p(r.graphMap),r.graph="@merged"),r.subjects=r.graphMap[r.graph];var o=[];return g.frame(r,Object.keys(r.subjects).sort(),t,o),n.pruneBlankNodeIdentifiers&&(n.bnodesToClear=Object.keys(r.bnodeMap).filter((function(e){return 1===r.bnodeMap[e].length}))),n.link={},S(o,n)},g.frame=function(e,t,n,l){var d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;_(n),n=n[0];var h=e.options,p={embed:m(n,h,"embed"),explicit:m(n,h,"explicit"),requireAll:m(n,h,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});var w,S=e.link[e.graph],E=b(e,t,n,p),A=Object.keys(E).sort(),O=o(A);try{var C=function(){var _=w.value,b=E[_];if(null===d?e.uniqueEmbeds=i({},e.graph,{}):e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},"@link"===p.embed&&_ in S)return k(l,d,S[_]),"continue";var A={"@id":_};if(0===_.indexOf("_:")&&c.addValue(e.bnodeMap,_,A,{propertyIsArray:!0}),S[_]=A,("@first"===p.embed||"@last"===p.embed)&&e.is11)throw new f("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:n});if(!e.embedded&&e.uniqueEmbeds[e.graph].hasOwnProperty(_))return"continue";if(e.embedded&&("@never"===p.embed||y(b,e.graph,e.subjectStack)))return k(l,d,A),"continue";if(e.embedded&&("@first"==p.embed||"@once"==p.embed)&&e.uniqueEmbeds[e.graph].hasOwnProperty(_))return k(l,d,A),"continue";if("@last"===p.embed&&_ in e.uniqueEmbeds[e.graph]&&x(e,_),e.uniqueEmbeds[e.graph][_]={parent:l,property:d},e.subjectStack.push({subject:b,graph:e.graph}),_ in e.graphMap){var O=!1,C=null;"@graph"in n?(C=n["@graph"][0],O=!("@merged"===_||"@default"===_),u.isObject(C)||(C={})):(O="@merged"!==e.graph,C={}),O&&g.frame(r(r({},e),{},{graph:_,embedded:!1}),Object.keys(e.graphMap[_]).sort(),[C],A,"@graph")}"@included"in n&&g.frame(r(r({},e),{},{embedded:!1}),t,n["@included"],A,"@included");var T,L=o(Object.keys(b).sort());try{for(L.s();!(T=L.n()).done;){var I=T.value;if(a(I)){if(A[I]=c.clone(b[I]),"@type"===I){var j,F=o(b["@type"]);try{for(F.s();!(j=F.n()).done;){var R=j.value;0===R.indexOf("_:")&&c.addValue(e.bnodeMap,R,A,{propertyIsArray:!0})}}catch(ie){F.e(ie)}finally{F.f()}}}else if(!p.explicit||I in n){var N,M=o(b[I]);try{for(M.s();!(N=M.n()).done;){var D=N.value,U=I in n?n[I]:v(p);if(s.isList(D)){var B=n[I]&&n[I][0]&&n[I][0]["@list"]?n[I][0]["@list"]:v(p),H={"@list":[]};k(A,I,H);var z,K=D["@list"],V=o(K);try{for(V.s();!(z=V.n()).done;){var W=z.value;s.isSubjectReference(W)?g.frame(r(r({},e),{},{embedded:!0}),[W["@id"]],B,H,"@list"):k(H,"@list",c.clone(W))}}catch(ie){V.e(ie)}finally{V.f()}}else s.isSubjectReference(D)?g.frame(r(r({},e),{},{embedded:!0}),[D["@id"]],U,A,I):P(U[0],D)&&k(A,I,c.clone(D))}}catch(ie){M.e(ie)}finally{M.f()}}}}catch(ie){L.e(ie)}finally{L.f()}var q,J=o(Object.keys(n).sort());try{for(J.s();!(q=J.n()).done;){var Z=q.value;if("@type"===Z){if(!u.isObject(n[Z][0])||!("@default"in n[Z][0]))continue}else if(a(Z))continue;var G=n[Z][0]||{};if(!m(G,h,"omitDefault")&&!(Z in A)){var Y="@null";"@default"in G&&(Y=c.clone(G["@default"])),u.isArray(Y)||(Y=[Y]),A[Z]=[{"@preserve":Y}]}}}catch(ie){J.e(ie)}finally{J.f()}var $,Q=o(Object.keys(n["@reverse"]||{}).sort());try{for(Q.s();!($=Q.n()).done;)for(var X=$.value,ee=n["@reverse"][X],te=0,ne=Object.keys(e.subjects);te<ne.length;te++){var re=ne[te];c.getValues(e.subjects[re],X).some((function(e){return e["@id"]===_}))&&(A["@reverse"]=A["@reverse"]||{},c.addValue(A["@reverse"],X,[],{propertyIsArray:!0}),g.frame(r(r({},e),{},{embedded:!0}),[re],ee,A["@reverse"][X],d))}}catch(ie){Q.e(ie)}finally{Q.f()}k(l,d,A),e.subjectStack.pop()};for(O.s();!(w=O.n()).done;)C()}catch(T){O.e(T)}finally{O.f()}},g.cleanupNull=function(e,t){if(u.isArray(e))return e.map((function(e){return g.cleanupNull(e,t)})).filter((function(e){return e}));if("@null"===e)return null;if(u.isObject(e)){if("@id"in e){var n=e["@id"];if(t.link.hasOwnProperty(n)){var r=t.link[n].indexOf(e);if(-1!==r)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(var i in e)e[i]=g.cleanupNull(e[i],t)}return e}},function(e,t,n){"use strict";var r=n(38),i=n(0),o=n(215),a=n(65),s=n(18),u=n(8),c=n(32),l=n(29),f=l.isArray,d=l.isObject,h=l.isString,p=l.isUndefined,g=n(39),v=g.isList,y=g.isValue,m=g.isGraph,_=g.isSimpleGraph,b=g.isSubjectReference,w=n(50),x=w.expandIri,S=w.getContextValue,k=w.isKeyword,E=w.process,P=w.processingMode,A=n(42),O=A.removeBase,C=A.prependBase,T=n(31),L=T.addValue,I=T.asArray,j=T.compareShortestLeast,F={};function R(e,t,n){if("@nest"!==x(e,t,{vocab:!0},n))throw new c("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}e.exports=F,F.compact=function(){var e=u(i.mark((function e(t){var n,r,u,l,g,w,x,A,O,C,T,j,N;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.activeCtx,r=t.activeProperty,u=void 0===r?null:r,l=t.element,g=t.options,w=void 0===g?{}:g,x=t.compactionMap,A=void 0===x?function(){}:x,!f(l)){e.next=20;break}O=[],C=0;case 4:if(!(C<l.length)){e.next=18;break}return e.next=7,F.compact({activeCtx:n,activeProperty:u,element:l[C],options:w,compactionMap:A});case 7:if(null!==(T=e.sent)){e.next=14;break}return e.next=11,A({unmappedValue:l[C],activeCtx:n,activeProperty:u,parent:l,index:C,options:w});case 11:if(void 0!==(T=e.sent)){e.next=14;break}return e.abrupt("continue",15);case 14:O.push(T);case 15:++C,e.next=4;break;case 18:return w.compactArrays&&1===O.length&&0===(S(n,u,"@container")||[]).length&&(O=O[0]),e.abrupt("return",O);case 20:if(j=S(n,u,"@context"),p(j)){e.next=25;break}return e.next=24,E({activeCtx:n,localCtx:j,propagate:!0,overrideProtected:!0,options:w});case 24:n=e.sent;case 25:if(!d(l)){e.next=30;break}return e.delegateYield(i.mark((function e(){var t,r,g,x,O,C,T,j,N,M,D,U,B,H,z,K,V,W,q,J,Z,G,Y,$,Q,X,ee,te,ne,re,ie,oe,ae,se,ue,ce,le,fe,de,he,pe,ge,ve,ye,me,_e,be,we,xe,Se,ke,Ee,Pe,Ae,Oe,Ce,Te,Le,Ie,je,Fe,Re,Ne,Me;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(w.link&&"@id"in l&&w.link.hasOwnProperty(l["@id"]))){e.next=9;break}t=w.link[l["@id"]],r=0;case 3:if(!(r<t.length)){e.next=9;break}if(t[r].expanded!==l){e.next=6;break}return e.abrupt("return",{v:t[r].compacted});case 6:++r,e.next=3;break;case 9:if(!y(l)&&!b(l)){e.next=13;break}return g=F.compactValue({activeCtx:n,activeProperty:u,value:l,options:w}),w.link&&b(l)&&(w.link.hasOwnProperty(l["@id"])||(w.link[l["@id"]]=[]),w.link[l["@id"]].push({expanded:l,compacted:g})),e.abrupt("return",{v:g});case 13:if(!v(l)){e.next=17;break}if(!(S(n,u,"@container")||[]).includes("@list")){e.next=17;break}return e.abrupt("return",{v:F.compact({activeCtx:n,activeProperty:u,element:l["@list"],options:w,compactionMap:A})});case 17:if(x="@reverse"===u,O={},C=n,y(l)||b(l)||(n=n.revertToPreviousContext()),T=S(C,u,"@context"),p(T)){e.next=26;break}return e.next=25,E({activeCtx:n,localCtx:T,propagate:!0,overrideProtected:!0,options:w});case 25:n=e.sent;case 26:w.link&&"@id"in l&&(w.link.hasOwnProperty(l["@id"])||(w.link[l["@id"]]=[]),w.link[l["@id"]].push({expanded:l,compacted:O})),(j=l["@type"]||[]).length>1&&(j=Array.from(j).sort()),N=n,M=s(j),e.prev=31,M.s();case 33:if((D=M.n()).done){e.next=43;break}if(U=D.value,B=F.compactIri({activeCtx:N,iri:U,relativeTo:{vocab:!0}}),H=S(C,B,"@context"),p(H)){e.next=41;break}return e.next=40,E({activeCtx:n,localCtx:H,options:w,propagate:!1});case 40:n=e.sent;case 41:e.next=33;break;case 43:e.next=48;break;case 45:e.prev=45,e.t0=e.catch(31),M.e(e.t0);case 48:return e.prev=48,M.f(),e.finish(48);case 51:z=Object.keys(l).sort(),K=s(z),e.prev=53,K.s();case 55:if((V=K.n()).done){e.next=211;break}if(W=V.value,q=l[W],"@id"!==W){e.next=64;break}return 1===(J=I(q).map((function(e){return F.compactIri({activeCtx:n,iri:e,relativeTo:{vocab:!1},base:w.base})}))).length&&(J=J[0]),Z=F.compactIri({activeCtx:n,iri:"@id",relativeTo:{vocab:!0}}),O[Z]=J,e.abrupt("continue",209);case 64:if("@type"!==W){e.next=73;break}return 1===(G=I(q).map((function(e){return F.compactIri({activeCtx:C,iri:e,relativeTo:{vocab:!0}})}))).length&&(G=G[0]),Y=F.compactIri({activeCtx:n,iri:"@type",relativeTo:{vocab:!0}}),$=S(n,Y,"@container")||[],Q=$.includes("@set")&&P(n,1.1),X=Q||f(G)&&0===q.length,L(O,Y,G,{propertyIsArray:X}),e.abrupt("continue",209);case 73:if("@reverse"!==W){e.next=80;break}return e.next=76,F.compact({activeCtx:n,activeProperty:"@reverse",element:q,options:w,compactionMap:A});case 76:for(te in ee=e.sent)n.mappings.has(te)&&n.mappings.get(te).reverse&&(ne=ee[te],re=S(n,te,"@container")||[],ie=re.includes("@set")||!w.compactArrays,L(O,te,ne,{propertyIsArray:ie}),delete ee[te]);return Object.keys(ee).length>0&&(oe=F.compactIri({activeCtx:n,iri:W,relativeTo:{vocab:!0}}),L(O,oe,ee)),e.abrupt("continue",209);case 80:if("@preserve"!==W){e.next=86;break}return e.next=83,F.compact({activeCtx:n,activeProperty:u,element:q,options:w,compactionMap:A});case 83:return ae=e.sent,f(ae)&&0===ae.length||L(O,W,ae),e.abrupt("continue",209);case 86:if("@index"!==W){e.next=93;break}if(!(S(n,u,"@container")||[]).includes("@index")){e.next=90;break}return e.abrupt("continue",209);case 90:return se=F.compactIri({activeCtx:n,iri:W,relativeTo:{vocab:!0}}),L(O,se,q),e.abrupt("continue",209);case 93:if("@graph"===W||"@list"===W||"@included"===W||!k(W)){e.next=97;break}return ue=F.compactIri({activeCtx:n,iri:W,relativeTo:{vocab:!0}}),L(O,ue,q),e.abrupt("continue",209);case 97:if(f(q)){e.next=99;break}throw new c("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");case 99:0===q.length&&(ce=F.compactIri({activeCtx:n,iri:W,value:q,relativeTo:{vocab:!0},reverse:x}),le=n.mappings.has(ce)?n.mappings.get(ce)["@nest"]:null,fe=O,le&&(R(n,le,w),d(O[le])||(O[le]={}),fe=O[le]),L(fe,ce,q,{propertyIsArray:!0})),de=s(q),e.prev=101,de.s();case 103:if((he=de.n()).done){e.next=201;break}return pe=he.value,ge=F.compactIri({activeCtx:n,iri:W,value:pe,relativeTo:{vocab:!0},reverse:x}),ve=n.mappings.has(ge)?n.mappings.get(ge)["@nest"]:null,ye=O,ve&&(R(n,ve,w),d(O[ve])||(O[ve]={}),ye=O[ve]),me=S(n,ge,"@container")||[],_e=m(pe),be=v(pe),we=void 0,be?we=pe["@list"]:_e&&(we=pe["@graph"]),e.next=116,F.compact({activeCtx:n,activeProperty:ge,element:be||_e?we:pe,options:w,compactionMap:A});case 116:if(xe=e.sent,!be){e.next=126;break}if(f(xe)||(xe=[xe]),me.includes("@list")){e.next=124;break}xe=a({},F.compactIri({activeCtx:n,iri:"@list",relativeTo:{vocab:!0}}),xe),"@index"in pe&&(xe[F.compactIri({activeCtx:n,iri:"@index",relativeTo:{vocab:!0}})]=pe["@index"]),e.next=126;break;case 124:return L(ye,ge,xe,{valueIsArray:!0,allowDuplicate:!0}),e.abrupt("continue",199);case 126:if(!_e){e.next=130;break}me.includes("@graph")&&(me.includes("@id")||me.includes("@index")&&_(pe))?(Se=void 0,ye.hasOwnProperty(ge)?Se=ye[ge]:ye[ge]=Se={},ke=(me.includes("@id")?pe["@id"]:pe["@index"])||F.compactIri({activeCtx:n,iri:"@none",relativeTo:{vocab:!0}}),L(Se,ke,xe,{propertyIsArray:!w.compactArrays||me.includes("@set")})):me.includes("@graph")&&_(pe)?(f(xe)&&xe.length>1&&(xe={"@included":xe}),L(ye,ge,xe,{propertyIsArray:!w.compactArrays||me.includes("@set")})):(f(xe)&&1===xe.length&&w.compactArrays&&(xe=xe[0]),xe=a({},F.compactIri({activeCtx:n,iri:"@graph",relativeTo:{vocab:!0}}),xe),"@id"in pe&&(xe[F.compactIri({activeCtx:n,iri:"@id",relativeTo:{vocab:!0}})]=pe["@id"]),"@index"in pe&&(xe[F.compactIri({activeCtx:n,iri:"@index",relativeTo:{vocab:!0}})]=pe["@index"]),L(ye,ge,xe,{propertyIsArray:!w.compactArrays||me.includes("@set")})),e.next=199;break;case 130:if(!(me.includes("@language")||me.includes("@index")||me.includes("@id")||me.includes("@type"))){e.next=197;break}if(Ee=void 0,ye.hasOwnProperty(ge)?Ee=ye[ge]:ye[ge]=Ee={},Pe=void 0,!me.includes("@language")){e.next=139;break}y(xe)&&(xe=xe["@value"]),Pe=pe["@language"],e.next=193;break;case 139:if(!me.includes("@index")){e.next=167;break}if(Ae=S(n,ge,"@index")||"@index",Oe=F.compactIri({activeCtx:n,iri:Ae,relativeTo:{vocab:!0}}),"@index"!==Ae){e.next=147;break}Pe=pe["@index"],delete xe[Oe],e.next=165;break;case 147:if(Ce=void 0,Te=I(xe[Ae]||[]),Le=o(Te),Pe=Le[0],Ce=Le.slice(1),h(Pe)){e.next=156;break}Pe=null,e.next=165;break;case 156:e.t1=Ce.length,e.next=0===e.t1?159:1===e.t1?161:163;break;case 159:return delete xe[Ae],e.abrupt("break",165);case 161:return xe[Ae]=Ce[0],e.abrupt("break",165);case 163:return xe[Ae]=Ce,e.abrupt("break",165);case 165:e.next=193;break;case 167:if(!me.includes("@id")){e.next=173;break}Ie=F.compactIri({activeCtx:n,iri:"@id",relativeTo:{vocab:!0}}),Pe=xe[Ie],delete xe[Ie],e.next=193;break;case 173:if(!me.includes("@type")){e.next=193;break}je=F.compactIri({activeCtx:n,iri:"@type",relativeTo:{vocab:!0}}),Fe=void 0,Re=I(xe[je]||[]),Ne=o(Re),Pe=Ne[0],Fe=Ne.slice(1),e.t2=Fe.length,e.next=0===e.t2?183:1===e.t2?185:187;break;case 183:return delete xe[je],e.abrupt("break",189);case 185:return xe[je]=Fe[0],e.abrupt("break",189);case 187:return xe[je]=Fe,e.abrupt("break",189);case 189:if(1!==Object.keys(xe).length||!("@id"in pe)){e.next=193;break}return e.next=192,F.compact({activeCtx:n,activeProperty:ge,element:{"@id":pe["@id"]},options:w,compactionMap:A});case 192:xe=e.sent;case 193:Pe||(Pe=F.compactIri({activeCtx:n,iri:"@none",relativeTo:{vocab:!0}})),L(Ee,Pe,xe,{propertyIsArray:me.includes("@set")}),e.next=199;break;case 197:Me=!w.compactArrays||me.includes("@set")||me.includes("@list")||f(xe)&&0===xe.length||"@list"===W||"@graph"===W,L(ye,ge,xe,{propertyIsArray:Me});case 199:e.next=103;break;case 201:e.next=206;break;case 203:e.prev=203,e.t3=e.catch(101),de.e(e.t3);case 206:return e.prev=206,de.f(),e.finish(206);case 209:e.next=55;break;case 211:e.next=216;break;case 213:e.prev=213,e.t4=e.catch(53),K.e(e.t4);case 216:return e.prev=216,K.f(),e.finish(216);case 219:return e.abrupt("return",{v:O});case 220:case"end":return e.stop()}}),e,null,[[31,45,48,51],[53,213,216,219],[101,203,206,209]])}))(),"t0",27);case 27:if("object"!==typeof(N=e.t0)){e.next=30;break}return e.abrupt("return",N.v);case 30:return e.abrupt("return",l);case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F.compactIri=function(e){var t=e.activeCtx,n=e.iri,i=e.value,o=void 0===i?null:i,a=e.relativeTo,u=void 0===a?{vocab:!1}:a,l=e.reverse,f=void 0!==l&&l,h=e.base,p=void 0===h?null:h;if(null===n)return n;t.isPropertyTermScoped&&t.previousContext&&(t=t.previousContext);var g=t.getInverse();if(k(n)&&n in g&&"@none"in g[n]&&"@type"in g[n]["@none"]&&"@none"in g[n]["@none"]["@type"])return g[n]["@none"]["@type"]["@none"];if(u.vocab&&n in g){var _=t["@language"]||"@none",b=[];d(o)&&"@index"in o&&!("@graph"in o)&&b.push("@index","@index@set"),d(o)&&"@preserve"in o&&(o=o["@preserve"][0]),m(o)?("@index"in o&&b.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in o&&b.push("@graph@id","@graph@id@set"),b.push("@graph","@graph@set","@set"),"@index"in o||b.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in o||b.push("@graph@id","@graph@id@set")):d(o)&&!y(o)&&b.push("@id","@id@set","@type","@set@type");var w="@language",x="@null";if(f)w="@type",x="@reverse",b.push("@set");else if(v(o)){"@index"in o||b.push("@list");var S=o["@list"];if(0===S.length)w="@any",x="@none";else{for(var E=0===S.length?_:null,P=null,A=0;A<S.length;++A){var T=S[A],L="@none",I="@none";if(y(T))if("@direction"in T){var R=(T["@language"]||"").toLowerCase(),N=T["@direction"];L="".concat(R,"_").concat(N)}else"@language"in T?L=T["@language"].toLowerCase():"@type"in T?I=T["@type"]:L="@null";else I="@id";if(null===E?E=L:L!==E&&y(T)&&(E="@none"),null===P?P=I:I!==P&&(P="@none"),"@none"===E&&"@none"===P)break}E=E||"@none","@none"!==(P=P||"@none")?(w="@type",x=P):x=E}}else{if(y(o))if("@language"in o&&!("@index"in o)){b.push("@language","@language@set"),x=o["@language"];var M=o["@direction"];M&&(x="".concat(x,"_").concat(M))}else"@direction"in o&&!("@index"in o)?x="_".concat(o["@direction"]):"@type"in o&&(w="@type",x=o["@type"]);else w="@type",x="@id";b.push("@set")}b.push("@none"),d(o)&&!("@index"in o)&&b.push("@index","@index@set"),y(o)&&1===Object.keys(o).length&&b.push("@language","@language@set");var D=function(e,t,n,r,i,o){null===o&&(o="@null");var a=[];if(("@id"===o||"@reverse"===o)&&d(n)&&"@id"in n){"@reverse"===o&&a.push("@reverse");var u=F.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:!0}});e.mappings.has(u)&&e.mappings.get(u)&&e.mappings.get(u)["@id"]===n["@id"]?a.push.apply(a,["@vocab","@id"]):a.push.apply(a,["@id","@vocab"])}else{a.push(o);var c=a.find((function(e){return e.includes("_")}));c&&a.push(c.replace(/^[^_]+_/,"_"))}a.push("@none");var l,f=e.inverse[t],h=s(r);try{for(h.s();!(l=h.n()).done;){var p=l.value;if(p in f){var g,v=f[p][i],y=s(a);try{for(y.s();!(g=y.n()).done;){var m=g.value;if(m in v)return v[m]}}catch(_){y.e(_)}finally{y.f()}}}}catch(_){h.e(_)}finally{h.f()}return null}(t,n,o,b,w,x);if(null!==D)return D}if(u.vocab&&"@vocab"in t){var U=t["@vocab"];if(0===n.indexOf(U)&&n!==U){var B=n.substr(U.length);if(!t.mappings.has(B))return B}}for(var H=null,z=[],K=t.fastCurieMap,V=n.length-1,W=0;W<V&&n[W]in K;++W)""in(K=K[n[W]])&&z.push(K[""][0]);for(var q=z.length-1;q>=0;--q){var J,Z=z[q],G=Z.terms,Y=s(G);try{for(Y.s();!(J=Y.n()).done;){var $=J.value,Q=$+":"+n.substr(Z.iri.length);t.mappings.get($)._prefix&&(!t.mappings.has(Q)||null===o&&t.mappings.get(Q)["@id"]===n)&&(null===H||j(Q,H)<0)&&(H=Q)}}catch(ie){Y.e(ie)}finally{Y.f()}}if(null!==H)return H;var X,ee=s(t.mappings);try{for(ee.s();!(X=ee.n()).done;){var te=r(X.value,2),ne=te[0],re=te[1];if(re&&re._prefix&&n.startsWith(ne+":"))throw new c('Absolute IRI "'.concat(n,'" confused with prefix "').concat(ne,'".'),"jsonld.SyntaxError",{code:"IRI confused with prefix",context:t})}}catch(ie){ee.e(ie)}finally{ee.f()}return u.vocab?n:"@base"in t?t["@base"]?O(C(p,t["@base"]),n):n:O(p,n)},F.compactValue=function(e){var t=e.activeCtx,n=e.activeProperty,r=e.value,i=e.options;if(y(r)){var o=S(t,n,"@type"),s=S(t,n,"@language"),u=S(t,n,"@direction"),c=S(t,n,"@container")||[],l="@index"in r&&!c.includes("@index");if(!l&&"@none"!==o){if(r["@type"]===o)return r["@value"];if("@language"in r&&r["@language"]===s&&"@direction"in r&&r["@direction"]===u)return r["@value"];if("@language"in r&&r["@language"]===s)return r["@value"];if("@direction"in r&&r["@direction"]===u)return r["@value"]}var f=Object.keys(r).length,d=1===f||2===f&&"@index"in r&&!l,p="@language"in t,g=h(r["@value"]),v=t.mappings.has(n)&&null===t.mappings.get(n)["@language"];if(d&&"@none"!==o&&(!p||!g||v))return r["@value"];var m={};return l&&(m[F.compactIri({activeCtx:t,iri:"@index",relativeTo:{vocab:!0}})]=r["@index"]),"@type"in r?m[F.compactIri({activeCtx:t,iri:"@type",relativeTo:{vocab:!0}})]=F.compactIri({activeCtx:t,iri:r["@type"],relativeTo:{vocab:!0}}):"@language"in r&&(m[F.compactIri({activeCtx:t,iri:"@language",relativeTo:{vocab:!0}})]=r["@language"]),"@direction"in r&&(m[F.compactIri({activeCtx:t,iri:"@direction",relativeTo:{vocab:!0}})]=r["@direction"]),m[F.compactIri({activeCtx:t,iri:"@value",relativeTo:{vocab:!0}})]=r["@value"],m}var _=x(t,n,{vocab:!0},i),b=S(t,n,"@type"),w=F.compactIri({activeCtx:t,iri:r["@id"],relativeTo:{vocab:"@vocab"===b},base:i.base});return"@id"===b||"@vocab"===b||"@graph"===_?w:a({},F.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}}),w)}},function(e,t,n){var r=n(107),i=n(105),o=n(66),a=n(108);e.exports=function(e){return r(e)||i(e)||o(e)||a()}},function(e,t,n){"use strict";var r=n(6),i=n(7);e.exports=function(e){var t=function(){function e(){r(this,e)}return i(e,[{key:"toString",value:function(){return"[object JsonLdProcessor]"}}]),e}();return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,n){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(t,n)},t.expand=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t}},function(e,t,n){var r=n(218),i=n(252),o=n(257),a=n(258),s=n(259),u=n(127);e.exports=function(e,t,n){var c=-1,l=i,f=e.length,d=!0,h=[],p=h;if(n)d=!1,l=o;else if(f>=200){var g=t?null:s(e);if(g)return u(g);d=!1,l=a,p=new r}else p=t?[]:h;e:for(;++c<f;){var v=e[c],y=t?t(v):v;if(v=n||0!==v?v:0,d&&y===y){for(var m=p.length;m--;)if(p[m]===y)continue e;t&&p.push(y),h.push(v)}else l(p,y,n)||(p!==h&&p.push(y),h.push(v))}return h}},function(e,t,n){var r=n(219),i=n(250),o=n(251);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},function(e,t,n){var r=n(220),i=n(245),o=n(247),a=n(248),s=n(249);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(221),i=n(237),o=n(244);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(e,t,n){var r=n(222),i=n(233),o=n(234),a=n(235),s=n(236);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(69);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t,n){var r=n(224),i=n(229),o=n(126),a=n(231),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:s).test(a(e))}},function(e,t,n){var r=n(225),i=n(126);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){var r=n(125),i=n(227),o=n(228),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(58))},function(e,t,n){var r=n(125),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(230),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},function(e,t,n){var r=n(70)["__core-js_shared__"];e.exports=r},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(69),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(69),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},function(e,t,n){var r=n(69);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(238),i=n(239),o=n(241),a=n(242),s=n(243);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(71),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},function(e,t){e.exports=function(e,t){return e===t||e!==e&&t!==t}},function(e,t,n){var r=n(71);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(71);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(71);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},function(e,t,n){var r=n(90)(n(70),"Map");e.exports=r},function(e,t,n){var r=n(72);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(72);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(72);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(72);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(253);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},function(e,t,n){var r=n(254),i=n(255),o=n(256);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,i,n)}},function(e,t){e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},function(e,t){e.exports=function(e){return e!==e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},function(e,t){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(260),i=n(261),o=n(127),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},function(e,t,n){var r=n(90)(n(70),"Set");e.exports=r},function(e,t){e.exports=function(){}},function(e,t,n){"use strict";n(80);var r=n(2),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},function(e,t,n){},function(e,t,n){},function(e,t,n){!function(e){"use strict";var t=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(e){L.Util.setOptions(this,e),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var t=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,t?this._withAnimation:this._noAnimation),this._markerCluster=t?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(e){if(e instanceof L.LayerGroup)return this.addLayers([e]);if(!e.getLatLng)return this._nonPointGroup.addLayer(e),this.fire("layeradd",{layer:e}),this;if(!this._map)return this._needsClustering.push(e),this.fire("layeradd",{layer:e}),this;if(this.hasLayer(e))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(e,this._maxZoom),this.fire("layeradd",{layer:e}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var t=e,n=this._zoom;if(e.__parent)for(;t.__parent._zoom>=n;)t=t.__parent;return this._currentShownBounds.contains(t.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(e,t):this._animationAddLayerNonAnimated(e,t)),this},removeLayer:function(e){return e instanceof L.LayerGroup?this.removeLayers([e]):e.getLatLng?this._map?e.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(e)),this._removeLayer(e,!0),this.fire("layerremove",{layer:e}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),e.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(e)&&(this._featureGroup.removeLayer(e),e.clusterShow&&e.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,e)&&this.hasLayer(e)&&this._needsRemoving.push({layer:e,latlng:e._latlng}),this.fire("layerremove",{layer:e}),this):(this._nonPointGroup.removeLayer(e),this.fire("layerremove",{layer:e}),this)},addLayers:function(e,t){if(!L.Util.isArray(e))return this.addLayer(e);var n,r=this._featureGroup,i=this._nonPointGroup,o=this.options.chunkedLoading,a=this.options.chunkInterval,s=this.options.chunkProgress,u=e.length,c=0,l=!0;if(this._map){var f=(new Date).getTime(),d=L.bind((function(){var h=(new Date).getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();c<u&&!(o&&c%200===0&&(new Date).getTime()-h>a);c++)if((n=e[c])instanceof L.LayerGroup)l&&(e=e.slice(),l=!1),this._extractNonGroupLayers(n,e),u=e.length;else if(n.getLatLng){if(!this.hasLayer(n)&&(this._addLayer(n,this._maxZoom),t||this.fire("layeradd",{layer:n}),n.__parent&&2===n.__parent.getChildCount())){var p=n.__parent.getAllChildMarkers(),g=p[0]===n?p[1]:p[0];r.removeLayer(g)}}else i.addLayer(n),t||this.fire("layeradd",{layer:n});s&&s(c,u,(new Date).getTime()-f),c===u?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(d,this.options.chunkDelay)}),this);d()}else for(var h=this._needsClustering;c<u;c++)(n=e[c])instanceof L.LayerGroup?(l&&(e=e.slice(),l=!1),this._extractNonGroupLayers(n,e),u=e.length):n.getLatLng?this.hasLayer(n)||h.push(n):i.addLayer(n);return this},removeLayers:function(e){var t,n,r=e.length,i=this._featureGroup,o=this._nonPointGroup,a=!0;if(!this._map){for(t=0;t<r;t++)(n=e[t])instanceof L.LayerGroup?(a&&(e=e.slice(),a=!1),this._extractNonGroupLayers(n,e),r=e.length):(this._arraySplice(this._needsClustering,n),o.removeLayer(n),this.hasLayer(n)&&this._needsRemoving.push({layer:n,latlng:n._latlng}),this.fire("layerremove",{layer:n}));return this}if(this._unspiderfy){this._unspiderfy();var s=e.slice(),u=r;for(t=0;t<u;t++)(n=s[t])instanceof L.LayerGroup?(this._extractNonGroupLayers(n,s),u=s.length):this._unspiderfyLayer(n)}for(t=0;t<r;t++)(n=e[t])instanceof L.LayerGroup?(a&&(e=e.slice(),a=!1),this._extractNonGroupLayers(n,e),r=e.length):n.__parent?(this._removeLayer(n,!0,!0),this.fire("layerremove",{layer:n}),i.hasLayer(n)&&(i.removeLayer(n),n.clusterShow&&n.clusterShow())):(o.removeLayer(n),this.fire("layerremove",{layer:n}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer((function(e){e.off(this._childMarkerEventHandlers,this),delete e.__parent}),this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var e=new L.LatLngBounds;this._topClusterLevel&&e.extend(this._topClusterLevel._bounds);for(var t=this._needsClustering.length-1;t>=0;t--)e.extend(this._needsClustering[t].getLatLng());return e.extend(this._nonPointGroup.getBounds()),e},eachLayer:function(e,t){var n,r,i,o=this._needsClustering.slice(),a=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(o),r=o.length-1;r>=0;r--){for(n=!0,i=a.length-1;i>=0;i--)if(a[i].layer===o[r]){n=!1;break}n&&e.call(t,o[r])}this._nonPointGroup.eachLayer(e,t)},getLayers:function(){var e=[];return this.eachLayer((function(t){e.push(t)})),e},getLayer:function(e){var t=null;return e=parseInt(e,10),this.eachLayer((function(n){L.stamp(n)===e&&(t=n)})),t},hasLayer:function(e){if(!e)return!1;var t,n=this._needsClustering;for(t=n.length-1;t>=0;t--)if(n[t]===e)return!0;for(t=(n=this._needsRemoving).length-1;t>=0;t--)if(n[t].layer===e)return!1;return!(!e.__parent||e.__parent._group!==this)||this._nonPointGroup.hasLayer(e)},zoomToShowLayer:function(e,t){var n=this._map;"function"!==typeof t&&(t=function(){});var r=function r(){!n.hasLayer(e)&&!n.hasLayer(e.__parent)||this._inZoomAnimation||(this._map.off("moveend",r,this),this.off("animationend",r,this),n.hasLayer(e)?t():e.__parent._icon&&(this.once("spiderfied",t,this),e.__parent.spiderfy()))};e._icon&&this._map.getBounds().contains(e.getLatLng())?t():e.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",r,this),this._map.panTo(e.getLatLng())):(this._map.on("moveend",r,this),this.on("animationend",r,this),e.__parent.zoomToBounds())},onAdd:function(e){var t,n,r;if(this._map=e,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(e),this._nonPointGroup.addTo(e),this._gridClusters||this._generateInitialClusters(),this._maxLat=e.options.crs.projection.MAX_LATITUDE,t=0,n=this._needsRemoving.length;t<n;t++)(r=this._needsRemoving[t]).newlatlng=r.layer._latlng,r.layer._latlng=r.latlng;for(t=0,n=this._needsRemoving.length;t<n;t++)r=this._needsRemoving[t],this._removeLayer(r.layer,!0),r.layer._latlng=r.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),n=this._needsClustering,this._needsClustering=[],this.addLayers(n,!0)},onRemove:function(e){e.off("zoomend",this._zoomEnd,this),e.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(e){for(var t=e;t&&!t._icon;)t=t.__parent;return t||null},_arraySplice:function(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return e.splice(n,1),!0},_removeFromGridUnclustered:function(e,t){for(var n=this._map,r=this._gridUnclustered,i=Math.floor(this._map.getMinZoom());t>=i&&r[t].removeObject(e,n.project(e.getLatLng(),t));t--);},_childMarkerDragStart:function(e){e.target.__dragStart=e.target._latlng},_childMarkerMoved:function(e){if(!this._ignoreMove&&!e.target.__dragStart){var t=e.target._popup&&e.target._popup.isOpen();this._moveChild(e.target,e.oldLatLng,e.latlng),t&&e.target.openPopup()}},_moveChild:function(e,t,n){e._latlng=t,this.removeLayer(e),e._latlng=n,this.addLayer(e)},_childMarkerDragEnd:function(e){var t=e.target.__dragStart;delete e.target.__dragStart,t&&this._moveChild(e.target,t,e.target._latlng)},_removeLayer:function(e,t,n){var r=this._gridClusters,i=this._gridUnclustered,o=this._featureGroup,a=this._map,s=Math.floor(this._map.getMinZoom());t&&this._removeFromGridUnclustered(e,this._maxZoom);var u,c=e.__parent,l=c._markers;for(this._arraySplice(l,e);c&&(c._childCount--,c._boundsNeedUpdate=!0,!(c._zoom<s));)t&&c._childCount<=1?(u=c._markers[0]===e?c._markers[1]:c._markers[0],r[c._zoom].removeObject(c,a.project(c._cLatLng,c._zoom)),i[c._zoom].addObject(u,a.project(u.getLatLng(),c._zoom)),this._arraySplice(c.__parent._childClusters,c),c.__parent._markers.push(u),u.__parent=c.__parent,c._icon&&(o.removeLayer(c),n||o.addLayer(u))):c._iconNeedsUpdate=!0,c=c.__parent;delete e.__parent},_isOrIsParent:function(e,t){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},fire:function(e,t,n){if(t&&t.layer instanceof L.MarkerCluster){if(t.originalEvent&&this._isOrIsParent(t.layer._icon,t.originalEvent.relatedTarget))return;e="cluster"+e}L.FeatureGroup.prototype.fire.call(this,e,t,n)},listens:function(e,t){return L.FeatureGroup.prototype.listens.call(this,e,t)||L.FeatureGroup.prototype.listens.call(this,"cluster"+e,t)},_defaultIconCreateFunction:function(e){var t=e.getChildCount(),n=" marker-cluster-";return n+=t<10?"small":t<100?"medium":"large",new L.DivIcon({html:"<div><span>"+t+"</span></div>",className:"marker-cluster"+n,iconSize:new L.Point(40,40)})},_bindEvents:function(){var e=this._map,t=this.options.spiderfyOnMaxZoom,n=this.options.showCoverageOnHover,r=this.options.zoomToBoundsOnClick,i=this.options.spiderfyOnEveryZoom;(t||r||i)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),n&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),e.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(e){var t=e.layer,n=t;if("clusterkeypress"!==e.type||!e.originalEvent||13===e.originalEvent.keyCode){for(;1===n._childClusters.length;)n=n._childClusters[0];n._zoom===this._maxZoom&&n._childCount===t._childCount&&this.options.spiderfyOnMaxZoom?t.spiderfy():this.options.zoomToBoundsOnClick&&t.zoomToBounds(),this.options.spiderfyOnEveryZoom&&t.spiderfy(),e.originalEvent&&13===e.originalEvent.keyCode&&this._map._container.focus()}},_showCoverage:function(e){var t=this._map;this._inZoomAnimation||(this._shownPolygon&&t.removeLayer(this._shownPolygon),e.layer.getChildCount()>2&&e.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(e.layer.getConvexHull(),this.options.polygonOptions),t.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var e=this.options.spiderfyOnMaxZoom,t=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick,r=this.options.spiderfyOnEveryZoom,i=this._map;(e||n||r)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),t&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),i.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var e=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),e),this._currentShownBounds=e}},_generateInitialClusters:function(){var e=Math.ceil(this._map.getMaxZoom()),t=Math.floor(this._map.getMinZoom()),n=this.options.maxClusterRadius,r=n;"function"!==typeof n&&(r=function(){return n}),null!==this.options.disableClusteringAtZoom&&(e=this.options.disableClusteringAtZoom-1),this._maxZoom=e,this._gridClusters={},this._gridUnclustered={};for(var i=e;i>=t;i--)this._gridClusters[i]=new L.DistanceGrid(r(i)),this._gridUnclustered[i]=new L.DistanceGrid(r(i));this._topClusterLevel=new this._markerCluster(this,t-1)},_addLayer:function(e,t){var n,r,i=this._gridClusters,o=this._gridUnclustered,a=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(e),e.on(this._childMarkerEventHandlers,this);t>=a;t--){n=this._map.project(e.getLatLng(),t);var s=i[t].getNearObject(n);if(s)return s._addChild(e),void(e.__parent=s);if(s=o[t].getNearObject(n)){var u=s.__parent;u&&this._removeLayer(s,!1);var c=new this._markerCluster(this,t,s,e);i[t].addObject(c,this._map.project(c._cLatLng,t)),s.__parent=c,e.__parent=c;var l=c;for(r=t-1;r>u._zoom;r--)l=new this._markerCluster(this,r,l),i[r].addObject(l,this._map.project(s.getLatLng(),r));return u._addChild(l),void this._removeFromGridUnclustered(s,t)}o[t].addObject(e,n)}this._topClusterLevel._addChild(e),e.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer((function(e){e instanceof L.MarkerCluster&&e._iconNeedsUpdate&&e._updateIcon()}))},_enqueue:function(e){this._queue.push(e),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var e=0;e<this._queue.length;e++)this._queue[e].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var e=Math.round(this._map._zoom);this._processQueue(),this._zoom<e&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,e)):this._zoom>e?(this._animationStart(),this._animationZoomOut(this._zoom,e)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(e){var t=this._maxLat;return void 0!==t&&(e.getNorth()>=t&&(e._northEast.lat=1/0),e.getSouth()<=-t&&(e._southWest.lat=-1/0)),e},_animationAddLayerNonAnimated:function(e,t){if(t===e)this._featureGroup.addLayer(e);else if(2===t._childCount){t._addToMap();var n=t.getAllChildMarkers();this._featureGroup.removeLayer(n[0]),this._featureGroup.removeLayer(n[1])}else t._updateIcon()},_extractNonGroupLayers:function(e,t){var n,r=e.getLayers(),i=0;for(t=t||[];i<r.length;i++)(n=r[i])instanceof L.LayerGroup?this._extractNonGroupLayers(n,t):t.push(n);return t},_overrideMarkerIcon:function(e){return e.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[e]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(e,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(e,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(e,t){this._animationAddLayerNonAnimated(e,t)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(e,t){var n,r=this._getExpandedVisibleBounds(),i=this._featureGroup,o=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(r,e,o,(function(o){var a,s=o._latlng,u=o._markers;for(r.contains(s)||(s=null),o._isSingleParent()&&e+1===t?(i.removeLayer(o),o._recursivelyAddChildrenToMap(null,t,r)):(o.clusterHide(),o._recursivelyAddChildrenToMap(s,t,r)),n=u.length-1;n>=0;n--)a=u[n],r.contains(a._latlng)||i.removeLayer(a)})),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(r,t),i.eachLayer((function(e){e instanceof L.MarkerCluster||!e._icon||e.clusterShow()})),this._topClusterLevel._recursively(r,e,t,(function(e){e._recursivelyRestoreChildPositions(t)})),this._ignoreMove=!1,this._enqueue((function(){this._topClusterLevel._recursively(r,e,o,(function(e){i.removeLayer(e),e.clusterShow()})),this._animationEnd()}))},_animationZoomOut:function(e,t){this._animationZoomOutSingle(this._topClusterLevel,e-1,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e,this._getExpandedVisibleBounds())},_animationAddLayer:function(e,t){var n=this,r=this._featureGroup;r.addLayer(e),t!==e&&(t._childCount>2?(t._updateIcon(),this._forceLayout(),this._animationStart(),e._setPos(this._map.latLngToLayerPoint(t.getLatLng())),e.clusterHide(),this._enqueue((function(){r.removeLayer(e),e.clusterShow(),n._animationEnd()}))):(this._forceLayout(),n._animationStart(),n._animationZoomOutSingle(t,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(e,t,n){var r=this._getExpandedVisibleBounds(),i=Math.floor(this._map.getMinZoom());e._recursivelyAnimateChildrenInAndAddSelfToMap(r,i,t+1,n);var o=this;this._forceLayout(),e._recursivelyBecomeVisible(r,n),this._enqueue((function(){if(1===e._childCount){var a=e._markers[0];this._ignoreMove=!0,a.setLatLng(a.getLatLng()),this._ignoreMove=!1,a.clusterShow&&a.clusterShow()}else e._recursively(r,n,i,(function(e){e._recursivelyRemoveChildrenFromMap(r,i,t+1)}));o._animationEnd()}))},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(e){return new L.MarkerClusterGroup(e)};var n=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(e,t,n,r){L.Marker.prototype.initialize.call(this,n?n._cLatLng||n.getLatLng():new L.LatLng(0,0),{icon:this,pane:e.options.clusterPane}),this._group=e,this._zoom=t,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,n&&this._addChild(n),r&&this._addChild(r)},getAllChildMarkers:function(e,t){e=e||[];for(var n=this._childClusters.length-1;n>=0;n--)this._childClusters[n].getAllChildMarkers(e,t);for(var r=this._markers.length-1;r>=0;r--)t&&this._markers[r].__dragStart||e.push(this._markers[r]);return e},getChildCount:function(){return this._childCount},zoomToBounds:function(e){for(var t,n=this._childClusters.slice(),r=this._group._map,i=r.getBoundsZoom(this._bounds),o=this._zoom+1,a=r.getZoom();n.length>0&&i>o;){o++;var s=[];for(t=0;t<n.length;t++)s=s.concat(n[t]._childClusters);n=s}i>o?this._group._map.setView(this._latlng,o):i<=a?this._group._map.setView(this._latlng,a+1):this._group._map.fitBounds(this._bounds,e)},getBounds:function(){var e=new L.LatLngBounds;return e.extend(this._bounds),e},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(e,t){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(e),e instanceof L.MarkerCluster?(t||(this._childClusters.push(e),e.__parent=this),this._childCount+=e._childCount):(t||this._markers.push(e),this._childCount++),this.__parent&&this.__parent._addChild(e,!0)},_setClusterCenter:function(e){this._cLatLng||(this._cLatLng=e._cLatLng||e._latlng)},_resetBounds:function(){var e=this._bounds;e._southWest&&(e._southWest.lat=1/0,e._southWest.lng=1/0),e._northEast&&(e._northEast.lat=-1/0,e._northEast.lng=-1/0)},_recalculateBounds:function(){var e,t,n,r,i=this._markers,o=this._childClusters,a=0,s=0,u=this._childCount;if(0!==u){for(this._resetBounds(),e=0;e<i.length;e++)n=i[e]._latlng,this._bounds.extend(n),a+=n.lat,s+=n.lng;for(e=0;e<o.length;e++)(t=o[e])._boundsNeedUpdate&&t._recalculateBounds(),this._bounds.extend(t._bounds),n=t._wLatLng,r=t._childCount,a+=n.lat*r,s+=n.lng*r;this._latlng=this._wLatLng=new L.LatLng(a/u,s/u),this._boundsNeedUpdate=!1}},_addToMap:function(e){e&&(this._backupLatlng=this._latlng,this.setLatLng(e)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(e,t,n){this._recursively(e,this._group._map.getMinZoom(),n-1,(function(e){var n,r,i=e._markers;for(n=i.length-1;n>=0;n--)(r=i[n])._icon&&(r._setPos(t),r.clusterHide())}),(function(e){var n,r,i=e._childClusters;for(n=i.length-1;n>=0;n--)(r=i[n])._icon&&(r._setPos(t),r.clusterHide())}))},_recursivelyAnimateChildrenInAndAddSelfToMap:function(e,t,n,r){this._recursively(e,r,t,(function(i){i._recursivelyAnimateChildrenIn(e,i._group._map.latLngToLayerPoint(i.getLatLng()).round(),n),i._isSingleParent()&&n-1===r?(i.clusterShow(),i._recursivelyRemoveChildrenFromMap(e,t,n)):i.clusterHide(),i._addToMap()}))},_recursivelyBecomeVisible:function(e,t){this._recursively(e,this._group._map.getMinZoom(),t,null,(function(e){e.clusterShow()}))},_recursivelyAddChildrenToMap:function(e,t,n){this._recursively(n,this._group._map.getMinZoom()-1,t,(function(r){if(t!==r._zoom)for(var i=r._markers.length-1;i>=0;i--){var o=r._markers[i];n.contains(o._latlng)&&(e&&(o._backupLatlng=o.getLatLng(),o.setLatLng(e),o.clusterHide&&o.clusterHide()),r._group._featureGroup.addLayer(o))}}),(function(t){t._addToMap(e)}))},_recursivelyRestoreChildPositions:function(e){for(var t=this._markers.length-1;t>=0;t--){var n=this._markers[t];n._backupLatlng&&(n.setLatLng(n._backupLatlng),delete n._backupLatlng)}if(e-1===this._zoom)for(var r=this._childClusters.length-1;r>=0;r--)this._childClusters[r]._restorePosition();else for(var i=this._childClusters.length-1;i>=0;i--)this._childClusters[i]._recursivelyRestoreChildPositions(e)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(e,t,n,r){var i,o;this._recursively(e,t-1,n-1,(function(e){for(o=e._markers.length-1;o>=0;o--)i=e._markers[o],r&&r.contains(i._latlng)||(e._group._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow())}),(function(e){for(o=e._childClusters.length-1;o>=0;o--)i=e._childClusters[o],r&&r.contains(i._latlng)||(e._group._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow())}))},_recursively:function(e,t,n,r,i){var o,a,s=this._childClusters,u=this._zoom;if(t<=u&&(r&&r(this),i&&u===n&&i(this)),u<t||u<n)for(o=s.length-1;o>=0;o--)(a=s[o])._boundsNeedUpdate&&a._recalculateBounds(),e.intersects(a._bounds)&&a._recursively(e,t,n,r,i)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var e=this.options.opacity;return this.setOpacity(0),this.options.opacity=e,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(e){this._cellSize=e,this._sqCellSize=e*e,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(e,t){var n=this._getCoord(t.x),r=this._getCoord(t.y),i=this._grid,o=i[r]=i[r]||{},a=o[n]=o[n]||[],s=L.Util.stamp(e);this._objectPoint[s]=t,a.push(e)},updateObject:function(e,t){this.removeObject(e),this.addObject(e,t)},removeObject:function(e,t){var n,r,i=this._getCoord(t.x),o=this._getCoord(t.y),a=this._grid,s=a[o]=a[o]||{},u=s[i]=s[i]||[];for(delete this._objectPoint[L.Util.stamp(e)],n=0,r=u.length;n<r;n++)if(u[n]===e)return u.splice(n,1),1===r&&delete s[i],!0},eachObject:function(e,t){var n,r,i,o,a,s,u=this._grid;for(n in u)for(r in a=u[n])for(i=0,o=(s=a[r]).length;i<o;i++)e.call(t,s[i])&&(i--,o--)},getNearObject:function(e){var t,n,r,i,o,a,s,u,c=this._getCoord(e.x),l=this._getCoord(e.y),f=this._objectPoint,d=this._sqCellSize,h=null;for(t=l-1;t<=l+1;t++)if(i=this._grid[t])for(n=c-1;n<=c+1;n++)if(o=i[n])for(r=0,a=o.length;r<a;r++)s=o[r],((u=this._sqDist(f[L.Util.stamp(s)],e))<d||u<=d&&null===h)&&(d=u,h=s);return h},_getCoord:function(e){var t=Math.floor(e/this._cellSize);return isFinite(t)?t:e},_sqDist:function(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}},L.QuickHull={getDistant:function(e,t){var n=t[1].lat-t[0].lat;return(t[0].lng-t[1].lng)*(e.lat-t[0].lat)+n*(e.lng-t[0].lng)},findMostDistantPointFromBaseLine:function(e,t){var n,r,i,o=0,a=null,s=[];for(n=t.length-1;n>=0;n--)r=t[n],(i=this.getDistant(r,e))>0&&(s.push(r),i>o&&(o=i,a=r));return{maxPoint:a,newPoints:s}},buildConvexHull:function(e,t){var n=[],r=this.findMostDistantPointFromBaseLine(e,t);return r.maxPoint?n=(n=n.concat(this.buildConvexHull([e[0],r.maxPoint],r.newPoints))).concat(this.buildConvexHull([r.maxPoint,e[1]],r.newPoints)):[e[0]]},getConvexHull:function(e){var t,n=!1,r=!1,i=!1,o=!1,a=null,s=null,u=null,c=null,l=null,f=null;for(t=e.length-1;t>=0;t--){var d=e[t];(!1===n||d.lat>n)&&(a=d,n=d.lat),(!1===r||d.lat<r)&&(s=d,r=d.lat),(!1===i||d.lng>i)&&(u=d,i=d.lng),(!1===o||d.lng<o)&&(c=d,o=d.lng)}return r!==n?(f=s,l=a):(f=c,l=u),[].concat(this.buildConvexHull([f,l],e),this.buildConvexHull([l,f],e))}},L.MarkerCluster.include({getConvexHull:function(){var e,t,n=this.getAllChildMarkers(),r=[];for(t=n.length-1;t>=0;t--)e=n[t].getLatLng(),r.push(e);return L.QuickHull.getConvexHull(r)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var e,t=this.getAllChildMarkers(null,!0),n=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?e=this._group.options.spiderfyShapePositions(t.length,n):t.length>=this._circleSpiralSwitchover?e=this._generatePointsSpiral(t.length,n):(n.y+=10,e=this._generatePointsCircle(t.length,n)),this._animationSpiderfy(t,e)}},unspiderfy:function(e){this._group._inZoomAnimation||(this._animationUnspiderfy(e),this._group._spiderfied=null)},_generatePointsCircle:function(e,t){var n,r,i=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+e)/this._2PI,o=this._2PI/e,a=[];for(i=Math.max(i,35),a.length=e,n=0;n<e;n++)r=this._circleStartAngle+n*o,a[n]=new L.Point(t.x+i*Math.cos(r),t.y+i*Math.sin(r))._round();return a},_generatePointsSpiral:function(e,t){var n,r=this._group.options.spiderfyDistanceMultiplier,i=r*this._spiralLengthStart,o=r*this._spiralFootSeparation,a=r*this._spiralLengthFactor*this._2PI,s=0,u=[];for(u.length=e,n=e;n>=0;n--)n<e&&(u[n]=new L.Point(t.x+i*Math.cos(s),t.y+i*Math.sin(s))._round()),i+=a/(s+=o/i+5e-4*n);return u},_noanimationUnspiderfy:function(){var e,t,n=this._group,r=n._map,i=n._featureGroup,o=this.getAllChildMarkers(null,!0);for(n._ignoreMove=!0,this.setOpacity(1),t=o.length-1;t>=0;t--)e=o[t],i.removeLayer(e),e._preSpiderfyLatlng&&(e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng),e.setZIndexOffset&&e.setZIndexOffset(0),e._spiderLeg&&(r.removeLayer(e._spiderLeg),delete e._spiderLeg);n.fire("unspiderfied",{cluster:this,markers:o}),n._ignoreMove=!1,n._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(e,t){var n,r,i,o,a=this._group,s=a._map,u=a._featureGroup,c=this._group.options.spiderLegPolylineOptions;for(a._ignoreMove=!0,n=0;n<e.length;n++)o=s.layerPointToLatLng(t[n]),r=e[n],i=new L.Polyline([this._latlng,o],c),s.addLayer(i),r._spiderLeg=i,r._preSpiderfyLatlng=r._latlng,r.setLatLng(o),r.setZIndexOffset&&r.setZIndexOffset(1e6),u.addLayer(r);this.setOpacity(.3),a._ignoreMove=!1,a.fire("spiderfied",{cluster:this,markers:e})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(e,t){var n,r,i,o,a,s,u=this,c=this._group,l=c._map,f=c._featureGroup,d=this._latlng,h=l.latLngToLayerPoint(d),p=L.Path.SVG,g=L.extend({},this._group.options.spiderLegPolylineOptions),v=g.opacity;for(void 0===v&&(v=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),p?(g.opacity=0,g.className=(g.className||"")+" leaflet-cluster-spider-leg"):g.opacity=v,c._ignoreMove=!0,n=0;n<e.length;n++)r=e[n],s=l.layerPointToLatLng(t[n]),i=new L.Polyline([d,s],g),l.addLayer(i),r._spiderLeg=i,p&&(a=(o=i._path).getTotalLength()+.1,o.style.strokeDasharray=a,o.style.strokeDashoffset=a),r.setZIndexOffset&&r.setZIndexOffset(1e6),r.clusterHide&&r.clusterHide(),f.addLayer(r),r._setPos&&r._setPos(h);for(c._forceLayout(),c._animationStart(),n=e.length-1;n>=0;n--)s=l.layerPointToLatLng(t[n]),(r=e[n])._preSpiderfyLatlng=r._latlng,r.setLatLng(s),r.clusterShow&&r.clusterShow(),p&&((o=(i=r._spiderLeg)._path).style.strokeDashoffset=0,i.setStyle({opacity:v}));this.setOpacity(.3),c._ignoreMove=!1,setTimeout((function(){c._animationEnd(),c.fire("spiderfied",{cluster:u,markers:e})}),200)},_animationUnspiderfy:function(e){var t,n,r,i,o,a,s=this,u=this._group,c=u._map,l=u._featureGroup,f=e?c._latLngToNewLayerPoint(this._latlng,e.zoom,e.center):c.latLngToLayerPoint(this._latlng),d=this.getAllChildMarkers(null,!0),h=L.Path.SVG;for(u._ignoreMove=!0,u._animationStart(),this.setOpacity(1),n=d.length-1;n>=0;n--)(t=d[n])._preSpiderfyLatlng&&(t.closePopup(),t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng,a=!0,t._setPos&&(t._setPos(f),a=!1),t.clusterHide&&(t.clusterHide(),a=!1),a&&l.removeLayer(t),h&&(o=(i=(r=t._spiderLeg)._path).getTotalLength()+.1,i.style.strokeDashoffset=o,r.setStyle({opacity:0})));u._ignoreMove=!1,setTimeout((function(){var e=0;for(n=d.length-1;n>=0;n--)(t=d[n])._spiderLeg&&e++;for(n=d.length-1;n>=0;n--)(t=d[n])._spiderLeg&&(t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),e>1&&l.removeLayer(t),c.removeLayer(t._spiderLeg),delete t._spiderLeg);u._animationEnd(),u.fire("unspiderfied",{cluster:s,markers:d})}),200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(e){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(e))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(e){this._spiderfied&&this._spiderfied.unspiderfy(e)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(e){e._spiderLeg&&(this._featureGroup.removeLayer(e),e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),this._map.removeLayer(e._spiderLeg),delete e._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(e){return e?e instanceof L.MarkerClusterGroup?e=e._topClusterLevel.getAllChildMarkers():e instanceof L.LayerGroup?e=e._layers:e instanceof L.MarkerCluster?e=e.getAllChildMarkers():e instanceof L.Marker&&(e=[e]):e=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(e),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(e),this},_flagParentsIconsNeedUpdate:function(e){var t,n;for(t in e)for(n=e[t].__parent;n;)n._iconNeedsUpdate=!0,n=n.__parent},_refreshSingleMarkerModeMarkers:function(e){var t,n;for(t in e)n=e[t],this.hasLayer(n)&&n.setIcon(this._overrideMarkerIcon(n))}}),L.Marker.include({refreshIconOptions:function(e,t){var n=this.options.icon;return L.setOptions(n,e),this.setIcon(n),t&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),e.MarkerClusterGroup=t,e.MarkerCluster=n,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2),a=p(o),s=p(n(51)),u=p(n(43)),c=p(n(268)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(129)),f=n(91),d=p(f),h=n(275);function p(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var y=t.portalClassName="ReactModalPortal",m=t.bodyOpenClassName="ReactModal__Body--open",_=f.canUseDOM&&void 0!==s.default.createPortal,b=function(e){return document.createElement(e)},w=function(){return _?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function x(e){return e()}var S=function(e){function t(){var e,n,i;g(this,t);for(var o=arguments.length,u=Array(o),l=0;l<o;l++)u[l]=arguments[l];return n=i=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),i.removePortal=function(){!_&&s.default.unmountComponentAtNode(i.node);var e=x(i.props.parentSelector);e&&e.contains(i.node)?e.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(e){i.portal=e},i.renderPortal=function(e){var n=w()(i,a.default.createElement(c.default,r({defaultStyles:t.defaultStyles},e)),i.node);i.portalRef(n)},v(i,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){f.canUseDOM&&(_||(this.node=b("div")),this.node.className=this.props.portalClassName,x(this.props.parentSelector).appendChild(this.node),!_&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:x(e.parentSelector),nextParent:x(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(f.canUseDOM){var r=this.props,i=r.isOpen,o=r.portalClassName;e.portalClassName!==o&&(this.node.className=o);var a=n.prevParent,s=n.nextParent;s!==a&&(a.removeChild(this.node),s.appendChild(this.node)),(e.isOpen||i)&&!_&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(f.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return f.canUseDOM&&_?(!this.node&&_&&(this.node=b("div")),w()(a.default.createElement(c.default,r({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){l.setElement(e)}}]),t}(o.Component);S.propTypes={isOpen:u.default.bool.isRequired,style:u.default.shape({content:u.default.object,overlay:u.default.object}),portalClassName:u.default.string,bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,className:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),overlayClassName:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),appElement:u.default.oneOfType([u.default.instanceOf(d.default),u.default.instanceOf(f.SafeHTMLCollection),u.default.instanceOf(f.SafeNodeList),u.default.arrayOf(u.default.instanceOf(d.default))]),onAfterOpen:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,ariaHideApp:u.default.bool,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,preventScroll:u.default.bool,parentSelector:u.default.func,aria:u.default.object,data:u.default.object,role:u.default.string,contentLabel:u.default.string,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func,id:u.default.string,overlayElement:u.default.func,contentElement:u.default.func},S.defaultProps={isOpen:!1,portalClassName:y,bodyOpenClassName:m,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,t){return a.default.createElement("div",e,t)},contentElement:function(e,t){return a.default.createElement("div",e,t)}},S.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,h.polyfill)(S),t.default=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2),s=v(n(43)),u=g(n(269)),c=v(n(270)),l=g(n(129)),f=g(n(273)),d=n(91),h=v(d),p=v(n(130));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e){return e&&e.__esModule?e:{default:e}}n(274);var y={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},m=0,_=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,r=e.ariaHideApp,i=e.htmlOpenClassName,o=e.bodyOpenClassName;o&&f.remove(document.body,o),i&&f.remove(document.getElementsByTagName("html")[0],i),r&&m>0&&0===(m-=1)&&l.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(u.returnFocus(n.props.preventScroll),u.teardownScopedFocus()):u.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),p.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(u.setupScopedFocus(n.node),u.markForFocusLater()),n.setState({isOpen:!0},(function(){n.openAnimationFrame=requestAnimationFrame((function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})}))})))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus({preventScroll:!0})},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},(function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())}))},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){9===e.keyCode&&(0,c.default)(n.content,e),n.props.shouldCloseOnEsc&&27===e.keyCode&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var r="object"===("undefined"===typeof t?"undefined":i(t))?t:{base:y[e],afterOpen:y[e]+"--after-open",beforeClose:y[e]+"--before-close"},o=r.base;return n.state.afterOpen&&(o=o+" "+r.afterOpen),n.state.beforeClose&&(o=o+" "+r.beforeClose),"string"===typeof t&&t?o+" "+t:o},n.attributesFromObject=function(e,t){return Object.keys(t).reduce((function(n,r){return n[e+"-"+r]=t[r],n}),{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,r=e.htmlOpenClassName,i=e.bodyOpenClassName;i&&f.add(document.body,i),r&&f.add(document.getElementsByTagName("html")[0],r),n&&(m+=1,l.hide(t)),p.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,i=e.overlayClassName,o=e.defaultStyles,a=e.children,s=n?{}:o.content,u=i?{}:o.overlay;if(this.shouldBeClosed())return null;var c={ref:this.setOverlayRef,className:this.buildClassName("overlay",i),style:r({},u,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},l=r({id:t,ref:this.setContentRef,style:r({},s,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",r({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),f=this.props.contentElement(l,a);return this.props.overlayElement(c,f)}}]),t}(a.Component);_.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},_.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(h.default),s.default.instanceOf(d.SafeHTMLCollection),s.default.instanceOf(d.SafeNodeList),s.default.arrayOf(s.default.instanceOf(h.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},t.default=_,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){a=[]},t.log=function(){return void 0;console.log("focusManager ----------"),a.forEach((function(e){var t=e||{};console.log(t.nodeName,t.className,t.id)})),console.log("end focusManager ----------")},t.handleBlur=c,t.handleFocus=l,t.markForFocusLater=function(){a.push(document.activeElement)},t.returnFocus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=null;try{return void(0!==a.length&&(t=a.pop()).focus({preventScroll:e}))}catch(n){console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){a.length>0&&a.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",c,!1),document.addEventListener("focus",l,!0)):(window.attachEvent("onBlur",c),document.attachEvent("onFocus",l))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",c),document.removeEventListener("focus",l)):(window.detachEvent("onBlur",c),document.detachEvent("onFocus",l))};var r,i=n(128),o=(r=i)&&r.__esModule?r:{default:r};var a=[],s=null,u=!1;function c(){u=!0}function l(){if(u){if(u=!1,!s)return;setTimeout((function(){s.contains(document.activeElement)||((0,o.default)(s)[0]||s).focus()}),0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,o.default)(e);if(!n.length)return void t.preventDefault();var r=void 0,i=t.shiftKey,a=n[0],s=n[n.length-1];if(e===document.activeElement){if(!i)return;r=s}s!==document.activeElement||i||(r=a);a===document.activeElement&&i&&(r=s);if(r)return t.preventDefault(),void r.focus();var u=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==u||"Chrome"==u[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var c=n.indexOf(document.activeElement);c>-1&&(c+=i?-1:1);if("undefined"===typeof(r=n[c]))return t.preventDefault(),void(r=i?s:a).focus();t.preventDefault(),r.focus()};var r,i=n(128),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){var r;!function(){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),o={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){var e=document.getElementsByTagName("html")[0];for(var t in r)o(e,r[t]);var n=document.body;for(var a in i)o(n,i[a]);r={},i={}},t.log=function(){return void 0;var e=document.getElementsByTagName("html")[0].className,t="Show tracked classes:\n\n";for(var n in t+="<html /> ("+e+"):\n",r)t+="  "+n+" "+r[n]+"\n";for(var o in e=document.body.className,t+="\n\ndoc.body ("+e+"):\n",i)t+="  "+o+" "+i[o]+"\n";t+="\n",console.log(t)};var r={},i={};function o(e,t){e.classList.remove(t)}t.add=function(e,t){return n=e.classList,o="html"==e.nodeName.toLowerCase()?r:i,void t.split(" ").forEach((function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(o,e),n.add(e)}));var n,o},t.remove=function(e,t){return n=e.classList,o="html"==e.nodeName.toLowerCase()?r:i,void t.split(" ").forEach((function(e){!function(e,t){e[t]&&(e[t]-=1)}(o,e),0===o[e]&&n.remove(e)}));var n,o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){for(var e=[a,s],t=0;t<e.length;t++){var n=e[t];n&&(n.parentNode&&n.parentNode.removeChild(n))}a=s=null,u=[]},t.log=function(){console.log("bodyTrap ----------"),console.log(u.length);for(var e=[a,s],t=0;t<e.length;t++){var n=e[t]||{};console.log(n.nodeName,n.className,n.id)}console.log("edn bodyTrap ----------")};var r,i=n(130),o=(r=i)&&r.__esModule?r:{default:r};var a=void 0,s=void 0,u=[];function c(){0!==u.length&&u[u.length-1].focusContent()}o.default.subscribe((function(e,t){a||s||((a=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),a.style.position="absolute",a.style.opacity="0",a.setAttribute("tabindex","0"),a.addEventListener("focus",c),(s=a.cloneNode()).addEventListener("focus",c)),(u=t).length>0?(document.body.firstChild!==a&&document.body.insertBefore(a,document.body.firstChild),document.body.lastChild!==s&&document.body.appendChild(s)):(a.parentElement&&a.parentElement.removeChild(a),s.parentElement&&s.parentElement.removeChild(s))}))},function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var u=e.displayName||e.name,c="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var l=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,e,t,r)}}return e}n.r(t),n.d(t,"polyfill",(function(){return a})),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},,function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(47),i=n(5),o=n(17),a=n(21),s=n(2),u=n.n(s),c=["children","className","id","placeholder","style","whenCreated"];function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function f(e){var t=e.children,n=e.className,f=e.id,d=e.placeholder,h=e.style,p=e.whenCreated,g=Object(r.a)(e,c),v=Object(s.useRef)(null),y=function(e,t){var n=Object(s.useState)(null),r=Object(i.a)(n,2),o=r[0],u=r[1];return Object(s.useEffect)((function(){if(null!==e.current&&null===o){var n=new a.Map(e.current,t);null!=t.center&&null!=t.zoom?n.setView(t.center,t.zoom):null!=t.bounds&&n.fitBounds(t.bounds,t.boundsOptions),null!=t.whenReady&&n.whenReady(t.whenReady),u(n)}}),[e,o,t]),o}(v,g),m=Object(s.useRef)(!1);Object(s.useEffect)((function(){null!=y&&!1===m.current&&null!=p&&(m.current=!0,p(y))}),[y,p]);var _=Object(s.useState)({className:n,id:f,style:h}),b=Object(i.a)(_,1)[0],w=Object(s.useMemo)((function(){return y?{__version:o.a,map:y}:null}),[y]),x=w?u.a.createElement(o.c,{value:w},t):null!==d&&void 0!==d?d:null;return u.a.createElement("div",l({},b,{ref:v}),x)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(47),i=n(40),o=n(41),a=n(94),s=n(21),u=["url"],c=Object(i.e)((function(e,t){var n=e.url,i=Object(r.a)(e,u);return{instance:new s.TileLayer(n,Object(o.a)(i,t)),context:t}}),a.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(20),i=n(47),o=n(40),a=n(21),s=["position"],u=Object(o.b)((function(e,t){var n=e.position,o=Object(i.a)(e,s),u=new a.Marker(n,o);return{instance:u,context:Object(r.a)(Object(r.a)({},t),{},{overlayContainer:u})}}),(function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(40),i=n(21),o=n(2),a=Object(r.c)((function(e,t){return{instance:new i.Popup(e,t.overlayContainer),context:t}}),(function(e,t,n,r){var i=n.onClose,a=n.onOpen,s=n.position;Object(o.useEffect)((function(){var n=e.instance;function o(e){e.popup===n&&(n.update(),r(!0),null==a||a())}function u(e){e.popup===n&&(r(!1),null==i||i())}return t.map.on({popupopen:o,popupclose:u}),null==t.overlayContainer?(null!=s&&n.setLatLng(s),n.openOn(t.map)):t.overlayContainer.bindPopup(n),function(){var e;t.map.off({popupopen:o,popupclose:u}),null==(e=t.overlayContainer)||e.unbindPopup(),t.map.removeLayer(n)}}),[e,t,r,i,a,s])}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n(17),i=n(2);function o(){return Object(r.d)().map}function a(e,t){var n=o();return Object(i.useEffect)((function(){return n.on(e,t),function(){n.off(e,t)}}),[n,e,t]),n}}]]);
//# sourceMappingURL=2.331b50dc.chunk.js.map